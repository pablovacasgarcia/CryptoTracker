var EO=Object.defineProperty,IO=Object.defineProperties;var CO=Object.getOwnPropertyDescriptors;var KI=Object.getOwnPropertySymbols,DO=Object.getPrototypeOf,TO=Object.prototype.hasOwnProperty,SO=Object.prototype.propertyIsEnumerable,xO=Reflect.get;var YI=(t,e,n)=>e in t?EO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N=(t,e)=>{for(var n in e||={})TO.call(e,n)&&YI(t,n,e[n]);if(KI)for(var n of KI(e))SO.call(e,n)&&YI(t,n,e[n]);return t},ve=(t,e)=>IO(t,CO(e));var ii=(t,e,n)=>xO(DO(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(l){i(l)}},o=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var QI=null;var Ug=1;function tn(t){let e=QI;return QI=t,e}var XI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function AO(t){if(!(Hg(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ug)){if(!t.producerMustRecompute(t)&&!Bg(t)){t.dirty=!1,t.lastCleanEpoch=Ug;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ug}}function JI(t){return t&&(t.nextProducerIndex=0),tn(t)}function ZI(t,e){if(tn(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Hg(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)$g(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Bg(t){Ku(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(AO(n),r!==n.version))return!0}return!1}function eC(t){if(Ku(t),Hg(t))for(let e=0;e<t.producerNode.length;e++)$g(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function $g(t,e){if(MO(t),Ku(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)$g(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ku(i),i.producerIndexOfThis[r]=e}}function Hg(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ku(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function MO(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function RO(){throw new Error}var PO=RO;function tC(t){PO=t}function X(t){return typeof t=="function"}function po(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Yu=po(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function is(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ge=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(s){e=s instanceof Yu?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{nC(s)}catch(o){e=e??[],o instanceof Yu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Yu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)nC(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&is(n,e)}remove(e){let{_finalizers:n}=this;n&&is(n,e),e instanceof t&&e._removeParent(this)}};Ge.EMPTY=(()=>{let t=new Ge;return t.closed=!0,t})();var zg=Ge.EMPTY;function Qu(t){return t instanceof Ge||t&&"closed"in t&&X(t.remove)&&X(t.add)&&X(t.unsubscribe)}function nC(t){X(t)?t():t.unsubscribe()}var Cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var go={setTimeout(t,e,...n){let{delegate:r}=go;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=go;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Xu(t){go.setTimeout(()=>{let{onUnhandledError:e}=Cn;if(e)e(t);else throw t})}function mc(){}var rC=(()=>qg("C",void 0,void 0))();function iC(t){return qg("E",void 0,t)}function sC(t){return qg("N",t,void 0)}function qg(t,e,n){return{kind:t,value:e,error:n}}var ss=null;function mo(t){if(Cn.useDeprecatedSynchronousErrorHandling){let e=!ss;if(e&&(ss={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ss;if(ss=null,n)throw r}}else t()}function oC(t){Cn.useDeprecatedSynchronousErrorHandling&&ss&&(ss.errorThrown=!0,ss.error=t)}var os=class extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Qu(e)&&e.add(this)):this.destination=OO}static create(e,n,r){return new yo(e,n,r)}next(e){this.isStopped?Gg(sC(e),this):this._next(e)}error(e){this.isStopped?Gg(iC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gg(rC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},kO=Function.prototype.bind;function Wg(t,e){return kO.call(t,e)}var Kg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ju(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ju(r)}else Ju(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ju(n)}}},yo=class extends os{constructor(e,n,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Cn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Wg(e.next,s),error:e.error&&Wg(e.error,s),complete:e.complete&&Wg(e.complete,s)}):i=e}this.destination=new Kg(i)}};function Ju(t){Cn.useDeprecatedSynchronousErrorHandling?oC(t):Xu(t)}function NO(t){throw t}function Gg(t,e){let{onStoppedNotification:n}=Cn;n&&go.setTimeout(()=>n(t,e))}var OO={closed:!0,next:mc,error:NO,complete:mc};var _o=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function nn(t){return t}function Yg(...t){return Qg(t)}function Qg(t){return t.length===0?nn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var de=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=LO(n)?n:new yo(n,r,i);return mo(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=aC(r),new r((i,s)=>{let o=new yo({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[_o](){return this}pipe(...n){return Qg(n)(this)}toPromise(n){return n=aC(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function aC(t){var e;return(e=t??Cn.Promise)!==null&&e!==void 0?e:Promise}function FO(t){return t&&X(t.next)&&X(t.error)&&X(t.complete)}function LO(t){return t&&t instanceof os||FO(t)&&Qu(t)}function Xg(t){return X(t?.lift)}function ge(t){return e=>{if(Xg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(t,e,n,r,i){return new Jg(t,e,n,r,i)}var Jg=class extends os{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function vo(){return ge((t,e)=>{let n=null;t._refCount++;let r=he(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var wo=class extends de{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Xg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ge;let n=this.getSubject();e.add(this.source.subscribe(he(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ge.EMPTY)}return e}refCount(){return vo()(this)}};var cC=po(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Bt=(()=>{class t extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Zu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new cC}next(n){mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?zg:(this.currentObservers=null,s.push(n),new Ge(()=>{this.currentObservers=null,is(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new de;return n.source=this,n}}return t.create=(e,n)=>new Zu(e,n),t})(),Zu=class extends Bt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:zg}};var yt=class extends Bt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Zg={now(){return(Zg.delegate||Date).now()},delegate:void 0};var ed=class extends Ge{constructor(e,n){super()}schedule(e,n=0){return this}};var yc={setInterval(t,e,...n){let{delegate:r}=yc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=yc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var bo=class extends ed{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return yc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&yc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,is(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Eo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Eo.now=Zg.now;var Io=class extends Eo{constructor(e,n=Eo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var em=new Io(bo);var td=class extends bo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var nd=class extends Io{};var tm=new nd(td);var dn=new de(t=>t.complete());function lC(t){return t&&X(t.schedule)}function uC(t){return t[t.length-1]}function rd(t){return X(uC(t))?t.pop():void 0}function si(t){return lC(uC(t))?t.pop():void 0}function id(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function hC(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function dC(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function as(t){return this instanceof as?(this.v=t,this):new as(t)}function fC(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){h.value instanceof as?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function pC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof dC=="function"?dC(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var sd=t=>t&&typeof t.length=="number"&&typeof t!="function";function od(t){return X(t?.then)}function ad(t){return X(t[_o])}function cd(t){return Symbol.asyncIterator&&X(t?.[Symbol.asyncIterator])}function ld(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function VO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ud=VO();function dd(t){return X(t?.[ud])}function hd(t){return fC(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield as(n.read());if(i)return yield as(void 0);yield yield as(r)}}finally{n.releaseLock()}})}function fd(t){return X(t?.getReader)}function Xe(t){if(t instanceof de)return t;if(t!=null){if(ad(t))return jO(t);if(sd(t))return UO(t);if(od(t))return BO(t);if(cd(t))return gC(t);if(dd(t))return $O(t);if(fd(t))return HO(t)}throw ld(t)}function jO(t){return new de(e=>{let n=t[_o]();if(X(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function UO(t){return new de(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function BO(t){return new de(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Xu)})}function $O(t){return new de(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function gC(t){return new de(e=>{zO(t,e).catch(n=>e.error(n))})}function HO(t){return gC(hd(t))}function zO(t,e){var n,r,i,s;return hC(this,void 0,void 0,function*(){try{for(n=pC(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function $t(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function oi(t,e=0){return ge((n,r)=>{n.subscribe(he(r,i=>$t(r,t,()=>r.next(i),e),()=>$t(r,t,()=>r.complete(),e),i=>$t(r,t,()=>r.error(i),e)))})}function ai(t,e=0){return ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function mC(t,e){return Xe(t).pipe(ai(e),oi(e))}function yC(t,e){return Xe(t).pipe(ai(e),oi(e))}function _C(t,e){return new de(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function vC(t,e){return new de(n=>{let r;return $t(n,e,()=>{r=t[ud](),$t(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function pd(t,e){if(!t)throw new Error("Iterable cannot be null");return new de(n=>{$t(n,e,()=>{let r=t[Symbol.asyncIterator]();$t(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function wC(t,e){return pd(hd(t),e)}function bC(t,e){if(t!=null){if(ad(t))return mC(t,e);if(sd(t))return _C(t,e);if(od(t))return yC(t,e);if(cd(t))return pd(t,e);if(dd(t))return vC(t,e);if(fd(t))return wC(t,e)}throw ld(t)}function Ae(t,e){return e?bC(t,e):Xe(t)}function z(...t){let e=si(t);return Ae(t,e)}function Co(t,e){let n=X(t)?t:()=>t,r=i=>i.error(n());return new de(e?i=>e.schedule(r,0,i):r)}function nm(t){return!!t&&(t instanceof de||X(t.lift)&&X(t.subscribe))}var Tr=po(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function re(t,e){return ge((n,r)=>{let i=0;n.subscribe(he(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:qO}=Array;function WO(t,e){return qO(e)?t(...e):t(e)}function gd(t){return re(e=>WO(t,e))}var{isArray:GO}=Array,{getPrototypeOf:KO,prototype:YO,keys:QO}=Object;function md(t){if(t.length===1){let e=t[0];if(GO(e))return{args:e,keys:null};if(XO(e)){let n=QO(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function XO(t){return t&&typeof t=="object"&&KO(t)===YO}function yd(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function _c(...t){let e=si(t),n=rd(t),{args:r,keys:i}=md(t);if(r.length===0)return Ae([],e);let s=new de(JO(r,e,i?o=>yd(i,o):nn));return n?s.pipe(gd(n)):s}function JO(t,e,n=nn){return r=>{EC(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)EC(e,()=>{let l=Ae(t[c],e),u=!1;l.subscribe(he(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function EC(t,e,n){t?$t(n,t,e):e()}function IC(t,e,n,r,i,s,o,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=m=>l<r?p(m):c.push(m),p=m=>{s&&e.next(m),l++;let g=!1;Xe(n(m,u++)).subscribe(he(e,y=>{i?.(y),s?f(y):e.next(y)},()=>{g=!0},void 0,()=>{if(g)try{for(l--;c.length&&l<r;){let y=c.shift();o?$t(e,o,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return t.subscribe(he(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Je(t,e,n=1/0){return X(e)?Je((r,i)=>re((s,o)=>e(r,s,i,o))(Xe(t(r,i))),n):(typeof e=="number"&&(n=e),ge((r,i)=>IC(r,i,t,n)))}function ci(t=1/0){return Je(nn,t)}function CC(){return ci(1)}function Do(...t){return CC()(Ae(t,si(t)))}function _d(t){return new de(e=>{Xe(t()).subscribe(e)})}function rm(...t){let e=rd(t),{args:n,keys:r}=md(t),i=new de(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let u=0;u<o;u++){let d=!1;Xe(n[u]).subscribe(he(s,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?yd(r,a):a),s.complete())}))}});return e?i.pipe(gd(e)):i}function Ht(t,e){return ge((n,r)=>{let i=0;n.subscribe(he(r,s=>t.call(e,s,i++)&&r.next(s)))})}function li(t){return ge((e,n)=>{let r=null,i=!1,s;r=e.subscribe(he(n,void 0,void 0,o=>{s=Xe(t(o,li(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function DC(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(he(o,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Sr(t,e){return X(e)?Je(t,e,1):Je(t,1)}function ui(t){return ge((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function xr(t){return t<=0?()=>dn:ge((e,n)=>{let r=0;e.subscribe(he(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function im(t){return re(()=>t)}function vd(t=ZO){return ge((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function ZO(){return new Tr}function di(t){return ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Un(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ht((i,s)=>t(i,s,r)):nn,xr(1),n?ui(e):vd(()=>new Tr))}function To(t){return t<=0?()=>dn:ge((e,n)=>{let r=[];e.subscribe(he(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function sm(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ht((i,s)=>t(i,s,r)):nn,To(1),n?ui(e):vd(()=>new Tr))}function om(t,e){return ge(DC(t,e,arguments.length>=2,!0))}function am(...t){let e=si(t);return ge((n,r)=>{(e?Do(t,n,e):Do(t,n)).subscribe(r)})}function zt(t,e){return ge((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(he(r,c=>{i?.unsubscribe();let l=0,u=s++;Xe(t(c,u)).subscribe(i=he(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function cm(t){return ge((e,n)=>{Xe(t).subscribe(he(n,()=>n.complete(),mc)),!n.closed&&e.subscribe(n)})}function Ke(t,e,n){let r=X(t)||e||n?{next:t,error:e,complete:n}:t;return r?ge((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(he(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):nn}function Se(t){for(let e in t)if(t[e]===Se)return e;throw Error("Could not find renamed property on target object.")}function wd(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ot(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ot).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function TC(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var eF=Se({__forward_ref__:Se});function Mc(t){return t.__forward_ref__=Mc,t.toString=function(){return Ot(this())},t}function Nt(t){return fD(t)?t():t}function fD(t){return typeof t=="function"&&t.hasOwnProperty(eF)&&t.__forward_ref__===Mc}function pD(t){return t&&!!t.\u0275providers}var gD="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(Zd(e,n)),this.code=e}};function Zd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var tF=Se({\u0275cmp:Se}),nF=Se({\u0275dir:Se}),rF=Se({\u0275pipe:Se}),iF=Se({\u0275mod:Se}),kd=Se({\u0275fac:Se}),vc=Se({__NG_ELEMENT_ID__:Se}),SC=Se({__NG_ENV_ID__:Se});function Rc(t){return typeof t=="string"?t:t==null?"":String(t)}function sF(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Rc(t)}function oF(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,`Circular dependency in DI detected for ${t}${n}`)}function by(t,e){throw new $(-201,!1)}function aF(t,e){t==null&&cF(e,t,null,"!=")}function cF(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function it(t){return{providers:t.providers||[],imports:t.imports||[]}}function eh(t){return xC(t,yD)||xC(t,_D)}function mD(t){return eh(t)!==null}function xC(t,e){return t.hasOwnProperty(e)?t[e]:null}function lF(t){let e=t&&(t[yD]||t[_D]);return e||null}function AC(t){return t&&(t.hasOwnProperty(MC)||t.hasOwnProperty(uF))?t[MC]:null}var yD=Se({\u0275prov:Se}),MC=Se({\u0275inj:Se}),_D=Se({ngInjectableDef:Se}),uF=Se({ngInjectorDef:Se}),ae=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ae||{}),Cm;function vD(){return Cm}function qt(t){let e=Cm;return Cm=t,e}function wD(t,e,n){let r=eh(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ae.Optional)return null;if(e!==void 0)return e;by(t,"Injector")}var Ar=globalThis;var U=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var dF={},wc=dF,Dm="__NG_DI_FLAG__",Nd="ngTempTokenPath",hF="ngTokenPath",fF=/\n/gm,pF="\u0275",RC="__source",Ro;function gF(){return Ro}function hi(t){let e=Ro;return Ro=t,e}function mF(t,e=ae.Default){if(Ro===void 0)throw new $(-203,!1);return Ro===null?wD(t,void 0,e):Ro.get(t,e&ae.Optional?null:void 0,e)}function j(t,e=ae.Default){return(vD()||mF)(Nt(t),e)}function R(t,e=ae.Default){return j(t,th(e))}function th(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Tm(t){let e=[];for(let n=0;n<t.length;n++){let r=Nt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,s=ae.Default;for(let o=0;o<r.length;o++){let a=r[o],c=yF(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(j(i,s))}else e.push(j(r))}return e}function bD(t,e){return t[Dm]=e,t.prototype[Dm]=e,t}function yF(t){return t[Dm]}function _F(t,e,n,r){let i=t[Nd];throw e[RC]&&i.unshift(e[RC]),t.message=vF(`
`+t.message,i,n,r),t[hF]=i,t[Nd]=null,t}function vF(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==pF?t.slice(2):t;let i=Ot(e);if(Array.isArray(e))i=e.map(Ot).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ot(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(fF,`
  `)}`}function Pc(t){return{toString:t}.toString()}var ED=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ED||{}),zn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(zn||{}),ko={},hn=[];function ID(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Sm(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];wF(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function CD(t){return t===3||t===4||t===6}function wF(t){return t.charCodeAt(0)===64}function bc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?PC(t,n,i,null,e[++r]):PC(t,n,i,null,null))}}return t}function PC(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var DD="ng-template";function bF(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&ID(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function TD(t){return t.type===4&&t.value!==DD}function EF(t,e,n){let r=t.type===4&&!n?DD:t.value;return e===r}function IF(t,e,n){let r=4,i=t.attrs||[],s=TF(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Dn(r)&&!Dn(c))return!1;if(o&&Dn(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!EF(t,c,n)||c===""&&e.length===1){if(Dn(r))return!1;o=!0}}else{let l=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!bF(t.attrs,l,n)){if(Dn(r))return!1;o=!0}continue}let u=r&8?"class":c,d=CF(u,i,TD(t),n);if(d===-1){if(Dn(r))return!1;o=!0;continue}if(l!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&ID(f,l,0)!==-1||r&2&&l!==h){if(Dn(r))return!1;o=!0}}}}return Dn(r)||o}function Dn(t){return(t&1)===0}function CF(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return SF(e,t)}function DF(t,e,n=!1){for(let r=0;r<e.length;r++)if(IF(t,e[r],n))return!0;return!1}function TF(t){for(let e=0;e<t.length;e++){let n=t[e];if(CD(n))return e}return t.length}function SF(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function kC(t,e){return t?":not("+e.trim()+")":e}function xF(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Dn(o)&&(e+=kC(s,i),i=""),r=o,s=s||!Dn(r);n++}return i!==""&&(e+=kC(s,i)),e}function AF(t){return t.map(xF).join(",")}function MF(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Dn(i))break;i=s}r++}return{attrs:e,classes:n}}function ut(t){return Pc(()=>{let e=PD(t),n=ve(N({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ED.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||zn.Emulated,styles:t.styles||hn,_:null,schemas:t.schemas||null,tView:null,id:""});kD(n);let r=t.dependencies;return n.directiveDefs=OC(r,!1),n.pipeDefs=OC(r,!0),n.id=kF(n),n})}function RF(t){return pi(t)||xD(t)}function PF(t){return t!==null}function st(t){return Pc(()=>({type:t.type,bootstrap:t.bootstrap||hn,declarations:t.declarations||hn,imports:t.imports||hn,exports:t.exports||hn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function NC(t,e){if(t==null)return ko;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function sn(t){return Pc(()=>{let e=PD(t);return kD(e),e})}function SD(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function pi(t){return t[tF]||null}function xD(t){return t[nF]||null}function AD(t){return t[rF]||null}function MD(t){let e=pi(t)||xD(t)||AD(t);return e!==null?e.standalone:!1}function RD(t,e){let n=t[iF]||null;if(!n&&e===!0)throw new Error(`Type ${Ot(t)} does not have '\u0275mod' property.`);return n}function PD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ko,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||hn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:NC(t.inputs,e),outputs:NC(t.outputs),debugInfo:null}}function kD(t){t.features?.forEach(e=>e(t))}function OC(t,e){if(!t)return null;let n=e?AD:RF;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(PF)}function kF(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var Pr=0,oe=1,Y=2,vt=3,Tn=4,xn=5,Od=6,Ec=7,Sn=8,No=9,qn=10,wt=11,Ic=12,FC=13,Uo=14,Wn=15,kc=16,So=17,Hn=18,nh=19,ND=20,fi=21,lm=22,us=23,Gn=25,OD=1;var ds=7,Fd=8,Oo=9,rn=10,Ey=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ey||{});function cs(t){return Array.isArray(t)&&typeof t[OD]=="object"}function kr(t){return Array.isArray(t)&&t[OD]===!0}function FD(t){return(t.flags&4)!==0}function rh(t){return t.componentOffset>-1}function Iy(t){return(t.flags&1)===1}function gi(t){return!!t.template}function NF(t){return(t[Y]&512)!==0}function hs(t,e){let n=t.hasOwnProperty(kd);return n?t[kd]:null}var xm=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function yi(){return LD}function LD(t){return t.type.prototype.ngOnChanges&&(t.setInput=FF),OF}yi.ngInherit=!0;function OF(){let t=jD(this),e=t?.current;if(e){let n=t.previous;if(n===ko)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function FF(t,e,n,r){let i=this.declaredInputs[n],s=jD(t)||LF(t,{previous:ko,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new xm(c&&c.currentValue,e,a===ko),t[r]=e}var VD="__ngSimpleChanges__";function jD(t){return t[VD]||null}function LF(t,e){return t[VD]=e}var LC=null;var Bn=function(t,e,n){LC?.(t,e,n)},VF="svg",jF="math",UF=!1;function BF(){return UF}function Kn(t){for(;Array.isArray(t);)t=t[Pr];return t}function UD(t,e){return Kn(e[t])}function fn(t,e){return Kn(e[t.index])}function BD(t,e){return t.data[e]}function $F(t,e){return t[e]}function _i(t,e){let n=e[t];return cs(n)?n:n[Pr]}function HF(t){return(t[Y]&4)===4}function Cy(t){return(t[Y]&128)===128}function zF(t){return kr(t[vt])}function Ld(t,e){return e==null?null:t[e]}function $D(t){t[So]=0}function qF(t){t[Y]&1024||(t[Y]|=1024,Cy(t)&&Cc(t))}function WF(t,e){for(;t>0;)e=e[Uo],t--;return e}function HD(t){return t[Y]&9216||t[us]?.dirty}function Am(t){HD(t)?Cc(t):t[Y]&64&&(BF()?(t[Y]|=1024,Cc(t)):t[qn].changeDetectionScheduler?.notify())}function Cc(t){t[qn].changeDetectionScheduler?.notify();let e=Dc(t);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!Cy(e)));)e=Dc(e)}function zD(t,e){if((t[Y]&256)===256)throw new $(911,!1);t[fi]===null&&(t[fi]=[]),t[fi].push(e)}function GF(t,e){if(t[fi]===null)return;let n=t[fi].indexOf(e);n!==-1&&t[fi].splice(n,1)}function Dc(t){let e=t[vt];return kr(e)?e[vt]:e}var ce={lFrame:JD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function KF(){return ce.lFrame.elementDepthCount}function YF(){ce.lFrame.elementDepthCount++}function QF(){ce.lFrame.elementDepthCount--}function qD(){return ce.bindingsEnabled}function XF(){return ce.skipHydrationRootTNode!==null}function JF(t){return ce.skipHydrationRootTNode===t}function ZF(){ce.skipHydrationRootTNode=null}function Ie(){return ce.lFrame.lView}function Wt(){return ce.lFrame.tView}function ot(t){return ce.lFrame.contextLView=t,t[Sn]}function at(t){return ce.lFrame.contextLView=null,t}function Gt(){let t=WD();for(;t!==null&&t.type===64;)t=t.parent;return t}function WD(){return ce.lFrame.currentTNode}function eL(){let t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Nc(t,e){let n=ce.lFrame;n.currentTNode=t,n.isParent=e}function GD(){return ce.lFrame.isParent}function tL(){ce.lFrame.isParent=!1}function KD(){let t=ce.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function nL(t){return ce.lFrame.bindingIndex=t}function Dy(){return ce.lFrame.bindingIndex++}function rL(t){let e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function iL(){return ce.lFrame.inI18n}function sL(t,e){let n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,Mm(e)}function oL(){return ce.lFrame.currentDirectiveIndex}function Mm(t){ce.lFrame.currentDirectiveIndex=t}function aL(t){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function YD(){return ce.lFrame.currentQueryIndex}function Ty(t){ce.lFrame.currentQueryIndex=t}function cL(t){let e=t[oe];return e.type===2?e.declTNode:e.type===1?t[xn]:null}function QD(t,e,n){if(n&ae.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ae.Host);)if(i=cL(s),i===null||(s=s[Uo],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ce.lFrame=XD();return r.currentTNode=e,r.lView=t,!0}function Sy(t){let e=XD(),n=t[oe];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function XD(){let t=ce.lFrame,e=t===null?null:t.child;return e===null?JD(t):e}function JD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function ZD(){let t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var eT=ZD;function xy(){let t=ZD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function lL(t){return(ce.lFrame.contextLView=WF(t,ce.lFrame.contextLView))[Sn]}function Bo(){return ce.lFrame.selectedIndex}function fs(t){ce.lFrame.selectedIndex=t}function tT(){let t=ce.lFrame;return BD(t.tView,t.selectedIndex)}function uL(){return ce.lFrame.currentNamespace}var nT=!0;function Ay(){return nT}function My(t){nT=t}function dL(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=LD(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Ry(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Sd(t,e,n){rT(t,e,3,n)}function xd(t,e,n,r){(t[Y]&3)===n&&rT(t,e,n,r)}function um(t,e){let n=t[Y];(n&3)===e&&(n&=16383,n+=1,t[Y]=n)}function rT(t,e,n,r){let i=r!==void 0?t[So]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[So]+=65536),(a<s||s==-1)&&(hL(t,n,e,c),t[So]=(t[So]&4294901760)+c+2),c++}function VC(t,e){Bn(4,t,e);let n=tn(null);try{e.call(t)}finally{tn(n),Bn(5,t,e)}}function hL(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[Y]>>14<t[So]>>16&&(t[Y]&3)===e&&(t[Y]+=16384,VC(a,s)):VC(a,s)}var Po=-1,ps=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function fL(t){return t instanceof ps}function pL(t){return(t.flags&8)!==0}function gL(t){return(t.flags&16)!==0}function iT(t){return t!==Po}function Vd(t){return t&32767}function mL(t){return t>>16}function jd(t,e){let n=mL(t),r=e;for(;n>0;)r=r[Uo],n--;return r}var Rm=!0;function Ud(t){let e=Rm;return Rm=t,e}var yL=256,sT=yL-1,oT=5,_L=0,$n={};function vL(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(vc)&&(r=n[vc]),r==null&&(r=n[vc]=_L++);let i=r&sT,s=1<<i;e.data[t+(i>>oT)]|=s}function Bd(t,e){let n=aT(t,e);if(n!==-1)return n;let r=e[oe];r.firstCreatePass&&(t.injectorIndex=e.length,dm(r.data,t),dm(e,null),dm(r.blueprint,null));let i=Py(t,e),s=t.injectorIndex;if(iT(i)){let o=Vd(i),a=jd(i,e),c=a[oe].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function dm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function aT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Py(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=hT(i),r===null)return Po;if(n++,i=i[Uo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Po}function Pm(t,e,n){vL(t,e,n)}function wL(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(CD(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function cT(t,e,n){if(n&ae.Optional||t!==void 0)return t;by(e,"NodeInjector")}function lT(t,e,n,r){if(n&ae.Optional&&r===void 0&&(r=null),!(n&(ae.Self|ae.Host))){let i=t[No],s=qt(void 0);try{return i?i.get(e,r,n&ae.Optional):wD(e,r,n&ae.Optional)}finally{qt(s)}}return cT(r,e,n)}function uT(t,e,n,r=ae.Default,i){if(t!==null){if(e[Y]&2048&&!(r&ae.Self)){let o=CL(t,e,n,r,$n);if(o!==$n)return o}let s=dT(t,e,n,r,$n);if(s!==$n)return s}return lT(e,n,r,i)}function dT(t,e,n,r,i){let s=EL(n);if(typeof s=="function"){if(!QD(e,t,r))return r&ae.Host?cT(i,n,r):lT(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ae.Optional))by(n);else return o}finally{eT()}}else if(typeof s=="number"){let o=null,a=aT(t,e),c=Po,l=r&ae.Host?e[Wn][xn]:null;for((a===-1||r&ae.SkipSelf)&&(c=a===-1?Py(t,e):e[a+8],c===Po||!UC(r,!1)?a=-1:(o=e[oe],a=Vd(c),e=jd(c,e)));a!==-1;){let u=e[oe];if(jC(s,a,u.data)){let d=bL(a,e,n,o,r,l);if(d!==$n)return d}c=e[a+8],c!==Po&&UC(r,e[oe].data[a+8]===l)&&jC(s,a,e)?(o=u,a=Vd(c),e=jd(c,e)):a=-1}}return i}function bL(t,e,n,r,i,s){let o=e[oe],a=o.data[t+8],c=r==null?rh(a)&&Rm:r!=o&&(a.type&3)!==0,l=i&ae.Host&&s===a,u=Ad(a,o,n,c,l);return u!==null?gs(e,o,u,a):$n}function Ad(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,u=s>>20,d=r?a:a+u,h=i?a+u:l;for(let f=d;f<h;f++){let p=o[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(i){let f=o[c];if(f&&gi(f)&&f.type===n)return c}return null}function gs(t,e,n,r){let i=t[n],s=e.data;if(fL(i)){let o=i;o.resolving&&oF(sF(s[n]));let a=Ud(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?qt(o.injectImpl):null,u=QD(t,r,ae.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&dL(n,s[n],e)}finally{l!==null&&qt(l),Ud(a),o.resolving=!1,eT()}}return i}function EL(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(vc)?t[vc]:void 0;return typeof e=="number"?e>=0?e&sT:IL:e}function jC(t,e,n){let r=1<<t;return!!(n[e+(t>>oT)]&r)}function UC(t,e){return!(t&ae.Self)&&!(t&ae.Host&&e)}var ls=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return uT(this._tNode,this._lView,e,th(r),n)}};function IL(){return new ls(Gt(),Ie())}function Oc(t){return Pc(()=>{let e=t.prototype.constructor,n=e[kd]||km(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[kd]||km(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function km(t){return fD(t)?()=>{let e=km(Nt(t));return e&&e()}:hs(t)}function CL(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Y]&2048&&!(o[Y]&512);){let a=dT(s,o,n,r|ae.Self,$n);if(a!==$n)return a;let c=s.parent;if(!c){let l=o[ND];if(l){let u=l.get(n,$n,r);if(u!==$n)return u}c=hT(o),o=o[Uo]}s=c}return i}function hT(t){let e=t[oe],n=e.type;return n===2?e.declTNode:n===1?t[xn]:null}function ky(t){return wL(Gt(),t)}var bd="__parameters__";function DL(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function fT(t,e,n){return Pc(()=>{let r=DL(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,u){let d=c.hasOwnProperty(bd)?c[bd]:Object.defineProperty(c,bd,{value:[]})[bd];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function TL(t){return typeof t=="function"}function SL(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function xL(t){return t.flat(Number.POSITIVE_INFINITY)}function Ny(t,e){t.forEach(n=>Array.isArray(n)?Ny(n,e):e(n))}function pT(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function $d(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function AL(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function ML(t,e,n){let r=Fc(t,e);return r>=0?t[r|1]=n:(r=~r,AL(t,r,e,n)),r}function hm(t,e){let n=Fc(t,e);if(n>=0)return t[n|1]}function Fc(t,e){return RL(t,e,1)}function RL(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Ye=bD(fT("Optional"),8);var Oy=bD(fT("SkipSelf"),4);var Fo=new U("ENVIRONMENT_INITIALIZER"),gT=new U("INJECTOR",-1),mT=new U("INJECTOR_DEF_TYPES"),Hd=class{get(e,n=wc){if(n===wc){let r=new Error(`NullInjectorError: No provider for ${Ot(e)}!`);throw r.name="NullInjectorError",r}return n}};function $o(t){return{\u0275providers:t}}function Qn(...t){return{\u0275providers:yT(!0,t),\u0275fromNgModule:!0}}function yT(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Ny(e,o=>{let a=o;Nm(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&_T(i,s),n}function _T(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Fy(i,s=>{e(s,r)})}}function Nm(t,e,n,r){if(t=Nt(t),!t)return!1;let i=null,s=AC(t),o=!s&&pi(t);if(!s&&!o){let c=t.ngModule;if(s=AC(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)Nm(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Ny(s.imports,u=>{Nm(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&_T(l,e)}if(!a){let l=hs(i)||(()=>new i);e({provide:i,useFactory:l,deps:hn},i),e({provide:mT,useValue:i,multi:!0},i),e({provide:Fo,useValue:()=>j(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=t;Fy(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Fy(t,e){for(let n of t)pD(n)&&(n=n.\u0275providers),Array.isArray(n)?Fy(n,e):e(n)}var PL=Se({provide:String,useValue:Se});function vT(t){return t!==null&&typeof t=="object"&&PL in t}function kL(t){return!!(t&&t.useExisting)}function NL(t){return!!(t&&t.useFactory)}function Lo(t){return typeof t=="function"}function OL(t){return!!t.useClass}var ih=new U("Set Injector scope."),Md={},FL={},fm;function Ly(){return fm===void 0&&(fm=new Hd),fm}var Ft=class{},Tc=class extends Ft{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fm(e,o=>this.processProvider(o)),this.records.set(gT,xo(void 0,this)),i.has("environment")&&this.records.set(Ft,xo(void 0,this));let s=this.records.get(ih);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(mT,hn,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=hi(this),r=qt(void 0),i;try{return e()}finally{hi(n),qt(r)}}get(e,n=wc,r=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(SC))return e[SC](this);r=th(r);let i,s=hi(this),o=qt(void 0);try{if(!(r&ae.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=BL(e)&&eh(e);l&&this.injectableDefInScope(l)?c=xo(Om(e),Md):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ae.Self?Ly():this.parent;return n=r&ae.Optional&&n===wc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Nd]=a[Nd]||[]).unshift(Ot(e)),s)throw a;return _F(a,e,"R3InjectorError",this.source)}else throw a}finally{qt(o),hi(s)}}resolveInjectorInitializers(){let e=hi(this),n=qt(void 0),r;try{let i=this.get(Fo,hn,ae.Self);for(let s of i)s()}finally{hi(e),qt(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ot(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=Nt(e);let n=Lo(e)?e:Nt(e&&e.provide),r=VL(e);if(!Lo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=xo(void 0,Md,!0),i.factory=()=>Tm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Md&&(n.value=FL,n.value=n.factory()),typeof n.value=="object"&&n.value&&UL(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Nt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Om(t){let e=eh(t),n=e!==null?e.factory:hs(t);if(n!==null)return n;if(t instanceof U)throw new $(204,!1);if(t instanceof Function)return LL(t);throw new $(204,!1)}function LL(t){if(t.length>0)throw new $(204,!1);let n=lF(t);return n!==null?()=>n.factory(t):()=>new t}function VL(t){if(vT(t))return xo(void 0,t.useValue);{let e=wT(t);return xo(e,Md)}}function wT(t,e,n){let r;if(Lo(t)){let i=Nt(t);return hs(i)||Om(i)}else if(vT(t))r=()=>Nt(t.useValue);else if(NL(t))r=()=>t.useFactory(...Tm(t.deps||[]));else if(kL(t))r=()=>j(Nt(t.useExisting));else{let i=Nt(t&&(t.useClass||t.provide));if(jL(t))r=()=>new i(...Tm(t.deps));else return hs(i)||Om(i)}return r}function xo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function jL(t){return!!t.deps}function UL(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function BL(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function Fm(t,e){for(let n of t)Array.isArray(n)?Fm(n,e):n&&pD(n)?Fm(n.\u0275providers,e):e(n)}function Xn(t,e){t instanceof Tc&&t.assertNotDestroyed();let n,r=hi(t),i=qt(void 0);try{return e()}finally{hi(r),qt(i)}}function $L(t){if(!vD()&&!gF())throw new $(-203,!1)}function BC(t,e=null,n=null,r){let i=bT(t,e,n,r);return i.resolveInjectorInitializers(),i}function bT(t,e=null,n=null,r,i=new Set){let s=[n||hn,Qn(t)];return r=r||(typeof t=="object"?void 0:Ot(t)),new Tc(s,e||Ly(),r||null,i)}var dt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return BC({name:""},i,r,"");{let s=r.name??"";return BC({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=wc,e.NULL=new Hd,e.\u0275prov=B({token:e,providedIn:"any",factory:()=>j(gT)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Lm;function ET(t){Lm=t}function IT(){if(Lm!==void 0)return Lm;if(typeof document<"u")return document;throw new $(210,!1)}var Vy=new U("AppId",{providedIn:"root",factory:()=>HL}),HL="ng",jy=new U("Platform Initializer"),pn=new U("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Uy=new U("CSP nonce",{providedIn:"root",factory:()=>IT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function CT(t){return t instanceof Function?t():t}function zL(t){return(t??R(dt)).get(pn)==="browser"}function DT(t){return(t.flags&128)===128}var Mr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Mr||{});var TT=new Map,qL=0;function WL(){return qL++}function GL(t){TT.set(t[nh],t)}function KL(t){TT.delete(t[nh])}var $C="__ngContext__";function ms(t,e){cs(e)?(t[$C]=e[nh],GL(e)):t[$C]=e}var YL;function By(t,e){return YL(t,e)}function Ao(t,e,n,r,i){if(r!=null){let s,o=!1;kr(r)?s=r:cs(r)&&(o=!0,r=r[Pr]);let a=Kn(r);t===0&&n!==null?i==null?RT(e,n,a):zd(e,n,a,i||null,!0):t===1&&n!==null?zd(e,n,a,i||null,!0):t===2?hV(e,a,o):t===3&&e.destroyNode(a),s!=null&&pV(e,t,s,n,i)}}function QL(t,e){return t.createText(e)}function XL(t,e,n){t.setValue(e,n)}function ST(t,e,n){return t.createElement(e,n)}function JL(t,e){xT(t,e),e[Pr]=null,e[xn]=null}function ZL(t,e,n,r,i,s){r[Pr]=i,r[xn]=e,sh(t,r,n,1,i,s)}function xT(t,e){e[qn].changeDetectionScheduler?.notify(),sh(t,e,e[wt],2,null,null)}function eV(t){let e=t[Ic];if(!e)return pm(t[oe],t);for(;e;){let n=null;if(cs(e))n=e[Ic];else{let r=e[rn];r&&(n=r)}if(!n){for(;e&&!e[Tn]&&e!==t;)cs(e)&&pm(e[oe],e),e=e[vt];e===null&&(e=t),cs(e)&&pm(e[oe],e),n=e&&e[Tn]}e=n}}function tV(t,e,n,r){let i=rn+r,s=n.length;r>0&&(n[i-1][Tn]=e),r<s-rn?(e[Tn]=n[i],pT(n,rn+r,e)):(n.push(e),e[Tn]=null),e[vt]=n;let o=e[kc];o!==null&&n!==o&&nV(o,e);let a=e[Hn];a!==null&&a.insertView(t),Am(e),e[Y]|=128}function nV(t,e){let n=t[Oo],i=e[vt][vt][Wn];e[Wn]!==i&&(t[Y]|=Ey.HasTransplantedViews),n===null?t[Oo]=[e]:n.push(e)}function AT(t,e){let n=t[Oo],r=n.indexOf(e);n.splice(r,1)}function Vm(t,e){if(t.length<=rn)return;let n=rn+e,r=t[n];if(r){let i=r[kc];i!==null&&i!==t&&AT(i,r),e>0&&(t[n-1][Tn]=r[Tn]);let s=$d(t,rn+e);JL(r[oe],r);let o=s[Hn];o!==null&&o.detachView(s[oe]),r[vt]=null,r[Tn]=null,r[Y]&=-129}return r}function MT(t,e){if(!(e[Y]&256)){let n=e[wt];n.destroyNode&&sh(t,e,n,3,null,null),eV(e)}}function pm(t,e){if(!(e[Y]&256)){e[Y]&=-129,e[Y]|=256,e[us]&&eC(e[us]),iV(t,e),rV(t,e),e[oe].type===1&&e[wt].destroy();let n=e[kc];if(n!==null&&kr(e[vt])){n!==e[vt]&&AT(n,e);let r=e[Hn];r!==null&&r.detachView(t)}KL(e)}}function rV(t,e){let n=t.cleanup,r=e[Ec];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Ec]=null);let i=e[fi];if(i!==null){e[fi]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function iV(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ps)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Bn(4,a,c);try{c.call(a)}finally{Bn(5,a,c)}}else{Bn(4,i,s);try{s.call(i)}finally{Bn(5,i,s)}}}}}function sV(t,e,n){return oV(t,e.parent,n)}function oV(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Pr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===zn.None||s===zn.Emulated)return null}return fn(r,n)}}function zd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function RT(t,e,n){t.appendChild(e,n)}function HC(t,e,n,r,i){r!==null?zd(t,e,n,r,i):RT(t,e,n)}function aV(t,e,n,r){t.removeChild(e,n,r)}function $y(t,e){return t.parentNode(e)}function cV(t,e){return t.nextSibling(e)}function lV(t,e,n){return dV(t,e,n)}function uV(t,e,n){return t.type&40?fn(t,n):null}var dV=uV,zC;function Hy(t,e,n,r){let i=sV(t,r,e),s=e[wt],o=r.parent||e[xn],a=lV(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)HC(s,i,n[c],a,!1);else HC(s,i,n,a,!1);zC!==void 0&&zC(s,r,e,n,i)}function Rd(t,e){if(e!==null){let n=e.type;if(n&3)return fn(e,t);if(n&4)return jm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Rd(t,r);{let i=t[e.index];return kr(i)?jm(-1,i):Kn(i)}}else{if(n&32)return By(e,t)()||Kn(t[e.index]);{let r=PT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Dc(t[Wn]);return Rd(i,r)}else return Rd(t,e.next)}}}return null}function PT(t,e){if(e!==null){let r=t[Wn][xn],i=e.projection;return r.projection[i]}return null}function jm(t,e){let n=rn+t+1;if(n<e.length){let r=e[n],i=r[oe].firstChild;if(i!==null)return Rd(r,i)}return e[ds]}function hV(t,e,n){let r=$y(t,e);r&&aV(t,r,e,n)}function zy(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&ms(Kn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)zy(t,e,n.child,r,i,s,!1),Ao(e,t,i,a,s);else if(c&32){let l=By(n,r),u;for(;u=l();)Ao(e,t,i,u,s);Ao(e,t,i,a,s)}else c&16?fV(t,e,r,n,i,s):Ao(e,t,i,a,s);n=o?n.projectionNext:n.next}}function sh(t,e,n,r,i,s){zy(n,r,t.firstChild,e,i,s,!1)}function fV(t,e,n,r,i,s){let o=n[Wn],c=o[xn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ao(e,t,i,u,s)}else{let l=c,u=o[vt];DT(r)&&(l.flags|=128),zy(t,e,l,u,i,s,!0)}}function pV(t,e,n,r,i){let s=n[ds],o=Kn(n);s!==o&&Ao(e,t,r,s,i);for(let a=rn;a<n.length;a++){let c=n[a];sh(c[oe],c,t,e,r,s)}}function gV(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Mr.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Mr.Important),t.setStyle(n,r,i,s))}}function mV(t,e,n){t.setAttribute(e,"style",n)}function kT(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function NT(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Sm(t,e,r),i!==null&&kT(t,e,i),s!==null&&mV(t,e,s)}var Ed;function yV(){if(Ed===void 0&&(Ed=null,Ar.trustedTypes))try{Ed=Ar.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ed}function oh(t){return yV()?.createHTML(t)||t}var Id;function OT(){if(Id===void 0&&(Id=null,Ar.trustedTypes))try{Id=Ar.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Id}function qC(t){return OT()?.createHTML(t)||t}function WC(t){return OT()?.createScriptURL(t)||t}var qd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gD})`}};function Ho(t){return t instanceof qd?t.changingThisBreaksApplicationSecurity:t}function ah(t,e){let n=_V(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${gD})`)}return n===e}function _V(t){return t instanceof qd&&t.getTypeName()||null}function vV(t){let e=new Bm(t);return wV()?new Um(e):e}var Um=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(oh(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Bm=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=oh(e),n}};function wV(){try{return!!new window.DOMParser().parseFromString(oh(""),"text/html")}catch{return!1}}var bV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qy(t){return t=String(t),t.match(bV)?t:"unsafe:"+t}function Nr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Lc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var FT=Nr("area,br,col,hr,img,wbr"),LT=Nr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),VT=Nr("rp,rt"),EV=Lc(VT,LT),IV=Lc(LT,Nr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),CV=Lc(VT,Nr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),GC=Lc(FT,IV,CV,EV),jT=Nr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),DV=Nr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),TV=Nr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),SV=Lc(jT,DV,TV),xV=Nr("script,style,template"),$m=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!GC.hasOwnProperty(n))return this.sanitizedSomething=!0,!xV.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!SV.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;jT[a]&&(c=qy(c)),this.buf.push(" ",o,'="',KC(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();GC.hasOwnProperty(n)&&!FT.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(KC(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},AV=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,MV=/([^\#-~ |!])/g;function KC(t){return t.replace(/&/g,"&amp;").replace(AV,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(MV,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Cd;function UT(t,e){let n=null;try{Cd=Cd||vV(t);let r=e?String(e):"";n=Cd.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Cd.getInertBodyElement(r)}while(r!==s);let a=new $m().sanitizeChildren(YC(n)||n);return oh(a)}finally{if(n){let r=YC(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function YC(t){return"content"in t&&RV(t)?t.content:null}function RV(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Vc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Vc||{});function Wy(t){let e=Gy();return e?qC(e.sanitize(Vc.HTML,t)||""):ah(t,"HTML")?qC(Ho(t)):UT(IT(),Rc(t))}function on(t){let e=Gy();return e?e.sanitize(Vc.URL,t)||"":ah(t,"URL")?Ho(t):qy(Rc(t))}function PV(t){let e=Gy();if(e)return WC(e.sanitize(Vc.RESOURCE_URL,t)||"");if(ah(t,"ResourceURL"))return WC(Ho(t));throw new $(904,!1)}function kV(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?PV:on}function BT(t,e,n){return kV(e,n)(t)}function Gy(){let t=Ie();return t&&t[qn].sanitizer}var Hm=class{};var NV="h",OV="b";var FV=()=>null;function Ky(t,e,n=!1){return FV(t,e,n)}var zm=class{},Wd=class{};function LV(t){let e=Error(`No component factory found for ${Ot(t)}.`);return e[VV]=t,e}var VV="ngComponent";var qm=class{resolveComponentFactory(e){throw LV(e)}},ch=(()=>{let e=class e{};e.NULL=new qm;let t=e;return t})();function jV(){return zo(Gt(),Ie())}function zo(t,e){return new gn(fn(t,e))}var gn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=jV;let t=e;return t})();function UV(t){return t instanceof gn?t.nativeElement:t}var Sc=class{},vi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>BV();let t=e;return t})();function BV(){let t=Ie(),e=Gt(),n=_i(e.index,t);return(cs(n)?n:t)[wt]}var $V=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),gm={};function $T(t){return zV(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function HV(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function zV(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var Wm=class{constructor(){}supports(e){return $T(e)}create(e){return new Gm(e)}},qV=(t,e)=>e,Gm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||qV}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<QC(r,i,s)?n:r,a=QC(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){let f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<l&&(s[h]=f+1)}let d=o.previousIndex;s[d]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!$T(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,HV(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Km(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Gd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Gd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Km=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ym=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Gd=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Ym,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function QC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function XC(){return new Yy([new Wm])}var Yy=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||XC()),deps:[[e,new Oy,new Ye]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new $(901,!1)}};e.\u0275prov=B({token:e,providedIn:"root",factory:XC});let t=e;return t})();function Kd(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Kn(s)),kr(s)&&WV(s,r);let o=n.type;if(o&8)Kd(t,e,n.child,r);else if(o&32){let a=By(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=PT(e,n);if(Array.isArray(a))r.push(...a);else{let c=Dc(e[Wn]);Kd(c[oe],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function WV(t,e){for(let n=rn;n<t.length;n++){let r=t[n],i=r[oe].firstChild;i!==null&&Kd(r[oe],r,i,e)}t[ds]!==t[Pr]&&e.push(t[ds])}var HT=[];function GV(t){return t[us]??KV(t)}function KV(t){let e=HT.pop()??Object.create(QV);return e.lView=t,e}function YV(t){t.lView[us]!==t&&(t.lView=null,HT.push(t))}var QV=ve(N({},XI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Cc(t.lView)},consumerOnSignalRead(){this.lView[us]=this}});function zT(t){return WT(t[Ic])}function qT(t){return WT(t[Tn])}function WT(t){for(;t!==null&&!kr(t);)t=t[Tn];return t}var XV="ngOriginalError";function mm(t){return t[XV]}var Yn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&mm(e);for(;n&&mm(n);)n=mm(n);return n||null}},GT=new U("",{providedIn:"root",factory:()=>R(Yn).handleError.bind(void 0)});var KT=!1,JV=new U("",{providedIn:"root",factory:()=>KT});var ws={};function O(t=1){YT(Wt(),Ie(),Bo()+t,!1)}function YT(t,e,n,r){if(!r)if((e[Y]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Sd(e,s,n)}else{let s=t.preOrderHooks;s!==null&&xd(e,s,0,n)}fs(n)}function q(t,e=ae.Default){let n=Ie();if(n===null)return j(t,e);let r=Gt();return uT(r,n,Nt(t),e)}function QT(){let t="invalid";throw new Error(t)}function ZV(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)fs(~i);else{let s=i,o=n[++r],a=n[++r];sL(o,s);let c=e[s];a(2,c)}}}finally{fs(-1)}}function lh(t,e,n,r,i,s,o,a,c,l,u){let d=e.blueprint.slice();return d[Pr]=i,d[Y]=r|4|128|8|64,(l!==null||t&&t[Y]&2048)&&(d[Y]|=2048),$D(d),d[vt]=d[Uo]=t,d[Sn]=n,d[qn]=o||t&&t[qn],d[wt]=a||t&&t[wt],d[No]=c||t&&t[No]||null,d[xn]=s,d[nh]=WL(),d[Od]=u,d[ND]=l,d[Wn]=e.type==2?t[Wn]:d,d}function uh(t,e,n,r,i){let s=t.data[e];if(s===null)s=e2(t,e,n,r,i),iL()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=eL();s.injectorIndex=o===null?-1:o.injectorIndex}return Nc(s,!0),s}function e2(t,e,n,r,i){let s=WD(),o=GD(),a=o?s:s&&s.parent,c=t.data[e]=o2(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function XT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function JT(t,e,n,r,i){let s=Bo(),o=r&2;try{fs(-1),o&&e.length>Gn&&YT(t,e,Gn,!1),Bn(o?2:0,i),n(r,i)}finally{fs(s),Bn(o?3:1,i)}}function ZT(t,e,n){if(FD(e)){let r=tn(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{tn(r)}}}function eS(t,e,n){qD()&&(f2(t,e,n,fn(n,e)),(n.flags&64)===64&&sS(t,e,n))}function tS(t,e,n=fn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function nS(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Qy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Qy(t,e,n,r,i,s,o,a,c,l,u){let d=Gn+r,h=d+i,f=t2(d,h),p=typeof l=="function"?l():l;return f[oe]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function t2(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ws);return n}function n2(t,e,n,r){let s=r.get(JV,KT)||n===zn.ShadowDom,o=t.selectRootElement(e,s);return r2(o),o}function r2(t){i2(t)}var i2=()=>null;function s2(t,e,n,r){let i=lS(e);i.push(n),t.firstCreatePass&&uS(t).push(r,i.length-1)}function o2(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return XF()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function JC(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=n===null?{}:n;let s=t[i];r===null?ZC(n,e,i,s):r.hasOwnProperty(i)&&ZC(n,e,r[i],s)}return n}function ZC(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function a2(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;c=JC(d.inputs,u,c,f),l=JC(d.outputs,u,l,p);let m=c!==null&&o!==null&&!TD(e)?C2(c,u,o):null;a.push(m)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function c2(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function l2(t,e,n,r,i,s,o,a){let c=fn(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Xy(t,n,u,r,i),rh(e)&&u2(n,e.index)):e.type&3?(r=c2(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function u2(t,e){let n=_i(e,t);n[Y]&16||(n[Y]|=64)}function rS(t,e,n,r){if(qD()){let i=r===null?null:{"":-1},s=g2(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&iS(t,e,n,o,i,a),i&&m2(n,r,i)}n.mergedAttrs=bc(n.mergedAttrs,n.attrs)}function iS(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Pm(Bd(n,e),t,r[l].type);_2(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=XT(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=bc(n.mergedAttrs,u.hostAttrs),v2(t,n,e,c,u),y2(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}a2(t,n,s)}function d2(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;h2(o)!=a&&o.push(a),o.push(n,r,s)}}function h2(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function f2(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;rh(n)&&w2(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Bd(n,e),ms(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],l=gs(e,t,a,n);if(ms(l,e),o!==null&&I2(e,a-i,l,c,n,o),gi(c)){let u=_i(n.index,e);u[Sn]=gs(e,t,a,n)}}}function sS(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=oL();try{fs(s);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Mm(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&p2(c,l)}}finally{fs(-1),Mm(o)}}function p2(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function g2(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(DF(e,o.selectors,!1))if(r||(r=[]),gi(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Qm(t,e,c)}else r.unshift(o),Qm(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Qm(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function m2(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new $(-301,!1);r.push(e[i],s)}}}function y2(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gi(e)&&(n[""]=t)}}function _2(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function v2(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=hs(i.type,!0)),o=new ps(s,gi(i),q);t.blueprint[r]=o,n[r]=o,d2(t,e,r,XT(t,n,i.hostVars,ws),i)}function w2(t,e,n){let r=fn(e,t),i=nS(n),s=t[qn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=dh(t,lh(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function b2(t,e,n,r,i,s){let o=fn(t,e);E2(e[wt],o,s,t.value,n,r,i)}function E2(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Rc(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function I2(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],u=o[a++];oS(r,n,c,l,u)}}function oS(t,e,n,r,i){let s=tn(null);try{let o=t.inputTransforms;o!==null&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),t.setInput!==null?t.setInput(e,i,n,r):e[r]=i}finally{tn(s)}}function C2(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}return r}function aS(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function cS(t,e){let n=t.contentQueries;if(n!==null){let r=tn(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Ty(s),a.contentQueries(2,e[o],o)}}}finally{tn(r)}}}function dh(t,e){return t[Ic]?t[FC][Tn]=e:t[Ic]=e,t[FC]=e,e}function Xm(t,e,n){Ty(0);let r=tn(null);try{e(t,n)}finally{tn(r)}}function lS(t){return t[Ec]||(t[Ec]=[])}function uS(t){return t.cleanup||(t.cleanup=[])}function dS(t,e){let n=t[No],r=n?n.get(Yn,null):null;r&&r.handleError(e)}function Xy(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=e[o],l=t.data[o];oS(l,c,r,a,i)}}function D2(t,e,n){let r=UD(e,t);XL(t[wt],r,n)}var T2=100;function S2(t,e=!0){let n=t[qn],r=n.rendererFactory,i=!1;i||r.begin?.();try{x2(t)}catch(s){throw e&&dS(t,s),s}finally{i||(r.end?.(),n.inlineEffectRunner?.flush())}}function x2(t){Jm(t,0);let e=0;for(;HD(t);){if(e===T2)throw new $(103,!1);e++,Jm(t,1)}}function A2(t,e,n,r){let i=e[Y];if((i&256)===256)return;let s=!1;!s&&e[qn].inlineEffectRunner?.flush(),Sy(e);let o=null,a=null;!s&&M2(t)&&(a=GV(e),o=JI(a));try{$D(e),nL(t.bindingStartIndex),n!==null&&JT(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Sd(e,d,null)}else{let d=t.preOrderHooks;d!==null&&xd(e,d,0,null),um(e,0)}if(R2(e),hS(e,0),t.contentQueries!==null&&cS(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Sd(e,d)}else{let d=t.contentHooks;d!==null&&xd(e,d,1),um(e,1)}ZV(t,e);let l=t.components;l!==null&&pS(e,l,0);let u=t.viewQuery;if(u!==null&&Xm(2,u,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Sd(e,d)}else{let d=t.viewHooks;d!==null&&xd(e,d,2),um(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[lm]){for(let d of e[lm])d();e[lm]=null}s||(e[Y]&=-73)}catch(c){throw Cc(e),c}finally{a!==null&&(ZI(a,o),YV(a)),xy()}}function M2(t){return t.type!==2}function hS(t,e){for(let n=zT(t);n!==null;n=qT(n))for(let r=rn;r<n.length;r++){let i=n[r];fS(i,e)}}function R2(t){for(let e=zT(t);e!==null;e=qT(e)){if(!(e[Y]&Ey.HasTransplantedViews))continue;let n=e[Oo];for(let r=0;r<n.length;r++){let i=n[r],s=i[vt];qF(i)}}}function P2(t,e,n){let r=_i(e,t);fS(r,n)}function fS(t,e){Cy(t)&&Jm(t,e)}function Jm(t,e){let r=t[oe],i=t[Y],s=t[us],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Bg(s)),s&&(s.dirty=!1),t[Y]&=-9217,o)A2(r,t,r.template,t[Sn]);else if(i&8192){hS(t,1);let a=r.components;a!==null&&pS(t,a,1)}}function pS(t,e,n){for(let r=0;r<e.length;r++)P2(t,e[r],n)}function Jy(t){for(t[qn].changeDetectionScheduler?.notify();t;){t[Y]|=64;let e=Dc(t);if(NF(t)&&!e)return t;t=e}return null}var ys=class{get rootNodes(){let e=this._lView,n=e[oe];return Kd(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sn]}set context(e){this._lView[Sn]=e}get destroyed(){return(this._lView[Y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[vt];if(kr(e)){let n=e[Fd],r=n?n.indexOf(this):-1;r>-1&&(Vm(e,r),$d(n,r))}this._attachedToViewContainer=!1}MT(this._lView[oe],this._lView)}onDestroy(e){zD(this._lView,e)}markForCheck(){Jy(this._cdRefInjectingView||this._lView)}detach(){this._lView[Y]&=-129}reattach(){Am(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,S2(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,xT(this._lView[oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e,Am(this._lView)}},bs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=k2;let t=e;return t})();function k2(t){return N2(Gt(),Ie(),(t&16)===16)}function N2(t,e,n){if(rh(t)&&!n){let r=_i(t.index,e);return new ys(r,r)}else if(t.type&47){let r=e[Wn];return new ys(r,e)}return null}var gS=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=O2,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Zm=class extends gS{constructor(e){super(),this._lView=e}onDestroy(e){return zD(this._lView,e),()=>GF(this._lView,e)}};function O2(){return new Zm(Ie())}var eD=new Set;function hh(t){eD.has(t)||(eD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var ey=class extends Bt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=ym(s),i&&(i=ym(i)),o&&(o=ym(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ge&&e.add(a),a}};function ym(t){return e=>{setTimeout(t,void 0,e)}}var _t=ey;function tD(...t){}function F2(){let t=typeof Ar.requestAnimationFrame=="function",e=Ar[t?"requestAnimationFrame":"setTimeout"],n=Ar[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var me=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _t(!1),this.onMicrotaskEmpty=new _t(!1),this.onStable=new _t(!1),this.onError=new _t(!1),typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=F2().nativeRequestAnimationFrame,j2(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,L2,tD,tD);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},L2={};function Zy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function V2(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ar,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ty(t),t.isCheckStableRunning=!0,Zy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ty(t))}function j2(t){let e=()=>{V2(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(U2(a))return n.invokeTask(i,s,o,a);try{return nD(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),rD(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return nD(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),rD(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ty(t),Zy(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ty(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function nD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function rD(t){t._nesting--,Zy(t)}function U2(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Mo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Mo||{}),B2={destroy(){}};function e_(t,e){!e&&$L(e_);let n=e?.injector??R(dt);if(!zL(n))return B2;hh("NgAfterNextRender");let r=n.get(t_),i=r.handler??=new ry,s=e?.phase??Mo.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(gS).onDestroy(o),c=new ny(n,s,()=>{o(),t()});return i.register(c),{destroy:o}}var ny=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(me),this.errorHandler=e.get(Yn,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},ry=class{constructor(){this.executingCallbacks=!1,this.buckets={[Mo.EarlyRead]:new Set,[Mo.Write]:new Set,[Mo.MixedReadWrite]:new Set,[Mo.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){let e=!1;this.executingCallbacks=!0;for(let n of Object.values(this.buckets))for(let r of n)e=!0,r.invoke();this.executingCallbacks=!1;for(let n of this.deferredCallbacks)this.buckets[n.phase].add(n);return this.deferredCallbacks.clear(),e}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},t_=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let s of r)s();return!!this.handler?.execute()||r.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function $2(t,e){let n=_i(e,t),r=n[oe];H2(r,n);let i=n[Pr];i!==null&&n[Od]===null&&(n[Od]=Ky(i,n[No])),n_(r,n,n[Sn])}function H2(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function n_(t,e,n){Sy(e);try{let r=t.viewQuery;r!==null&&Xm(1,r,n);let i=t.template;i!==null&&JT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&cS(t,e),t.staticViewQueries&&Xm(2,t.viewQuery,n);let s=t.components;s!==null&&z2(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y]&=-5,xy()}}function z2(t,e){for(let n=0;n<e.length;n++)$2(t,e[n])}function iy(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=TC(i,a);else if(s==2){let c=a,l=e[++o];r=TC(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Yd=class extends ch{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=pi(e);return new Vo(n,this.ngModule)}};function iD(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function q2(t){let e=t.toLowerCase();return e==="svg"?VF:e==="math"?jF:null}var sy=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=th(r);let i=this.injector.get(e,gm,r);return i!==gm||n===gm?i:this.parentInjector.get(e,n,r)}},Vo=class extends Wd{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=iD(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return iD(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=AF(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof Ft?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new sy(e,s):e,a=o.get(Sc,null);if(a===null)throw new $(407,!1);let c=o.get($V,null),l=o.get(t_,null),u=o.get(Hm,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:u},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?n2(h,r,this.componentDef.encapsulation,o):ST(h,f,q2(f)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let g=null;p!==null&&(g=Ky(p,o,!0));let y=Qy(0,null,null,1,0,null,null,null,null,null,null),v=lh(null,y,null,m,null,null,d,h,o,null,g);Sy(v);let E,w;try{let b=this.componentDef,C,M=null;b.findHostDirectiveDefs?(C=[],M=new Map,b.findHostDirectiveDefs(b,C,M),C.push(b)):C=[b];let x=W2(v,p),F=G2(x,p,b,C,v,d,h);w=BD(y,Gn),p&&Q2(h,b,p,r),n!==void 0&&X2(w,this.ngContentSelectors,n),E=Y2(F,b,C,M,v,[J2]),n_(y,v,null)}finally{xy()}return new oy(this.componentType,E,zo(w,v),v,w)}},oy=class extends zm{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ys(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Xy(s[oe],s,i,e,n),this.previousInputValues.set(e,n);let o=_i(this._tNode.index,s);Jy(o)}}get injector(){return new ls(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function W2(t,e){let n=t[oe],r=Gn;return t[r]=e,uh(n,r,2,"#host",null)}function G2(t,e,n,r,i,s,o){let a=i[oe];K2(r,t,e,o);let c=null;e!==null&&(c=Ky(e,i[No]));let l=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=lh(i,nS(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&Qm(a,t,r.length-1),dh(i,d),i[t.index]=d}function K2(t,e,n,r){for(let i of t)e.mergedAttrs=bc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(iy(e,e.mergedAttrs,!0),n!==null&&NT(r,n,e))}function Y2(t,e,n,r,i,s){let o=Gt(),a=i[oe],c=fn(o,i);iS(a,i,o,n,null,r);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=gs(i,a,d,o);ms(h,i)}sS(a,i,o),c&&ms(c,i);let l=gs(i,a,o.directiveStart+o.componentOffset,o);if(t[Sn]=i[Sn]=l,s!==null)for(let u of s)u(l,e);return ZT(a,o,t),l}function Q2(t,e,n,r){if(r)Sm(t,n,["ng-version","17.0.9"]);else{let{attrs:i,classes:s}=MF(e.selectors[0]);i&&Sm(t,n,i),s&&s.length>0&&kT(t,n,s.join(" "))}}function X2(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function J2(){let t=Gt();Ry(Ie()[oe],t)}function Z2(t){return Object.getPrototypeOf(t.prototype).constructor}function qo(t){let e=Z2(t.type),n=!0,r=[t];for(;e;){let i;if(gi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Dd(t.inputs),o.inputTransforms=Dd(t.inputTransforms),o.declaredInputs=Dd(t.declaredInputs),o.outputs=Dd(t.outputs);let a=i.hostBindings;a&&rj(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&tj(t,c),l&&nj(t,l),wd(t.inputs,i.inputs),wd(t.declaredInputs,i.declaredInputs),wd(t.outputs,i.outputs),i.inputTransforms!==null&&(o.inputTransforms===null&&(o.inputTransforms={}),wd(o.inputTransforms,i.inputTransforms)),gi(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===qo&&(n=!1)}}e=Object.getPrototypeOf(e)}ej(r)}function ej(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=bc(i.hostAttrs,n=bc(n,i.hostAttrs))}}function Dd(t){return t===ko?{}:t===hn?[]:t}function tj(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function nj(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function rj(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function r_(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function ij(t,e,n){return t[e]=n}function jc(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function fh(t,e,n,r){let i=Ie(),s=Dy();if(jc(i,s,e)){let o=Wt(),a=tT();b2(a,i,t,e,n,r)}return fh}function sj(t,e,n,r){return jc(t,Dy(),n)?e+Rc(n)+r:ws}function Td(t,e){return t<<17|e<<2}function _s(t){return t>>17&32767}function oj(t){return(t&2)==2}function aj(t,e){return t&131071|e<<17}function ay(t){return t|2}function jo(t){return(t&131068)>>2}function _m(t,e){return t&-131069|e<<2}function cj(t){return(t&1)===1}function cy(t){return t|1}function lj(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=_s(o),c=jo(o);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Fc(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=_s(t[a+1]);t[r+1]=Td(h,a),h!==0&&(t[h+1]=_m(t[h+1],r)),t[a+1]=aj(t[a+1],r)}else t[r+1]=Td(a,0),a!==0&&(t[a+1]=_m(t[a+1],r)),a=r;else t[r+1]=Td(c,0),a===0?a=r:t[c+1]=_m(t[c+1],r),c=r;l&&(t[r+1]=ay(t[r+1])),sD(t,u,r,!0),sD(t,u,r,!1),uj(e,u,t,r,s),o=Td(a,c),s?e.classBindings=o:e.styleBindings=o}function uj(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Fc(s,e)>=0&&(n[r+1]=cy(n[r+1]))}function sD(t,e,n,r){let i=t[n+1],s=e===null,o=r?_s(i):jo(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],l=t[o+1];dj(c,e)&&(a=!0,t[o+1]=r?cy(l):ay(l)),o=r?_s(l):jo(l)}a&&(t[n+1]=r?ay(i):cy(i))}function dj(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Fc(t,e)>=0:!1}function V(t,e,n){let r=Ie(),i=Dy();if(jc(r,i,e)){let s=Wt(),o=tT();l2(s,o,r,t,e,r[wt],n,!1)}return V}function oD(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Xy(t,n,s[o],o,r)}function i_(t,e){return hj(t,e,null,!0),i_}function hj(t,e,n,r){let i=Ie(),s=Wt(),o=rL(2);if(s.firstUpdatePass&&pj(s,t,o,r),e!==ws&&jc(i,o,e)){let a=s.data[Bo()];vj(s,a,i,i[wt],t,i[o+1]=wj(e,n),r,o)}}function fj(t,e){return e>=t.expandoStartIndex}function pj(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Bo()],o=fj(t,n);bj(s,r)&&e===null&&!o&&(e=!1),e=gj(i,s,e,r),lj(i,s,e,n,o,r)}}function gj(t,e,n,r){let i=aL(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=vm(null,t,e,n,r),n=xc(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=vm(i,t,e,n,r),s===null){let c=mj(t,e,r);c!==void 0&&Array.isArray(c)&&(c=vm(null,t,e,c[1],r),c=xc(c,e.attrs,r),yj(t,e,r,c))}else s=_j(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function mj(t,e,n){let r=n?e.classBindings:e.styleBindings;if(jo(r)!==0)return t[_s(r)]}function yj(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[_s(i)]=r}function _j(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=xc(r,o,n)}return xc(r,e.attrs,n)}function vm(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=xc(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function xc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ML(t,o,n?!0:e[++s]))}return t===void 0?null:t}function vj(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=cj(l)?aD(c,e,n,i,jo(l),o):void 0;if(!Qd(u)){Qd(s)||oj(l)&&(s=aD(c,null,n,i,a,o));let d=UD(Bo(),n);gV(r,o,d,i,s)}}function aD(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===ws&&(h=d?hn:void 0);let f=d?hm(h,r):u===r?h:void 0;if(l&&!Qd(f)&&(f=hm(c,r)),Qd(f)&&(a=f,o))return a;let p=t[i+1];i=o?_s(p):jo(p)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=hm(c,r))}return a}function Qd(t){return t!==void 0}function wj(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ot(Ho(t)))),t}function bj(t,e){return(t.flags&(e?8:16))!==0}var sne=new RegExp(`^(\\d+)*(${OV}|${NV})*(.*)`);var Ej=()=>null;function cD(t,e){return Ej(t,e)}function Ij(t,e,n,r){let i=e.tView,o=t[Y]&4096?4096:16,a=lh(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[kc]=c;let l=t[Hn];return l!==null&&(a[Hn]=l.createEmbeddedView(i)),n_(i,a,n),a}function lD(t,e){return!e||e.firstChild===null||DT(t)}function Cj(t,e,n,r=!0){let i=e[oe];if(tV(i,e,t,n),r){let o=jm(n,t),a=e[wt],c=$y(a,t[ds]);c!==null&&ZL(i,t[xn],a,e,c,o)}let s=e[Od];s!==null&&s.firstChild!==null&&(s.firstChild=null)}var wi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Dj;let t=e;return t})();function Dj(){let t=Gt();return yS(t,Ie())}var Tj=wi,mS=class extends Tj{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return zo(this._hostTNode,this._hostLView)}get injector(){return new ls(this._hostTNode,this._hostLView)}get parentInjector(){let e=Py(this._hostTNode,this._hostLView);if(iT(e)){let n=jd(e,this._hostLView),r=Vd(e),i=n[oe].data[r+8];return new ls(i,n)}else return new ls(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=uD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-rn}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=cD(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,lD(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!TL(e),a;if(o)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let c=o?e:new Vo(pi(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let m=(o?l:this.parentInjector).get(Ft,null);m&&(s=m)}let u=pi(c.componentType??{}),d=cD(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,i,h,s);return this.insertImpl(f.hostView,a,lD(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(zF(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[vt],l=new mS(c,c[xn],c[vt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Cj(o,i,s,r),e.attachToViewContainerRef(),pT(wm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=uD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Vm(this._lContainer,n);r&&($d(wm(this._lContainer),n),MT(r[oe],r))}detach(e){let n=this._adjustIndex(e,-1),r=Vm(this._lContainer,n);return r&&$d(wm(this._lContainer),n)!=null?new ys(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function uD(t){return t[Fd]}function wm(t){return t[Fd]||(t[Fd]=[])}function yS(t,e){let n,r=e[t.index];return kr(r)?n=r:(n=aS(r,e,null,t),e[t.index]=n,dh(e,n)),xj(n,e,t,r),new mS(n,t,e)}function Sj(t,e){let n=t[wt],r=n.createComment(""),i=fn(e,t),s=$y(n,i);return zd(n,s,r,cV(n,i),!1),r}var xj=Rj,Aj=()=>!1;function Mj(t,e,n){return Aj(t,e,n)}function Rj(t,e,n,r){if(t[ds])return;let i;n.type&8?i=Kn(r):i=Sj(e,n),t[ds]=i}function Pj(t,e,n,r,i,s,o,a,c){let l=e.consts,u=uh(e,t,4,o||null,Ld(l,a));rS(e,n,u,Ld(l,c)),Ry(e,u);let d=u.tView=Qy(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Fe(t,e,n,r,i,s,o,a){let c=Ie(),l=Wt(),u=t+Gn,d=l.firstCreatePass?Pj(u,l,c,e,n,r,i,s,o):l.data[u];Nc(d,!1);let h=kj(l,c,d,t);Ay()&&Hy(l,c,h,d),ms(h,c);let f=aS(h,c,h,d);return c[u]=f,dh(c,f),Mj(f,d,c),Iy(d)&&eS(l,c,d),o!=null&&tS(c,d,a),Fe}var kj=Nj;function Nj(t,e,n,r){return My(!0),e[wt].createComment("")}function Oj(t,e,n,r,i,s){let o=e.consts,a=Ld(o,i),c=uh(e,t,2,r,a);return rS(e,n,c,Ld(o,s)),c.attrs!==null&&iy(c,c.attrs,!1),c.mergedAttrs!==null&&iy(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function I(t,e,n,r){let i=Ie(),s=Wt(),o=Gn+t,a=i[wt],c=s.firstCreatePass?Oj(o,s,i,e,n,r):s.data[o],l=Fj(s,i,c,a,e,t);i[o]=l;let u=Iy(c);return Nc(c,!0),NT(a,l,c),(c.flags&32)!==32&&Ay()&&Hy(s,i,l,c),KF()===0&&ms(l,i),YF(),u&&(eS(s,i,c),ZT(s,c,i)),r!==null&&tS(i,c),I}function D(){let t=Gt();GD()?tL():(t=t.parent,Nc(t,!1));let e=t;JF(e)&&ZF(),QF();let n=Wt();return n.firstCreatePass&&(Ry(n,t),FD(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&pL(e)&&oD(n,e,Ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&gL(e)&&oD(n,e,Ie(),e.stylesWithoutHost,!1),D}function ie(t,e,n,r){return I(t,e,n,r),D(),ie}var Fj=(t,e,n,r,i,s)=>(My(!0),ST(r,i,uL()));function ct(){return Ie()}var Xd="en-US";var Lj=Xd;function Vj(t){aF(t,"Expected localeId to be defined"),typeof t=="string"&&(Lj=t.toLowerCase().replace(/_/g,"-"))}function Es(t){return!!t&&typeof t.then=="function"}function _S(t){return!!t&&typeof t.subscribe=="function"}function Ce(t,e,n,r){let i=Ie(),s=Wt(),o=Gt();return Uj(s,i,i[wt],o,t,e,r),Ce}function jj(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Ec],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function Uj(t,e,n,r,i,s,o){let a=Iy(r),l=t.firstCreatePass&&uS(t),u=e[Sn],d=lS(e),h=!0;if(r.type&3||o){let m=fn(r,e),g=o?o(m):m,y=d.length,v=o?w=>o(Kn(w[r.index])):r.index,E=null;if(!o&&a&&(E=jj(t,e,i,r.index)),E!==null){let w=E.__ngLastListenerFn__||E;w.__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,h=!1}else{s=hD(r,e,u,s,!1);let w=n.listen(g,i,s);d.push(s,w),l&&l.push(i,v,y,y+1)}}else s=hD(r,e,u,s,!1);let f=r.outputs,p;if(h&&f!==null&&(p=f[i])){let m=p.length;if(m)for(let g=0;g<m;g+=2){let y=p[g],v=p[g+1],b=e[y][v].subscribe(s),C=d.length;d.push(s,b),l&&l.push(i,r.index,C,-(C+1))}}}function dD(t,e,n,r){try{return Bn(6,e,n),n(r)!==!1}catch(i){return dS(t,i),!1}finally{Bn(7,e,n)}}function hD(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?_i(t.index,e):e;Jy(a);let c=dD(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=dD(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function J(t=1){return lL(t)}function Bj(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function T(t,e=""){let n=Ie(),r=Wt(),i=t+Gn,s=r.firstCreatePass?uh(r,i,1,e,null):r.data[i],o=$j(r,n,s,e,t);n[i]=o,Ay()&&Hy(r,n,o,s),Nc(s,!1)}var $j=(t,e,n,r,i)=>(My(!0),QL(e[wt],r));function Jn(t){return xt("",t,""),Jn}function xt(t,e,n){let r=Ie(),i=sj(r,t,e,n);return i!==ws&&D2(r,Bo(),i),xt}function Hj(t,e,n){let r=Wt();if(r.firstCreatePass){let i=gi(t);ly(n,r.data,r.blueprint,i,!0),ly(e,r.data,r.blueprint,i,!1)}}function ly(t,e,n,r,i){if(t=Nt(t),Array.isArray(t))for(let s=0;s<t.length;s++)ly(t[s],e,n,r,i);else{let s=Wt(),o=Ie(),a=Gt(),c=Lo(t)?t:Nt(t.provide),l=wT(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Lo(t)||!t.multi){let f=new ps(l,i,q),p=Em(c,e,i?u:u+h,d);p===-1?(Pm(Bd(a,o),s,c),bm(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{let f=Em(c,e,u+h,d),p=Em(c,e,u,u+h),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){Pm(Bd(a,o),s,c);let y=Wj(i?qj:zj,n.length,i,r,l);!i&&g&&(n[p].providerFactory=y),bm(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)}else{let y=vS(n[i?p:f],l,!i&&r);bm(s,t,f>-1?f:p,y)}!i&&r&&g&&n[p].componentProviders++}}}function bm(t,e,n,r){let i=Lo(e),s=OL(e);if(i||s){let c=(s?Nt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function vS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Em(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function zj(t,e,n,r){return uy(this.multi,[])}function qj(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=gs(n,n[oe],this.providerFactory.index,r);s=a.slice(0,o),uy(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],uy(i,s);return s}function uy(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Wj(t,e,n,r,i){let s=new ps(t,n,q);return s.multi=[],s.index=e,s.componentProviders=0,vS(s,i,r&&!n),s}function s_(t,e=[]){return n=>{n.providersResolver=(r,i)=>Hj(r,i?i(t):t,e)}}var mi=class{},Ac=class{};var dy=class extends mi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yd(this);let i=RD(e);this._bootstrapComponents=CT(i.bootstrap),this._r3Injector=bT(e,n,[{provide:mi,useValue:this},{provide:ch,useValue:this.componentFactoryResolver},...r],Ot(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},hy=class extends Ac{constructor(e){super(),this.moduleType=e}create(e){return new dy(this.moduleType,e,[])}};var Jd=class extends mi{constructor(e){super(),this.componentFactoryResolver=new Yd(this),this.instance=null;let n=new Tc([...e.providers,{provide:mi,useValue:this},{provide:ch,useValue:this.componentFactoryResolver}],e.parent||Ly(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ph(t,e,n=null){return new Jd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Gj=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=yT(!1,r.type),s=i.length>0?ph([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=B({token:e,providedIn:"environment",factory:()=>new e(j(Ft))});let t=e;return t})();function ht(t){hh("NgStandalone"),t.getStandaloneInjector=e=>e.get(Gj).getOrCreateStandaloneInjector(t)}function An(t,e,n,r){return wS(Ie(),KD(),t,e,n,r)}function Kj(t,e){let n=t[e];return n===ws?void 0:n}function wS(t,e,n,r,i,s){let o=e+n;return jc(t,o,i)?ij(t,o+1,s?r.call(s,i):r(i)):Kj(t,o+1)}function Wo(t,e){let n=Wt(),r,i=t+Gn;n.firstCreatePass?(r=Yj(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=hs(r.type,!0)),o,a=qt(q);try{let c=Ud(!1),l=s();return Ud(c),Bj(n,Ie(),i,l),l}finally{qt(a)}}function Yj(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Go(t,e,n){let r=t+Gn,i=Ie(),s=$F(i,r);return Qj(i,r)?wS(i,KD(),e,s.transform,n,s):s.transform(n)}function Qj(t,e){return t[oe].data[e].pure}function Xj(){return this._results[Symbol.iterator]()}var fy=class t{get changes(){return this._changes??=new _t}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Xj)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=xL(e);(this._changesDetected=!SL(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},vs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=eU;let t=e;return t})(),Jj=vs,Zj=class extends Jj{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Ij(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new ys(i)}};function eU(){return o_(Gt(),Ie())}function o_(t,e){return t.type&4?new Zj(e,t,zo(t,e)):null}var py=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},gy=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)DS(e,n).matches!==null&&this.queries[n].setDirty()}},my=class{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}},yy=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},_y=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,tU(n,s)),this.matchTNodeWithReadOption(e,n,Ad(n,e,s,!1,!1))}else r===vs?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ad(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===gn||i===wi||i===vs&&n.type&4)this.addMatch(n.index,-2);else{let s=Ad(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function tU(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function nU(t,e){return t.type&11?zo(t,e):t.type&4?o_(t,e):null}function rU(t,e,n,r){return n===-1?nU(e,t):n===-2?iU(t,e,r):gs(t,t[oe],n,e)}function iU(t,e,n){if(n===gn)return zo(e,t);if(n===vs)return o_(e,t);if(n===wi)return yS(e,t)}function bS(t,e,n,r){let i=e[Hn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let u=s[l];a.push(rU(e,u,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function vy(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=bS(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let l=s[a+1],u=e[-c];for(let d=rn;d<u.length;d++){let h=u[d];h[kc]===h[vt]&&vy(h[oe],h,l,r)}if(u[Oo]!==null){let d=u[Oo];for(let h=0;h<d.length;h++){let f=d[h];vy(f[oe],f,l,r)}}}}}return r}function ES(t){let e=Ie(),n=Wt(),r=YD();Ty(r+1);let i=DS(n,r);if(t.dirty&&HF(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=i.crossesNgTemplate?vy(n,e,r,[]):bS(n,e,i,r);t.reset(s,UV),t.notifyOnChanges()}return!0}return!1}function IS(t,e,n,r){let i=Wt();if(i.firstCreatePass){let s=Gt();aU(i,new my(e,n,r),s.index),cU(i,t),(n&2)===2&&(i.staticContentQueries=!0)}oU(i,Ie(),n)}function CS(){return sU(Ie(),YD())}function sU(t,e){return t[Hn].queries[e].queryList}function oU(t,e,n){let r=new fy((n&4)===4);s2(t,e,r,r.destroy),e[Hn]===null&&(e[Hn]=new gy),e[Hn].queries.push(new py(r))}function aU(t,e,n){t.queries===null&&(t.queries=new yy),t.queries.track(new _y(e,n))}function cU(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function DS(t,e){return t.queries.getByIndex(e)}var Rr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},TS=new Rr("17.0.9");var gh=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),wy=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},mh=(()=>{let e=class e{compileModuleSync(r){return new hy(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=RD(r),o=CT(s.declarations).reduce((a,c)=>{let l=pi(c);return l&&a.push(new Vo(l)),a},[]);return new wy(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Is=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new yt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var SS=new U("");var yh=new U("Application Initializer"),xS=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=R(yh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Es(o))r.push(o);else if(_S(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uc=new U("appBootstrapListener");function lU(){tC(()=>{throw new $(600,!1)})}function uU(t){return t.isBoundToModule}function dU(t,e,n){try{let r=n();return Es(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ko=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=R(GT),this.afterRenderEffectManager=R(t_),this.componentTypes=[],this.components=[],this.isStable=R(Is).hasPendingTasks.pipe(re(r=>!r)),this._injector=R(Ft)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Wd;if(!this._injector.get(xS).done){let f=!s&&MD(r),p=!1;throw new $(405,p)}let a;s?a=r:a=this._injector.get(ch).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=uU(a)?void 0:this._injector.get(mi),l=i||a.selector,u=a.create(dt.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(SS,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Im(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new $(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{try{let r=this.afterRenderEffectManager.execute()}catch(r){this.internalErrorHandler(r)}this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Im(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Uc,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Im(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new $(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Im(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var hU=(()=>{let e=class e{constructor(){this.zone=R(me),this.applicationRef=R(Ko)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fU(t){return[{provide:me,useFactory:t},{provide:Fo,multi:!0,useFactory:()=>{let e=R(hU,{optional:!0});return()=>e.initialize()}},{provide:Fo,multi:!0,useFactory:()=>{let e=R(yU);return()=>{e.initialize()}}},{provide:GT,useFactory:pU}]}function pU(){let t=R(me),e=R(Yn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function gU(t){let e=fU(()=>new me(mU(t)));return $o([[],e])}function mU(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var yU=(()=>{let e=class e{constructor(){this.subscription=new Ge,this.initialized=!1,this.zone=R(me),this.pendingTasks=R(Is)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _U(){return typeof $localize<"u"&&$localize.locale||Xd}var a_=new U("LocaleId",{providedIn:"root",factory:()=>R(a_,ae.Optional|ae.SkipSelf)||_U()});var AS=new U("PlatformDestroyListeners");var Pd=null;function vU(t=[],e){return dt.create({name:e,providers:[{provide:ih,useValue:"platform"},{provide:AS,useValue:new Set([()=>Pd=null])},...t]})}function wU(t=[]){if(Pd)return Pd;let e=vU(t);return Pd=e,lU(),bU(e),e}function bU(t){t.get(jy,null)?.forEach(n=>n())}function MS(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=wU(r),s=[gU(),...n||[]],a=new Jd({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(me);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(Yn,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:f=>{l.handleError(f)}})});let d=()=>a.destroy(),h=i.get(AS);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),dU(l,c,()=>{let f=a.get(xS);return f.runInitializers(),f.donePromise.then(()=>{let p=a.get(a_,Xd);Vj(p||Xd);let m=a.get(Ko);return e!==void 0&&m.bootstrap(e),m})})})}catch(e){return Promise.reject(e)}}function Cs(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function RS(t){let e=pi(t);if(!e)return null;let n=new Vo(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var c_=null;function Fr(){return c_}function FS(t){c_||(c_=t)}var _h=class{},bt=new U("DocumentToken"),f_=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>(()=>R(EU))(),providedIn:"platform"});let t=e;return t})(),LS=new U("Location Initialized"),EU=(()=>{let e=class e extends f_{constructor(){super(),this._doc=R(bt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fr().getBaseHref(this._doc)}onPopState(r){let i=Fr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Fr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function p_(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function PS(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Or(t){return t&&t[0]!=="?"?"?"+t:t}var Lr=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>(()=>R(g_))(),providedIn:"root"});let t=e;return t})(),VS=new U("appBaseHref"),g_=(()=>{let e=class e extends Lr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??R(bt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return p_(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Or(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Or(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Or(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(j(f_),j(VS,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jS=(()=>{let e=class e extends Lr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return i==null&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=p_(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Or(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Or(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(j(f_),j(VS,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),bi=(()=>{let e=class e{constructor(r){this._subject=new _t,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=DU(PS(kS(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Or(i))}normalize(r){return e.stripTrailingSlash(CU(this._basePath,kS(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Or(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Or(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Or,e.joinWithSlash=p_,e.stripTrailingSlash=PS,e.\u0275fac=function(i){return new(i||e)(j(Lr))},e.\u0275prov=B({token:e,factory:()=>IU(),providedIn:"root"});let t=e;return t})();function IU(){return new bi(j(Lr))}function CU(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function kS(t){return t.replace(/\/index.html$/,"")}function DU(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function vh(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var l_=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},wh=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(!1)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new l_(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),NS(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);NS(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(q(wi),q(vs),q(Yy))},e.\u0275dir=sn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function NS(t,e){t.context.$implicit=e.item}var Zn=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new u_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){OS("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){OS("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(q(wi),q(vs))},e.\u0275dir=sn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),u_=class{constructor(){this.$implicit=null,this.ngIf=null}};function OS(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ot(e)}'.`)}function TU(t,e){return new $(2100,!1)}var Qo=(()=>{let e=class e{transform(r){if(r==null)return null;if(typeof r!="string")throw TU(e,r);return r.toUpperCase()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=SD({name:"uppercase",type:e,pure:!0,standalone:!0});let t=e;return t})();var Lt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=st({type:e}),e.\u0275inj=it({});let t=e;return t})(),m_="browser",SU="server";function xU(t){return t===m_}function y_(t){return t===SU}var US=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>xU(R(pn))?new d_(R(bt),window):new h_});let t=e;return t})(),d_=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=AU(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function AU(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var h_=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Yo=class{};var $c=class{},Eh=class{},Ts=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var v_=class{encodeKey(e){return BS(e)}encodeValue(e){return BS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function PU(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var kU=/%(\d[a-f0-9])/gi,NU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function BS(t){return encodeURIComponent(t).replace(kU,(e,n)=>NU[n]??e)}function bh(t){return`${t}`}var Ei=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new v_,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=PU(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(bh):[bh(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(bh(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(bh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var w_=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function OU(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function $S(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function HS(t){return typeof Blob<"u"&&t instanceof Blob}function zS(t){return typeof FormData<"u"&&t instanceof FormData}function FU(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Bc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(OU(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new Ts),this.context||(this.context=new w_),!this.params)this.params=new Ei,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:$S(this.body)||HS(this.body)||zS(this.body)||FU(this.body)||typeof this.body=="string"?this.body:this.body instanceof Ei?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||zS(this.body)?null:HS(this.body)?this.body.type||null:$S(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ei?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new t(n,r,s,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:o})}},Xo=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Xo||{}),Hc=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Ts,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},b_=class t extends Hc{constructor(e={}){super(e),this.type=Xo.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ih=class t extends Hc{constructor(e={}){super(e),this.type=Xo.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ch=class extends Hc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function __(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var E_=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Bc)o=r;else{let l;s.headers instanceof Ts?l=s.headers:l=new Ts(s.headers);let u;s.params&&(s.params instanceof Ei?u=s.params:u=new Ei({fromObject:s.params})),o=new Bc(r,i,s.body!==void 0?s.body:null,{headers:l,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=z(o).pipe(Sr(l=>this.handler.handle(l)));if(r instanceof Bc||s.observe==="events")return a;let c=a.pipe(Ht(l=>l instanceof Ih));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(re(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(re(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(re(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(re(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Ei().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,__(s,i))}post(r,i,s={}){return this.request("POST",r,__(s,i))}put(r,i,s={}){return this.request("PUT",r,__(s,i))}};e.\u0275fac=function(i){return new(i||e)(j($c))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function KS(t,e){return e(t)}function LU(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function VU(t,e,n){return(r,i)=>Xn(n,()=>e(r,s=>t(s,i)))}var jU=new U(""),I_=new U(""),UU=new U(""),BU=new U("");function $U(){let t=null;return(e,n)=>{t===null&&(t=(R(jU,{optional:!0})??[]).reduceRight(LU,KS));let r=R(Is),i=r.add();return t(e,n).pipe(di(()=>r.remove(i)))}}var qS=(()=>{let e=class e extends $c{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=R(Is);let s=R(BU,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(I_),...this.injector.get(UU,[])]));this.chain=s.reduceRight((o,a)=>VU(o,a,this.injector),KS)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(di(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(j(Eh),j(Ft))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();var HU=/^\)\]\}',?\n/;function zU(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var WS=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new $(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ae(i.\u0275loadImpl()):z(null)).pipe(zt(()=>new de(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((g,y)=>a.setRequestHeader(g,y.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let g=r.detectContentTypeHeader();g!==null&&a.setRequestHeader("Content-Type",g)}if(r.responseType){let g=r.responseType.toLowerCase();a.responseType=g!=="json"?g:"text"}let c=r.serializeBody(),l=null,u=()=>{if(l!==null)return l;let g=a.statusText||"OK",y=new Ts(a.getAllResponseHeaders()),v=zU(a)||r.url;return l=new b_({headers:y,status:a.status,statusText:g,url:v}),l},d=()=>{let{headers:g,status:y,statusText:v,url:E}=u(),w=null;y!==204&&(w=typeof a.response>"u"?a.responseText:a.response),y===0&&(y=w?200:0);let b=y>=200&&y<300;if(r.responseType==="json"&&typeof w=="string"){let C=w;w=w.replace(HU,"");try{w=w!==""?JSON.parse(w):null}catch(M){w=C,b&&(b=!1,w={error:M,text:w})}}b?(o.next(new Ih({body:w,headers:g,status:y,statusText:v,url:E||void 0})),o.complete()):o.error(new Ch({error:w,headers:g,status:y,statusText:v,url:E||void 0}))},h=g=>{let{url:y}=u(),v=new Ch({error:g,status:a.status||0,statusText:a.statusText||"Unknown Error",url:y||void 0});o.error(v)},f=!1,p=g=>{f||(o.next(u()),f=!0);let y={type:Xo.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(y.total=g.total),r.responseType==="text"&&a.responseText&&(y.partialText=a.responseText),o.next(y)},m=g=>{let y={type:Xo.UploadProgress,loaded:g.loaded};g.lengthComputable&&(y.total=g.total),o.next(y)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",p),c!==null&&a.upload&&a.upload.addEventListener("progress",m)),a.send(c),o.next({type:Xo.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",p),c!==null&&a.upload&&a.upload.removeEventListener("progress",m)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(j(Yo))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),YS=new U("XSRF_ENABLED"),qU="XSRF-TOKEN",WU=new U("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>qU}),GU="X-XSRF-TOKEN",KU=new U("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>GU}),Dh=class{},YU=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=vh(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(j(bt),j(pn),j(WU))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function QU(t,e){let n=t.url.toLowerCase();if(!R(YS)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=R(Dh).getToken(),i=R(KU);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var QS=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(QS||{});function XU(t,e){return{\u0275kind:t,\u0275providers:e}}function JU(...t){let e=[E_,WS,qS,{provide:$c,useExisting:qS},{provide:Eh,useExisting:WS},{provide:I_,useValue:QU,multi:!0},{provide:YS,useValue:!0},{provide:Dh,useClass:YU}];for(let n of t)e.push(...n.\u0275providers);return $o(e)}var GS=new U("LEGACY_INTERCEPTOR_FN");function ZU(){return XU(QS.LegacyInterceptors,[{provide:GS,useFactory:$U},{provide:I_,useExisting:GS,multi:!0}])}var XS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=st({type:e}),e.\u0275inj=it({providers:[JU(ZU())]});let t=e;return t})();var T_=class extends _h{constructor(){super(...arguments),this.supportsDOMEvents=!0}},S_=class t extends T_{static makeCurrent(){FS(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=tB();return n==null?null:nB(n)}resetBaseElement(){zc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return vh(document.cookie,e)}},zc=null;function tB(){return zc=zc||document.querySelector("base"),zc?zc.getAttribute("href"):null}function nB(t){return new URL(t,document.baseURI).pathname}var rB=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),x_=new U("EventManagerPlugins"),tx=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new $(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(j(x_),j(me))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Th=class{constructor(e){this._doc=e}},C_="ng-app-id",nx=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=y_(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${C_}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(C_),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(C_,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(j(bt),j(Vy),j(Uy,8),j(pn))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),D_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},M_=/%COMP%/g,rx="%COMP%",iB=`_nghost-${rx}`,sB=`_ngcontent-${rx}`,oB=!0,aB=new U("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>oB});function cB(t){return sB.replace(M_,t)}function lB(t){return iB.replace(M_,t)}function ix(t,e){return e.map(n=>n.replace(M_,t))}var JS=(()=>{let e=class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=y_(c),this.defaultRenderer=new qc(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===zn.ShadowDom&&(i=ve(N({},i),{encapsulation:zn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Sh?s.applyToHost(r):s instanceof Wc&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case zn.Emulated:o=new Sh(l,u,i,this.appId,d,a,c,h);break;case zn.ShadowDom:return new A_(l,u,r,i,a,c,this.nonce,h);default:o=new Wc(l,u,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(j(tx),j(nx),j(Vy),j(aB),j(bt),j(pn),j(me),j(Uy))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),qc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(D_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ZS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ZS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=D_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=D_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Mr.DashCase|Mr.Important)?e.style.setProperty(n,r,i&Mr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Mr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Fr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function ZS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var A_=class extends qc{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=ix(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Wc=class extends qc{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?ix(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Sh=class extends Wc{constructor(e,n,r,i,s,o,a,c){let l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=cB(l),this.hostAttr=lB(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},uB=(()=>{let e=class e extends Th{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(j(bt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),ex=["alt","control","meta","shift"],dB={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hB={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},fB=(()=>{let e=class e extends Th{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),ex.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=dB[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),ex.forEach(a=>{if(a!==s){let c=hB[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(j(bt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function sx(t,e){return MS(N({rootComponent:t},pB(e)))}function pB(t){return{appProviders:[...vB,...t?.providers??[]],platformProviders:_B}}function gB(){S_.makeCurrent()}function mB(){return new Yn}function yB(){return ET(document),document}var _B=[{provide:pn,useValue:m_},{provide:jy,useValue:gB,multi:!0},{provide:bt,useFactory:yB,deps:[]}];var vB=[{provide:ih,useValue:"root"},{provide:Yn,useFactory:mB,deps:[]},{provide:x_,useClass:uB,multi:!0,deps:[bt,me,pn]},{provide:x_,useClass:fB,multi:!0,deps:[bt]},JS,nx,tx,{provide:Sc,useExisting:JS},{provide:Yo,useClass:rB,deps:[]},[]];function wB(){return new R_(j(bt))}var R_=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(j(bt))},e.\u0275prov=B({token:e,factory:function(i){let s=null;return i?s=new i:s=wB(),s},providedIn:"root"});let t=e;return t})();var se="primary",cl=Symbol("RouteTitle"),F_=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function na(t){return new F_(t)}function EB(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function IB(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!er(t[n],e[n]))return!1;return!0}function er(t,e){let n=t?L_(t):void 0,r=e?L_(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!px(t[i],e[i]))return!1;return!0}function L_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function px(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Si(t){return nm(t)?t:Es(t)?Ae(Promise.resolve(t)):z(t)}var CB={exact:mx,subset:yx},gx={exact:DB,subset:TB,ignored:()=>!0};function ox(t,e,n){return CB[n.paths](t.root,e.root,n.matrixParams)&&gx[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function DB(t,e){return er(t,e)}function mx(t,e,n){if(!xs(t.segments,e.segments)||!Mh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!mx(t.children[r],e.children[r],n))return!1;return!0}function TB(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>px(t[n],e[n]))}function yx(t,e,n){return _x(t,e,e.segments,n)}function _x(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!xs(i,n)||e.hasChildren()||!Mh(i,n,r))}else if(t.segments.length===n.length){if(!xs(t.segments,n)||!Mh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!yx(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!xs(t.segments,i)||!Mh(t.segments,i,r)||!t.children[se]?!1:_x(t.children[se],e,s,r)}}function Mh(t,e,n){return e.every((r,i)=>gx[n](t[i].parameters,r.parameters))}var Ii=class{constructor(e=new be([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=na(this.queryParams)),this._queryParamMap}toString(){return AB.serialize(this)}},be=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rh(this)}},Ss=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=na(this.parameters)),this._parameterMap}toString(){return wx(this)}};function SB(t,e){return xs(t,e)&&t.every((n,r)=>er(n.parameters,e[r].parameters))}function xs(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function xB(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===se&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==se&&(n=n.concat(e(i,r)))}),n}var ll=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>(()=>new Zc)(),providedIn:"root"});let t=e;return t})(),Zc=class{parse(e){let n=new j_(e);return new Ii(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Gc(e.root,!0)}`,r=PB(e.queryParams),i=typeof e.fragment=="string"?`#${MB(e.fragment)}`:"";return`${n}${r}${i}`}},AB=new Zc;function Rh(t){return t.segments.map(e=>wx(e)).join("/")}function Gc(t,e){if(!t.hasChildren())return Rh(t);if(e){let n=t.children[se]?Gc(t.children[se],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==se&&r.push(`${i}:${Gc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=xB(t,(r,i)=>i===se?[Gc(t.children[se],!1)]:[`${i}:${Gc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[se]!=null?`${Rh(t)}/${n[0]}`:`${Rh(t)}/(${n.join("//")})`}}function vx(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xh(t){return vx(t).replace(/%3B/gi,";")}function MB(t){return encodeURI(t)}function V_(t){return vx(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ph(t){return decodeURIComponent(t)}function ax(t){return Ph(t.replace(/\+/g,"%20"))}function wx(t){return`${V_(t.path)}${RB(t.parameters)}`}function RB(t){return Object.entries(t).map(([e,n])=>`;${V_(e)}=${V_(n)}`).join("")}function PB(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${xh(n)}=${xh(i)}`).join("&"):`${xh(n)}=${xh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var kB=/^[^\/()?;#]+/;function P_(t){let e=t.match(kB);return e?e[0]:""}var NB=/^[^\/()?;=#]+/;function OB(t){let e=t.match(NB);return e?e[0]:""}var FB=/^[^=?&#]+/;function LB(t){let e=t.match(FB);return e?e[0]:""}var VB=/^[^&#]+/;function jB(t){let e=t.match(VB);return e?e[0]:""}var j_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[se]=new be(e,n)),r}parseSegment(){let e=P_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new Ss(Ph(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=OB(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=P_(this.remaining);i&&(r=i,this.capture(r))}e[Ph(n)]=Ph(r)}parseQueryParam(e){let n=LB(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=jB(this.remaining);o&&(r=o,this.capture(r))}let i=ax(n),s=ax(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=P_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=se);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[se]:new be([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function bx(t){return t.segments.length>0?new be([],{[se]:t}):t}function Ex(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Ex(i);if(r===se&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new be(t.segments,e);return UB(n)}function UB(t){if(t.numberOfChildren===1&&t.children[se]){let e=t.children[se];return new be(t.segments.concat(e.segments),e.children)}return t}function ra(t){return t instanceof Ii}function BB(t,e,n=null,r=null){let i=Ix(t);return Cx(i,e,n,r)}function Ix(t){let e;function n(s){let o={};for(let c of s.children){let l=n(c);o[c.outlet]=l}let a=new be(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=bx(r);return e??i}function Cx(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return k_(i,i,i,n,r);let s=$B(e);if(s.toRoot())return k_(i,i,new be([],{}),n,r);let o=HB(s,i,t),a=o.processChildren?Qc(o.segmentGroup,o.index,s.commands):Tx(o.segmentGroup,o.index,s.commands);return k_(i,o.segmentGroup,a,n,r)}function kh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function el(t){return typeof t=="object"&&t!=null&&t.outlets}function k_(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;t===e?o=n:o=Dx(t,e,n);let a=bx(Ex(o));return new Ii(a,s,i)}function Dx(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Dx(s,e,n)}),new be(t.segments,r)}var Nh=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&kh(r[0]))throw new $(4003,!1);let i=r.find(el);if(i&&i!==r.at(-1))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function $B(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Nh(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Nh(n,e,r)}var ea=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function HB(t,e,n){if(t.isAbsolute)return new ea(e,!0,0);if(!n)return new ea(e,!1,NaN);if(n.parent===null)return new ea(n,!0,0);let r=kh(t.commands[0])?0:1,i=n.segments.length-1+r;return zB(n,i,t.numberOfDoubleDots)}function zB(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new ea(r,!1,i-s)}function qB(t){return el(t[0])?t[0].outlets:{[se]:t}}function Tx(t,e,n){if(t||(t=new be([],{})),t.segments.length===0&&t.hasChildren())return Qc(t,e,n);let r=WB(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new be(t.segments.slice(0,r.pathIndex),{});return s.children[se]=new be(t.segments.slice(r.pathIndex),t.children),Qc(s,0,i)}else return r.match&&i.length===0?new be(t.segments,{}):r.match&&!t.hasChildren()?U_(t,e,n):r.match?Qc(t,0,i):U_(t,e,n)}function Qc(t,e,n){if(n.length===0)return new be(t.segments,{});{let r=qB(n),i={};if(Object.keys(r).some(s=>s!==se)&&t.children[se]&&t.numberOfChildren===1&&t.children[se].segments.length===0){let s=Qc(t.children[se],e,n);return new be(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Tx(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new be(t.segments,i)}}function WB(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(el(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!lx(c,l,o))return s;r+=2}else{if(!lx(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function U_(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(el(s)){let c=GB(s.outlets);return new be(r,c)}if(i===0&&kh(n[0])){let c=t.segments[e];r.push(new Ss(c.path,cx(n[0]))),i++;continue}let o=el(s)?s.outlets[se]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&kh(a)?(r.push(new Ss(o,cx(a))),i+=2):(r.push(new Ss(o,{})),i++)}return new be(r,{})}function GB(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=U_(new be([],{}),0,r))}),e}function cx(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function lx(t,e,n){return t==n.path&&er(e,n.parameters)}var Xc="imperative",mn=class{constructor(e,n){this.id=e,this.url=n}},ia=class extends mn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Mn=class extends mn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ci=class extends mn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Di=class extends mn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},tl=class extends mn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Oh=class extends mn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},B_=class extends mn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$_=class extends mn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},H_=class extends mn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},z_=class extends mn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},q_=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},W_=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},G_=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},K_=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Y_=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Q_=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fh=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},nl=class{},rl=class{constructor(e){this.url=e}};var X_=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ul,this.attachRef=null}},ul=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new X_,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=J_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=J_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Z_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Z_(e,this._root).map(n=>n.value)}};function J_(t,e){if(t===e.value)return e;for(let n of e.children){let r=J_(t,n);if(r)return r}return null}function Z_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Z_(t,n);if(r.length)return r.unshift(e),r}return[]}var an=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Zo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Vh=class extends Lh{constructor(e,n){super(e),this.snapshot=n,lv(this,e)}toString(){return this.snapshot.toString()}};function Sx(t){let e=KB(t),n=new yt([new Ss("",{})]),r=new yt({}),i=new yt({}),s=new yt({}),o=new yt(""),a=new Ti(n,r,s,o,i,se,t,e.root);return a.snapshot=e.root,new Vh(new an(a,[]),e)}function KB(t){let e={},n={},r={},i="",s=new il([],e,r,i,n,se,t,null,{});return new jh("",new an(s,[]))}var Ti=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(re(l=>l[cl]))??z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(re(e=>na(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(re(e=>na(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cv(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:N(N({},e.params),t.params),data:N(N({},e.data),t.data),resolve:N(N(N(N({},t.data),e.data),i?.data),t._resolvedData)}:r={params:N({},t.params),data:N({},t.data),resolve:N(N({},t.data),t._resolvedData??{})},i&&Ax(i)&&(r.resolve[cl]=i.title),r}var il=class{get title(){return this.data?.[cl]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=na(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=na(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},jh=class extends Lh{constructor(e,n){super(n),this.url=e,lv(this,n)}toString(){return xx(this._root)}};function lv(t,e){e.value._routerState=t,e.children.forEach(n=>lv(t,n))}function xx(t){let e=t.children.length>0?` { ${t.children.map(xx).join(", ")} } `:"";return`${t.value}${e}`}function N_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,er(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),er(e.params,n.params)||t.paramsSubject.next(n.params),IB(e.url,n.url)||t.urlSubject.next(n.url),er(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ev(t,e){let n=er(t.params,e.params)&&SB(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ev(t.parent,e.parent))}function Ax(t){return typeof t.title=="string"||t.title===null}var uv=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new _t,this.deactivateEvents=new _t,this.attachEvents=new _t,this.detachEvents=new _t,this.parentContexts=R(ul),this.location=R(wi),this.changeDetector=R(bs),this.environmentInjector=R(Ft),this.inputBinder=R(Hh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new tv(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=sn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yi]});let t=e;return t})(),tv=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ti?this.route:e===ul?this.childContexts:this.parent.get(e,n)}},Hh=new U(""),ux=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=_c([i.queryParams,i.params,i.data]).pipe(zt(([o,a,c],l)=>(c=N(N(N({},o),a),c),l===0?z(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=RS(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function YB(t,e,n){let r=sl(t,e._root,n?n._root:void 0);return new Vh(r,e)}function sl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=QB(t,e,n);return new an(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>sl(t,a)),o}}let r=XB(e.value),i=e.children.map(s=>sl(t,s));return new an(r,i)}}function QB(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return sl(t,r,i);return sl(t,r)})}function XB(t){return new Ti(new yt(t.url),new yt(t.params),new yt(t.queryParams),new yt(t.fragment),new yt(t.data),t.outlet,t.component,t)}var Mx="ngNavigationCancelingError";function Rx(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ra(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Px(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function Px(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[Mx]=!0,r.cancellationCode=e,n&&(r.url=n),r}function JB(t){return kx(t)&&ra(t.url)}function kx(t){return t&&t[Mx]}var ZB=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ut({type:e,selectors:[["ng-component"]],standalone:!0,features:[ht],decls:1,vars:0,template:function(i,s){i&1&&ie(0,"router-outlet")},dependencies:[uv],encapsulation:2});let t=e;return t})();function e$(t,e){return t.providers&&!t._injector&&(t._injector=ph(t.providers,e,`Route: ${t.path}`)),t._injector??e}function dv(t){let e=t.children&&t.children.map(dv),n=e?ve(N({},t),{children:e}):N({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=ZB),n}function tr(t){return t.outlet||se}function t$(t,e){let n=t.filter(r=>tr(r)===e);return n.push(...t.filter(r=>tr(r)!==e)),n}function dl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var n$=(t,e,n,r)=>re(i=>(new nv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),nv=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),N_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Zo(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Zo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Zo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Zo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Q_(s.value.snapshot))}),e.children.length&&this.forwardEvent(new K_(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(N_(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),N_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=dl(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Uh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ta=class{constructor(e,n){this.component=e,this.route=n}};function r$(t,e,n){let r=t._root,i=e?e._root:null;return Kc(r,i,n,[r.value])}function i$(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function oa(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!mD(t)?t:e.get(t):r}function Kc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Zo(e);return t.children.forEach(o=>{s$(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Jc(a,n.getContext(o),i)),i}function s$(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=o$(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Uh(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Kc(t,e,a?a.children:null,r,i):Kc(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ta(a.outlet.component,o))}else o&&Jc(e,a,i),i.canActivateChecks.push(new Uh(r)),s.component?Kc(t,null,a?a.children:null,r,i):Kc(t,null,n,r,i);return i}function o$(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!xs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!xs(t.url,e.url)||!er(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ev(t,e)||!er(t.queryParams,e.queryParams);case"paramsChange":default:return!ev(t,e)}}function Jc(t,e,n){let r=Zo(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Jc(o,e.children.getContext(s),n):Jc(o,null,n):Jc(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ta(e.outlet.component,i)):n.canDeactivateChecks.push(new ta(null,i)):n.canDeactivateChecks.push(new ta(null,i))}function hl(t){return typeof t=="function"}function a$(t){return typeof t=="boolean"}function c$(t){return t&&hl(t.canLoad)}function l$(t){return t&&hl(t.canActivate)}function u$(t){return t&&hl(t.canActivateChild)}function d$(t){return t&&hl(t.canDeactivate)}function h$(t){return t&&hl(t.canMatch)}function Nx(t){return t instanceof Tr||t?.name==="EmptyError"}var Ah=Symbol("INITIAL_VALUE");function sa(){return zt(t=>_c(t.map(e=>e.pipe(xr(1),am(Ah)))).pipe(re(e=>{for(let n of e)if(n!==!0){if(n===Ah)return Ah;if(n===!1||n instanceof Ii)return n}return!0}),Ht(e=>e!==Ah),xr(1)))}function f$(t,e){return Je(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?z(ve(N({},n),{guardsResult:!0})):p$(o,r,i,t).pipe(Je(a=>a&&a$(a)?g$(r,s,t,e):z(a)),re(a=>ve(N({},n),{guardsResult:a})))})}function p$(t,e,n,r){return Ae(t).pipe(Je(i=>w$(i.component,i.route,n,e,r)),Un(i=>i!==!0,!0))}function g$(t,e,n,r){return Ae(e).pipe(Sr(i=>Do(y$(i.route.parent,r),m$(i.route,r),v$(t,i.path,n),_$(t,i.route,n))),Un(i=>i!==!0,!0))}function m$(t,e){return t!==null&&e&&e(new Y_(t)),z(!0)}function y$(t,e){return t!==null&&e&&e(new G_(t)),z(!0)}function _$(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return z(!0);let i=r.map(s=>_d(()=>{let o=dl(e)??n,a=oa(s,o),c=l$(a)?a.canActivate(e,t):Xn(o,()=>a(e,t));return Si(c).pipe(Un())}));return z(i).pipe(sa())}function v$(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>i$(o)).filter(o=>o!==null).map(o=>_d(()=>{let a=o.guards.map(c=>{let l=dl(o.node)??n,u=oa(c,l),d=u$(u)?u.canActivateChild(r,t):Xn(l,()=>u(r,t));return Si(d).pipe(Un())});return z(a).pipe(sa())}));return z(s).pipe(sa())}function w$(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return z(!0);let o=s.map(a=>{let c=dl(e)??i,l=oa(a,c),u=d$(l)?l.canDeactivate(t,e,n,r):Xn(c,()=>l(t,e,n,r));return Si(u).pipe(Un())});return z(o).pipe(sa())}function b$(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return z(!0);let s=i.map(o=>{let a=oa(o,t),c=c$(a)?a.canLoad(e,n):Xn(t,()=>a(e,n));return Si(c)});return z(s).pipe(sa(),Ox(r))}function Ox(t){return Yg(Ke(e=>{if(ra(e))throw Rx(t,e)}),re(e=>e===!0))}function E$(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return z(!0);let s=i.map(o=>{let a=oa(o,t),c=h$(a)?a.canMatch(e,n):Xn(t,()=>a(e,n));return Si(c)});return z(s).pipe(sa(),Ox(r))}var ol=class{constructor(e){this.segmentGroup=e||null}},Bh=class extends Error{constructor(e){super(),this.urlTree=e}};function Jo(t){return Co(new ol(t))}function I$(t){return Co(new $(4e3,!1))}function C$(t){return Co(Px(!1,3))}var rv=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return z(r);if(i.numberOfChildren>1||!i.children[se])return I$(e.redirectTo);i=i.children[se]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Bh(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Ii(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new be(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},iv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function D$(t,e,n,r,i){let s=hv(t,e,n);return s.matched?(r=e$(e,r),E$(r,e,n,i).pipe(re(o=>o===!0?s:N({},iv)))):z(s)}function hv(t,e,n){if(e.path==="**")return T$(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?N({},iv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||EB)(n,t,e);if(!i)return N({},iv);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?N(N({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function T$(t){return{matched:!0,parameters:t.at(-1)?.parameters??{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function dx(t,e,n,r){return n.length>0&&A$(t,n,r)?{segmentGroup:new be(e,x$(r,new be(n,t.children))),slicedSegments:[]}:n.length===0&&M$(t,n,r)?{segmentGroup:new be(t.segments,S$(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new be(t.segments,t.children),slicedSegments:n}}function S$(t,e,n,r){let i={};for(let s of n)if(zh(t,e,s)&&!r[tr(s)]){let o=new be([],{});i[tr(s)]=o}return N(N({},r),i)}function x$(t,e){let n={};n[se]=e;for(let r of t)if(r.path===""&&tr(r)!==se){let i=new be([],{});n[tr(r)]=i}return n}function A$(t,e,n){return n.some(r=>zh(t,e,r)&&tr(r)!==se)}function M$(t,e,n){return n.some(r=>zh(t,e,r))}function zh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function R$(t,e,n,r){return tr(t)!==r&&(r===se||!zh(e,n,t))?!1:hv(e,t,n).matched}function P$(t,e,n){return e.length===0&&!t.children[n]}var sv=class{};function k$(t,e,n,r,i,s,o="emptyOnly"){return new ov(t,e,n,r,i,o,s).recognize()}var N$=31,ov=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new rv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=dx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(n=>{let r=new il([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,{},se,this.rootComponentType,null,{}),i=new an(r,n),s=new jh("",i),o=BB(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,se).pipe(li(r=>{if(r instanceof Bh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ol?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=cv(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(re(s=>s instanceof an?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Ae(i).pipe(Sr(s=>{let o=r.children[s],a=t$(n,s);return this.processSegmentGroup(e,a,o,s)}),om((s,o)=>(s.push(...o),s)),ui(null),sm(),Je(s=>{if(s===null)return Jo(r);let o=Fx(s);return O$(o),z(o)}))}processSegment(e,n,r,i,s,o){return Ae(n).pipe(Sr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(li(c=>{if(c instanceof ol)return z(null);throw c}))),Un(a=>!!a),li(a=>{if(Nx(a))return P$(r,i,s)?z(new sv):Jo(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return R$(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Jo(i):Jo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=hv(n,i,s);if(!a)return Jo(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>N$&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(Je(h=>this.processSegment(e,r,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=D$(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(zt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(zt(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new il(u,h,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,L$(r),tr(r),r.component??r._loadedComponent??null,r,V$(r)),{segmentGroup:p,slicedSegments:m}=dx(n,u,d,c);if(m.length===0&&p.hasChildren())return this.processChildren(l,c,p).pipe(re(y=>y===null?null:new an(f,y)));if(c.length===0&&m.length===0)return z(new an(f,[]));let g=tr(r)===s;return this.processSegment(l,c,p,m,g?se:s,!0).pipe(re(y=>new an(f,y instanceof an?[y]:[])))}))):Jo(n)))}getChildConfig(e,n,r){return n.children?z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?z({routes:n._loadedRoutes,injector:n._loadedInjector}):b$(e,n,r,this.urlSerializer).pipe(Je(i=>i?this.configLoader.loadChildren(e,n).pipe(Ke(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):C$(n))):z({routes:[],injector:e})}};function O$(t){t.sort((e,n)=>e.value.outlet===se?-1:n.value.outlet===se?1:e.value.outlet.localeCompare(n.value.outlet))}function F$(t){let e=t.value.routeConfig;return e&&e.path===""}function Fx(t){let e=[],n=new Set;for(let r of t){if(!F$(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Fx(r.children);e.push(new an(r.value,i))}return e.filter(r=>!n.has(r))}function L$(t){return t.data||{}}function V$(t){return t.resolve||{}}function j$(t,e,n,r,i,s){return Je(o=>k$(t,e,n,r,o.extractedUrl,i,s).pipe(re(({state:a,tree:c})=>ve(N({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function U$(t,e){return Je(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return z(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of Lx(c))o.add(l);let a=0;return Ae(o).pipe(Sr(c=>s.has(c)?B$(c,r,t,e):(c.data=cv(c,c.parent,t).resolve,z(void 0))),Ke(()=>a++),To(1),Je(c=>a===o.size?z(n):dn))})}function Lx(t){let e=t.children.map(n=>Lx(n)).flat();return[t,...e]}function B$(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Ax(i)&&(s[cl]=i.title),$$(s,t,e,r).pipe(re(o=>(t._resolvedData=o,t.data=cv(t,t.parent,n).resolve,null)))}function $$(t,e,n,r){let i=L_(t);if(i.length===0)return z({});let s={};return Ae(i).pipe(Je(o=>H$(t[o],e,n,r).pipe(Un(),Ke(a=>{s[o]=a}))),To(1),im(s),li(o=>Nx(o)?dn:Co(o)))}function H$(t,e,n,r){let i=dl(e)??r,s=oa(t,i),o=s.resolve?s.resolve(e,n):Xn(i,()=>s(e,n));return Si(o)}function O_(t){return zt(e=>{let n=t(e);return n?Ae(n).pipe(re(()=>e)):z(e)})}var Vx=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===se);return i}getResolvedTitleForRoute(r){return r.data[cl]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>(()=>R(z$))(),providedIn:"root"});let t=e;return t})(),z$=(()=>{let e=class e extends Vx{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(j(R_))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fl=new U("",{providedIn:"root",factory:()=>({})}),al=new U("ROUTES"),fv=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=R(mh)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Si(r.loadComponent()).pipe(re(jx),Ke(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),di(()=>{this.componentLoaders.delete(r)})),s=new wo(i,()=>new Bt).pipe(vo());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=q$(i,this.compiler,r,this.onLoadEndListener).pipe(di(()=>{this.childrenLoaders.delete(i)})),a=new wo(o,()=>new Bt).pipe(vo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function q$(t,e,n,r){return Si(t.loadChildren()).pipe(re(jx),Je(i=>i instanceof Ac||Array.isArray(i)?z(i):Ae(e.compileModuleAsync(i))),re(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(al,[],{optional:!0,self:!0}).flat()),{routes:o.map(dv),injector:s}}))}function W$(t){return t&&typeof t=="object"&&"default"in t}function jx(t){return W$(t)?t.default:t}var pv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>(()=>R(G$))(),providedIn:"root"});let t=e;return t})(),G$=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ux=new U(""),Bx=new U("");function K$(t,e,n){let r=t.get(Bx),i=t.get(bt);return t.get(me).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),Y$(t))),{onViewTransitionCreated:c}=r;return c&&Xn(t,()=>c({transition:a,from:e,to:n})),o})}function Y$(t){return new Promise(e=>{e_(e,{injector:t})})}var gv=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Bt,this.transitionAbortSubject=new Bt,this.configLoader=R(fv),this.environmentInjector=R(Ft),this.urlSerializer=R(ll),this.rootContexts=R(ul),this.location=R(bi),this.inputBindingEnabled=R(Hh,{optional:!0})!==null,this.titleStrategy=R(Vx),this.options=R(fl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=R(pv),this.createViewTransition=R(Ux,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null;let r=s=>this.events.next(new q_(s)),i=s=>this.events.next(new W_(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ve(N(N({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new yt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xc,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ht(o=>o.id!==0),re(o=>ve(N({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),zt(o=>{this.currentTransition=o;let a=!1,c=!1;return z(o).pipe(Ke(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ve(N({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),zt(l=>{let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new Di(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),dn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return z(l).pipe(zt(h=>{let f=this.transitions?.getValue();return this.events.next(new ia(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?dn:Promise.resolve(h)}),j$(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ke(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ve(N({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Oh(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=l,y=new ia(h,this.urlSerializer.serialize(f),p,m);this.events.next(y);let v=Sx(this.rootComponentType).snapshot;return this.currentTransition=o=ve(N({},l),{targetSnapshot:v,urlAfterRedirects:f,extras:ve(N({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,z(o)}else{let h="";return this.events.next(new Di(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),dn}}),Ke(l=>{let u=new B_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),re(l=>(this.currentTransition=o=ve(N({},l),{guards:r$(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),f$(this.environmentInjector,l=>this.events.next(l)),Ke(l=>{if(o.guardsResult=l.guardsResult,ra(l.guardsResult))throw Rx(this.urlSerializer,l.guardsResult);let u=new $_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Ht(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",3),!1)),O_(l=>{if(l.guards.canActivateChecks.length)return z(l).pipe(Ke(u=>{let d=new H_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),zt(u=>{let d=!1;return z(u).pipe(U$(this.paramsInheritanceStrategy,this.environmentInjector),Ke({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Ke(u=>{let d=new z_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),O_(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ke(f=>{d.component=f}),re(()=>{})));for(let f of d.children)h.push(...u(f));return h};return _c(u(l.targetSnapshot.root)).pipe(ui(null),xr(1))}),O_(()=>this.afterPreactivation()),zt(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?Ae(d).pipe(re(()=>o)):z(o)}),re(l=>{let u=YB(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ve(N({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Ke(()=>{this.events.next(new nl)}),n$(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),xr(1),Ke({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),cm(this.transitionAbortSubject.pipe(Ke(l=>{throw l}))),di(()=>{if(!a&&!c){let l="";this.cancelNavigationTransition(o,l,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),li(l=>{if(c=!0,kx(l))this.events.next(new Ci(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),JB(l)?this.events.next(new rl(l.url)):o.resolve(!1);else{this.events.next(new tl(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(u){o.reject(u)}}return dn}))}))}cancelNavigationTransition(r,i,s){let o=new Ci(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Q$(t){return t!==Xc}var X$=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>(()=>R(J$))(),providedIn:"root"});let t=e;return t})(),av=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},J$=(()=>{let e=class e extends av{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Oc(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$x=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>(()=>R(Z$))(),providedIn:"root"});let t=e;return t})(),Z$=(()=>{let e=class e extends $x{constructor(){super(...arguments),this.location=R(bi),this.urlSerializer=R(ll),this.options=R(fl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=R(pv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ii,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Sx(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ia)this.stateMemento=this.createStateMemento();else if(r instanceof Di)this.rawUrlTree=i.initialUrl;else if(r instanceof Oh){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof nl?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Ci&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof tl?this.restoreHistory(i,!0):r instanceof Mn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=N(N({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=N(N({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Oc(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Yc||{});function Hx(t,e){t.events.pipe(Ht(n=>n instanceof Mn||n instanceof Ci||n instanceof tl||n instanceof Di),re(n=>n instanceof Mn||n instanceof Di?Yc.COMPLETE:(n instanceof Ci?n.code===0||n.code===1:!1)?Yc.REDIRECTING:Yc.FAILED),Ht(n=>n!==Yc.REDIRECTING),xr(1)).subscribe(()=>{e()})}function eH(t){throw t}var tH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Kt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=R(gh),this.stateManager=R($x),this.options=R(fl,{optional:!0})||{},this.pendingTasks=R(Is),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=R(gv),this.urlSerializer=R(ll),this.location=R(bi),this.urlHandlingStrategy=R(pv),this._events=new Bt,this.errorHandler=this.options.errorHandler||eH,this.navigated=!1,this.routeReuseStrategy=R(X$),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=R(al,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!R(Hh,{optional:!0}),this.eventsSubscription=new Ge,this.isNgZoneEnabled=R(me)instanceof me&&me.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ci&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof Mn)this.navigated=!0;else if(i instanceof rl){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Q$(s.source)};this.scheduleNavigation(a,Xc,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}iH(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=N({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(dv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=N(N({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=Ix(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return Cx(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ra(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Xc,null,i)}navigate(r,i={skipLocationChange:!1}){return rH(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=N({},tH):i===!1?s=N({},nH):s=i,ra(r))return ox(this.currentUrlTree,r,s);let o=this.parseUrl(r);return ox(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,f)=>{c=h,l=f});let d=this.pendingTasks.add();return Hx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rH(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function iH(t){return!(t instanceof nl)&&!(t instanceof rl)}var nr=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Bt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof Mn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:BT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(q(Kt),q(Ti),ky("tabindex"),q(vi),q(gn),q(Lr))},e.\u0275dir=sn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Ce("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&fh("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Cs],skipLocationChange:["skipLocationChange","skipLocationChange",Cs],replaceUrl:["replaceUrl","replaceUrl",Cs],routerLink:"routerLink"},standalone:!0,features:[r_,yi]});let t=e;return t})(),qh=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new _t,this.routerEventsSubscription=r.events.subscribe(c=>{c instanceof Mn&&this.update()})}ngAfterContentInit(){z(this.links.changes,z(null)).pipe(ci()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ae(r).pipe(ci()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){let i=sH(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>s.urlTree?r.isActive(s.urlTree,i):!1}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(q(Kt),q(gn),q(vi),q(bs),q(nr,8))},e.\u0275dir=sn({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&IS(o,nr,5),i&2){let a;ES(a=CS())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[yi]});let t=e;return t})();function sH(t){return!!t.paths}var $h=class{};var oH=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ht(r=>r instanceof Mn),Sr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=ph(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Ae(s).pipe(ci())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=z(null);let o=s.pipe(Je(a=>a===null?z(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Ae([o,a]).pipe(ci())}else return o})}};e.\u0275fac=function(i){return new(i||e)(j(Kt),j(mh),j(Ft),j($h),j(fv))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zx=new U(""),aH=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ia?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Mn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Di&&r.code===0&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Fh&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Fh(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){QT()},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function qx(t,...e){return $o([{provide:al,multi:!0,useValue:t},[],{provide:Ti,useFactory:Wx,deps:[Kt]},{provide:Uc,multi:!0,useFactory:Gx},e.map(n=>n.\u0275providers)])}function Wx(t){return t.routerState.root}function pl(t,e){return{\u0275kind:t,\u0275providers:e}}function Gx(){let t=R(dt);return e=>{let n=t.get(Ko);if(e!==n.components[0])return;let r=t.get(Kt),i=t.get(Kx);t.get(mv)===1&&r.initialNavigation(),t.get(Yx,null,ae.Optional)?.setUpPreloading(),t.get(zx,null,ae.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Kx=new U("",{factory:()=>new Bt}),mv=new U("",{providedIn:"root",factory:()=>1});function cH(){return pl(2,[{provide:mv,useValue:0},{provide:yh,multi:!0,deps:[dt],useFactory:e=>{let n=e.get(LS,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Kt),s=e.get(Kx);Hx(i,()=>{r(!0)}),e.get(gv).afterPreactivation=()=>(r(!0),s.closed?z(void 0):s),i.initialNavigation()}))}}])}function lH(){return pl(3,[{provide:yh,multi:!0,useFactory:()=>{let e=R(Kt);return()=>{e.setUpLocationChangeListener()}}},{provide:mv,useValue:2}])}var Yx=new U("");function uH(t){return pl(0,[{provide:Yx,useExisting:oH},{provide:$h,useExisting:t}])}function yv(){return pl(8,[ux,{provide:Hh,useExisting:ux}])}function dH(t){let e=[{provide:Ux,useValue:K$},{provide:Bx,useValue:N({skipNextTransition:!!t?.skipInitialTransition},t)}];return pl(9,e)}var hx=new U("ROUTER_FORROOT_GUARD"),hH=[bi,{provide:ll,useClass:Zc},Kt,ul,{provide:Ti,useFactory:Wx,deps:[Kt]},fv,[]],rr=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[hH,[],{provide:al,multi:!0,useValue:r},{provide:hx,useFactory:mH,deps:[[Kt,new Ye,new Oy]]},{provide:fl,useValue:i||{}},i?.useHash?pH():gH(),fH(),i?.preloadingStrategy?uH(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?yH(i):[],i?.bindToComponentInputs?yv().\u0275providers:[],i?.enableViewTransitions?dH().\u0275providers:[],_H()]}}static forChild(r){return{ngModule:e,providers:[{provide:al,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(j(hx,8))},e.\u0275mod=st({type:e}),e.\u0275inj=it({});let t=e;return t})();function fH(){return{provide:zx,useFactory:()=>{let t=R(US),e=R(me),n=R(fl),r=R(gv),i=R(ll);return n.scrollOffset&&t.setOffset(n.scrollOffset),new aH(i,r,t,e,n)}}}function pH(){return{provide:Lr,useClass:jS}}function gH(){return{provide:Lr,useClass:g_}}function mH(t){return"guarded"}function yH(t){return[t.initialNavigation==="disabled"?lH().\u0275providers:[],t.initialNavigation==="enabledBlocking"?cH().\u0275providers:[]]}var fx=new U("");function _H(){return[{provide:fx,useFactory:Gx},{provide:Uc,multi:!0,useExisting:fx}]}function yl(t){return t+.5|0}var xi=(t,e,n)=>Math.max(Math.min(t,n),e);function gl(t){return xi(yl(t*2.55),0,255)}function Ai(t){return xi(yl(t*255),0,255)}function Vr(t){return xi(yl(t/2.55)/100,0,1)}function Qx(t){return xi(yl(t*100),0,100)}var yn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},vv=[..."0123456789ABCDEF"],vH=t=>vv[t&15],wH=t=>vv[(t&240)>>4]+vv[t&15],Wh=t=>(t&240)>>4===(t&15),bH=t=>Wh(t.r)&&Wh(t.g)&&Wh(t.b)&&Wh(t.a);function EH(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&yn[t[1]]*17,g:255&yn[t[2]]*17,b:255&yn[t[3]]*17,a:e===5?yn[t[4]]*17:255}:(e===7||e===9)&&(n={r:yn[t[1]]<<4|yn[t[2]],g:yn[t[3]]<<4|yn[t[4]],b:yn[t[5]]<<4|yn[t[6]],a:e===9?yn[t[7]]<<4|yn[t[8]]:255})),n}var IH=(t,e)=>t<255?e(t):"";function CH(t){var e=bH(t)?vH:wH;return t?"#"+e(t.r)+e(t.g)+e(t.b)+IH(t.a,e):void 0}var DH=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function eA(t,e,n){let r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function TH(t,e,n){let r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function SH(t,e,n){let r=eA(t,1,.5),i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function xH(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function wv(t){let n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2,c,l,u;return s!==o&&(u=s-o,l=a>.5?u/(2-s-o):u/(s+o),c=xH(n,r,i,u,s),c=c*60+.5),[c|0,l||0,a]}function bv(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Ai)}function Ev(t,e,n){return bv(eA,t,e,n)}function AH(t,e,n){return bv(SH,t,e,n)}function MH(t,e,n){return bv(TH,t,e,n)}function tA(t){return(t%360+360)%360}function RH(t){let e=DH.exec(t),n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?gl(+e[5]):Ai(+e[5]));let i=tA(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=AH(i,s,o):e[1]==="hsv"?r=MH(i,s,o):r=Ev(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function PH(t,e){var n=wv(t);n[0]=tA(n[0]+e),n=Ev(n),t.r=n[0],t.g=n[1],t.b=n[2]}function kH(t){if(!t)return;let e=wv(t),n=e[0],r=Qx(e[1]),i=Qx(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Vr(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}var Xx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Jx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function NH(){let t={},e=Object.keys(Jx),n=Object.keys(Xx),r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,Xx[s]);s=parseInt(Jx[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}var Gh;function OH(t){Gh||(Gh=NH(),Gh.transparent=[0,0,0,0]);let e=Gh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var FH=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function LH(t){let e=FH.exec(t),n=255,r,i,s;if(e){if(e[7]!==r){let o=+e[7];n=e[8]?gl(o):xi(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?gl(r):xi(r,0,255)),i=255&(e[4]?gl(i):xi(i,0,255)),s=255&(e[6]?gl(s):xi(s,0,255)),{r,g:i,b:s,a:n}}}function VH(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Vr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var _v=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ca=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function jH(t,e,n){let r=ca(Vr(t.r)),i=ca(Vr(t.g)),s=ca(Vr(t.b));return{r:Ai(_v(r+n*(ca(Vr(e.r))-r))),g:Ai(_v(i+n*(ca(Vr(e.g))-i))),b:Ai(_v(s+n*(ca(Vr(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Kh(t,e,n){if(t){let r=wv(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Ev(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function nA(t,e){return t&&Object.assign(e||{},t)}function Zx(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ai(t[3]))):(e=nA(t,{r:0,g:0,b:0,a:1}),e.a=Ai(e.a)),e}function UH(t){return t.charAt(0)==="r"?LH(t):RH(t)}var ml=class t{constructor(e){if(e instanceof t)return e;let n=typeof e,r;n==="object"?r=Zx(e):n==="string"&&(r=EH(e)||OH(e)||UH(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=nA(this._rgb);return e&&(e.a=Vr(e.a)),e}set rgb(e){this._rgb=Zx(e)}rgbString(){return this._valid?VH(this._rgb):void 0}hexString(){return this._valid?CH(this._rgb):void 0}hslString(){return this._valid?kH(this._rgb):void 0}mix(e,n){if(e){let r=this.rgb,i=e.rgb,s,o=n===s?.5:n,a=2*o-1,c=r.a-i.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;s=1-l,r.r=255&l*r.r+s*i.r+.5,r.g=255&l*r.g+s*i.g+.5,r.b=255&l*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=jH(this._rgb,e._rgb,n)),this}clone(){return new t(this.rgb)}alpha(e){return this._rgb.a=Ai(e),this}clearer(e){let n=this._rgb;return n.a*=1-e,this}greyscale(){let e=this._rgb,n=yl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){let n=this._rgb;return n.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Kh(this._rgb,2,e),this}darken(e){return Kh(this._rgb,2,-e),this}saturate(e){return Kh(this._rgb,1,e),this}desaturate(e){return Kh(this._rgb,1,-e),this}rotate(e){return PH(this._rgb,e),this}};function or(){}var fA=(()=>{let t=0;return()=>t++})();function ye(t){return t===null||typeof t>"u"}function Me(t){if(Array.isArray&&Array.isArray(t))return!0;let e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function le(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ve(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Qt(t,e){return Ve(t)?t:e}function Z(t,e){return typeof t>"u"?e:t}var pA=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Tv=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function xe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ee(t,e,n,r){let i,s,o;if(Me(t))if(s=t.length,r)for(i=s-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<s;i++)e.call(n,t[i],i);else if(le(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function wl(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Jh(t){if(Me(t))return t.map(Jh);if(le(t)){let e=Object.create(null),n=Object.keys(t),r=n.length,i=0;for(;i<r;++i)e[n[i]]=Jh(t[n[i]]);return e}return t}function gA(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function BH(t,e,n,r){if(!gA(t))return;let i=e[t],s=n[t];le(i)&&le(s)?ua(i,s,r):e[t]=Jh(s)}function ua(t,e,n){let r=Me(e)?e:[e],i=r.length;if(!le(t))return t;n=n||{};let s=n.merger||BH,o;for(let a=0;a<i;++a){if(o=r[a],!le(o))continue;let c=Object.keys(o);for(let l=0,u=c.length;l<u;++l)s(c[l],t,o,n)}return t}function ha(t,e){return ua(t,e,{merger:$H})}function $H(t,e,n){if(!gA(t))return;let r=e[t],i=n[t];le(r)&&le(i)?ha(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Jh(i))}var rA={"":t=>t,x:t=>t.x,y:t=>t.y};function HH(t){let e=t.split("."),n=[],r="";for(let i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function zH(t){let e=HH(t);return n=>{for(let r of e){if(r==="")break;n=n&&n[r]}return n}}function Br(t,e){return(rA[e]||(rA[e]=zH(e)))(t)}function nf(t){return t.charAt(0).toUpperCase()+t.slice(1)}var fa=t=>typeof t<"u",jr=t=>typeof t=="function",Sv=(t,e)=>{if(t.size!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0};function mA(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var Re=Math.PI,Pe=2*Re,qH=Pe+Re,Zh=Number.POSITIVE_INFINITY,WH=Re/180,Be=Re/2,As=Re/4,iA=Re*2/3,Ur=Math.log10,Rn=Math.sign;function pa(t,e,n){return Math.abs(t-e)<n}function xv(t){let e=Math.round(t);t=pa(t,e,t/1e3)?e:t;let n=Math.pow(10,Math.floor(Ur(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function yA(t){let e=[],n=Math.sqrt(t),r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function Ps(t){return!isNaN(parseFloat(t))&&isFinite(t)}function _A(t,e){let n=Math.round(t);return n-e<=t&&n+e>=t}function Av(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function _n(t){return t*(Re/180)}function rf(t){return t*(180/Re)}function Mv(t){if(!Ve(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Rv(t,e){let n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r),s=Math.atan2(r,n);return s<-.5*Re&&(s+=Pe),{angle:s,distance:i}}function ef(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function GH(t,e){return(t-e+qH)%Pe-Re}function Yt(t){return(t%Pe+Pe)%Pe}function ga(t,e,n,r){let i=Yt(t),s=Yt(e),o=Yt(n),a=Yt(s-i),c=Yt(o-i),l=Yt(i-s),u=Yt(i-o);return i===s||i===o||r&&s===o||a>c&&l<u}function lt(t,e,n){return Math.max(e,Math.min(n,t))}function vA(t){return lt(t,-32768,32767)}function ar(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function sf(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}var ir=(t,e,n,r)=>sf(t,n,r?i=>{let s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),wA=(t,e,n)=>sf(t,n,r=>t[r][e]>=n);function bA(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}var EA=["push","pop","shift","splice","unshift"];function IA(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),EA.forEach(n=>{let r="_onData"+nf(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){let o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function Pv(t,e){let n=t._chartjs;if(!n)return;let r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(EA.forEach(s=>{delete t[s]}),delete t._chartjs)}function kv(t){let e=new Set(t);return e.size===t.length?t:Array.from(e)}var Nv=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Ov(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,Nv.call(window,()=>{r=!1,t.apply(e,n)}))}}function CA(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}var of=t=>t==="start"?"left":t==="end"?"right":"center",Et=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,DA=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function Fv(t,e,n){let r=e.length,i=0,s=r;if(t._sorted){let{iScale:o,_parsed:a}=t,c=o.axis,{min:l,max:u,minDefined:d,maxDefined:h}=o.getUserBounds();d&&(i=lt(Math.min(ir(a,c,l).lo,n?r:ir(e,c,o.getPixelForValue(l)).lo),0,r-1)),h?s=lt(Math.max(ir(a,o.axis,u,!0).hi+1,n?0:ir(e,c,o.getPixelForValue(u),!0).hi+1),i,r)-i:s=r-i}return{start:i,count:s}}function Lv(t){let{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;let s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}var Yh=t=>t===0||t===1,sA=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Pe/n)),oA=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Pe/n)+1,la={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Be)+1,easeOutSine:t=>Math.sin(t*Be),easeInOutSine:t=>-.5*(Math.cos(Re*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Yh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Yh(t)?t:sA(t,.075,.3),easeOutElastic:t=>Yh(t)?t:oA(t,.075,.3),easeInOutElastic(t){return Yh(t)?t:t<.5?.5*sA(t*2,.1125,.45):.5+.5*oA(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-la.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?la.easeInBounce(t*2)*.5:la.easeOutBounce(t*2-1)*.5+.5};function Vv(t){if(t&&typeof t=="object"){let e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function jv(t){return Vv(t)?t:new ml(t)}function Iv(t){return Vv(t)?t:new ml(t).saturate(.5).darken(.1).hexString()}var KH=["x","y","borderWidth","radius","tension"],YH=["color","borderColor","backgroundColor"];function QH(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:YH},numbers:{type:"number",properties:KH}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function XH(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var aA=new Map;function JH(t,e){e=e||{};let n=t+JSON.stringify(e),r=aA.get(n);return r||(r=new Intl.NumberFormat(t,e),aA.set(n,r)),r}function ma(t,e,n){return JH(e,n).format(t)}var TA={values(t){return Me(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";let r=this.chart.options.locale,i,s=t;if(n.length>1){let l=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(l<1e-4||l>1e15)&&(i="scientific"),s=ZH(t,n)}let o=Ur(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),ma(t,r,c)},logarithmic(t,e,n){if(t===0)return"0";let r=n[e].significand||t/Math.pow(10,Math.floor(Ur(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?TA.numeric.call(this,t,e,n):""}};function ZH(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var bl={formatters:TA};function ez(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:bl.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var Ri=Object.create(null),af=Object.create(null);function _l(t,e){if(!e)return t;let n=e.split(".");for(let r=0,i=n.length;r<i;++r){let s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function Cv(t,e,n){return typeof e=="string"?ua(_l(t,e),n):ua(_l(t,""),e)}var Dv=class{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Iv(i.backgroundColor),this.hoverBorderColor=(r,i)=>Iv(i.borderColor),this.hoverColor=(r,i)=>Iv(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Cv(this,e,n)}get(e){return _l(this,e)}describe(e,n){return Cv(af,e,n)}override(e,n){return Cv(Ri,e,n)}route(e,n,r,i){let s=_l(this,e),o=_l(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){let c=this[a],l=o[i];return le(c)?Object.assign({},l,c):Z(c,l)},set(c){this[a]=c}}})}apply(e){e.forEach(n=>n(this))}},je=new Dv({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[QH,XH,ez]);function tz(t){return!t||ye(t.size)||ye(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function vl(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function SA(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0,a=n.length,c,l,u,d,h;for(c=0;c<a;c++)if(d=n[c],d!=null&&!Me(d))o=vl(t,i,s,o,d);else if(Me(d))for(l=0,u=d.length;l<u;l++)h=d[l],h!=null&&!Me(h)&&(o=vl(t,i,s,o,h));t.restore();let f=s.length/2;if(f>n.length){for(c=0;c<f;c++)delete i[s[c]];s.splice(0,f)}return o}function Pi(t,e,n){let r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function Uv(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function cf(t,e,n,r){Bv(t,e,n,r,null)}function Bv(t,e,n,r,i){let s,o,a,c,l,u,d,h,f=e.pointStyle,p=e.rotation,m=e.radius,g=(p||0)*WH;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(g),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,r,i/2,m,0,0,Pe):t.arc(n,r,m,0,Pe),t.closePath();break;case"triangle":u=i?i/2:m,t.moveTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=iA,t.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=iA,t.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),t.closePath();break;case"rectRounded":l=m*.516,c=m-l,o=Math.cos(g+As)*c,d=Math.cos(g+As)*(i?i/2-l:c),a=Math.sin(g+As)*c,h=Math.sin(g+As)*(i?i/2-l:c),t.arc(n-d,r-a,l,g-Re,g-Be),t.arc(n+h,r-o,l,g-Be,g),t.arc(n+d,r+a,l,g,g+Be),t.arc(n-h,r+o,l,g+Be,g+Re),t.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*m,u=i?i/2:c,t.rect(n-u,r-c,2*u,2*c);break}g+=As;case"rectRot":d=Math.cos(g)*(i?i/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),t.moveTo(n-d,r-a),t.lineTo(n+h,r-o),t.lineTo(n+d,r+a),t.lineTo(n-h,r+o),t.closePath();break;case"crossRot":g+=As;case"cross":d=Math.cos(g)*(i?i/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"star":d=Math.cos(g)*(i?i/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o),g+=As,d=Math.cos(g)*(i?i/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"line":o=i?i/2:Math.cos(g)*m,a=Math.sin(g)*m,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(g)*(i?i/2:m),r+Math.sin(g)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function sr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function El(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Il(t){t.restore()}function xA(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){let s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function AA(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function nz(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ye(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function rz(t,e,n,r,i){if(i.strikethrough||i.underline){let s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,c=n-s.actualBoundingBoxAscent,l=n+s.actualBoundingBoxDescent,u=i.strikethrough?(c+l)/2:l;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function iz(t,e){let n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function ki(t,e,n,r,i,s={}){let o=Me(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="",c,l;for(t.save(),t.font=i.string,nz(t,s),c=0;c<o.length;++c)l=o[c],s.backdrop&&iz(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),ye(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(l,n,r,s.maxWidth)),t.fillText(l,n,r,s.maxWidth),rz(t,n,r,l,s),r+=Number(i.lineHeight);t.restore()}function ya(t,e){let{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Re,Re,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Re,Be,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Be,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Be,!0),t.lineTo(n+o.topLeft,r)}var sz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,oz=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function az(t,e){let n=(""+t).match(sz);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}var cz=t=>+t||0;function lf(t,e){let n={},r=le(e),i=r?Object.keys(e):e,s=le(t)?r?o=>Z(t[o],t[e[o]]):o=>t[o]:()=>t;for(let o of i)n[o]=cz(s(o));return n}function $v(t){return lf(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ni(t){return lf(t,["topLeft","topRight","bottomLeft","bottomRight"])}function It(t){let e=$v(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ze(t,e){t=t||{},e=e||je.font;let n=Z(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Z(t.style,e.style);r&&!(""+r).match(oz)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);let i={family:Z(t.family,e.family),lineHeight:az(Z(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Z(t.weight,e.weight),string:""};return i.string=tz(i),i}function _a(t,e,n,r){let i=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),n!==void 0&&Me(a)&&(a=a[n%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function MA(t,e,n){let{min:r,max:i}=t,s=Tv(e,(i-r)/2),o=(a,c)=>n&&a===0?0:a+c;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function $r(t,e){return Object.assign(Object.create(t),e)}function uf(t,e=[""],n,r,i=()=>t[0]){let s=n||t;typeof r>"u"&&(r=kA("_fallback",t));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>uf([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete t[0][c],!0},get(a,c){return RA(a,c,()=>mz(c,e,t,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,c){return lA(a).includes(c)},ownKeys(a){return lA(a)},set(a,c,l){let u=a._storage||(a._storage=i());return a[c]=u[c]=l,delete a._keys,!0}})}function Rs(t,e,n,r){let i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Hv(t,r),setContext:s=>Rs(t,s,n,r),override:s=>Rs(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return RA(s,o,()=>uz(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function Hv(t,e={scriptable:!0,indexable:!0}){let{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:jr(n)?n:()=>n,isIndexable:jr(r)?r:()=>r}}var lz=(t,e)=>t?t+nf(e):e,zv=(t,e)=>le(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function RA(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];let r=n();return t[e]=r,r}function uz(t,e,n){let{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t,a=r[e];return jr(a)&&o.isScriptable(e)&&(a=dz(e,a,t,n)),Me(a)&&a.length&&(a=hz(e,a,t,o.isIndexable)),zv(e,a)&&(a=Rs(a,i,s&&s[e],o)),a}function dz(t,e,n,r){let{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let c=e(s,o||r);return a.delete(t),zv(t,c)&&(c=qv(i._scopes,i,t,c)),c}function hz(t,e,n,r){let{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(le(e[0])){let c=e,l=i._scopes.filter(u=>u!==c);e=[];for(let u of c){let d=qv(l,i,t,u);e.push(Rs(d,s,o&&o[t],a))}}return e}function PA(t,e,n){return jr(t)?t(e,n):t}var fz=(t,e)=>t===!0?e:typeof t=="string"?Br(e,t):void 0;function pz(t,e,n,r,i){for(let s of e){let o=fz(n,s);if(o){t.add(o);let a=PA(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function qv(t,e,n,r){let i=e._rootScopes,s=PA(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let c=cA(a,o,n,s||n,r);return c===null||typeof s<"u"&&s!==n&&(c=cA(a,o,s,c,r),c===null)?!1:uf(Array.from(a),[""],i,s,()=>gz(e,n,r))}function cA(t,e,n,r,i){for(;n;)n=pz(t,e,n,r,i);return n}function gz(t,e,n){let r=t._getTarget();e in r||(r[e]={});let i=r[e];return Me(i)&&le(n)?n:i||{}}function mz(t,e,n,r){let i;for(let s of e)if(i=kA(lz(s,t),n),typeof i<"u")return zv(t,i)?qv(n,r,t,i):i}function kA(t,e){for(let n of e){if(!n)continue;let r=n[t];if(typeof r<"u")return r}}function lA(t){let e=t._keys;return e||(e=t._keys=yz(t._scopes)),e}function yz(t){let e=new Set;for(let n of t)for(let r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function Wv(t,e,n,r){let{iScale:i}=t,{key:s="r"}=this._parsing,o=new Array(r),a,c,l,u;for(a=0,c=r;a<c;++a)l=a+n,u=e[l],o[a]={r:i.parse(Br(u,s),l)};return o}var _z=Number.EPSILON||1e-14,da=(t,e)=>e<t.length&&!t[e].skip&&t[e],NA=t=>t==="x"?"y":"x";function vz(t,e,n,r){let i=t.skip?e:t,s=e,o=n.skip?e:n,a=ef(s,i),c=ef(o,s),l=a/(a+c),u=c/(a+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;let d=r*l,h=r*u;return{previous:{x:s.x-d*(o.x-i.x),y:s.y-d*(o.y-i.y)},next:{x:s.x+h*(o.x-i.x),y:s.y+h*(o.y-i.y)}}}function wz(t,e,n){let r=t.length,i,s,o,a,c,l=da(t,0);for(let u=0;u<r-1;++u)if(c=l,l=da(t,u+1),!(!c||!l)){if(pa(e[u],0,_z)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=s*o*e[u])}}function bz(t,e,n="x"){let r=NA(n),i=t.length,s,o,a,c=da(t,0);for(let l=0;l<i;++l){if(o=a,a=c,c=da(t,l+1),!a)continue;let u=a[n],d=a[r];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${r}`]=d-s*e[l]),c&&(s=(c[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${r}`]=d+s*e[l])}}function Ez(t,e="x"){let n=NA(e),r=t.length,i=Array(r).fill(0),s=Array(r),o,a,c,l=da(t,0);for(o=0;o<r;++o)if(a=c,c=l,l=da(t,o+1),!!c){if(l){let u=l[e]-c[e];i[o]=u!==0?(l[n]-c[n])/u:0}s[o]=a?l?Rn(i[o-1])!==Rn(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}wz(t,i,s),bz(t,s,e)}function Qh(t,e,n){return Math.max(Math.min(t,n),e)}function Iz(t,e){let n,r,i,s,o,a=sr(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&sr(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=Qh(i.cp1x,e.left,e.right),i.cp1y=Qh(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Qh(i.cp2x,e.left,e.right),i.cp2y=Qh(i.cp2y,e.top,e.bottom)))}function OA(t,e,n,r,i){let s,o,a,c;if(e.spanGaps&&(t=t.filter(l=>!l.skip)),e.cubicInterpolationMode==="monotone")Ez(t,i);else{let l=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],c=vz(l,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}e.capBezierPoints&&Iz(t,n)}function df(){return typeof window<"u"&&typeof document<"u"}function hf(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function tf(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}var ff=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Cz(t,e){return ff(t).getPropertyValue(e)}var Dz=["top","right","bottom","left"];function Ms(t,e,n){let r={};n=n?"-"+n:"";for(let i=0;i<4;i++){let s=Dz[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var Tz=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Sz(t,e){let n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r,o=!1,a,c;if(Tz(i,s,t.target))a=i,c=s;else{let l=e.getBoundingClientRect();a=r.clientX-l.left,c=r.clientY-l.top,o=!0}return{x:a,y:c,box:o}}function Oi(t,e){if("native"in t)return t;let{canvas:n,currentDevicePixelRatio:r}=e,i=ff(n),s=i.boxSizing==="border-box",o=Ms(i,"padding"),a=Ms(i,"border","width"),{x:c,y:l,box:u}=Sz(t,n),d=o.left+(u&&a.left),h=o.top+(u&&a.top),{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((c-d)/f*n.width/r),y:Math.round((l-h)/p*n.height/r)}}function xz(t,e,n){let r,i;if(e===void 0||n===void 0){let s=hf(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{let o=s.getBoundingClientRect(),a=ff(s),c=Ms(a,"border","width"),l=Ms(a,"padding");e=o.width-l.width-c.width,n=o.height-l.height-c.height,r=tf(a.maxWidth,s,"clientWidth"),i=tf(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||Zh,maxHeight:i||Zh}}var Xh=t=>Math.round(t*10)/10;function FA(t,e,n,r){let i=ff(t),s=Ms(i,"margin"),o=tf(i.maxWidth,t,"clientWidth")||Zh,a=tf(i.maxHeight,t,"clientHeight")||Zh,c=xz(t,e,n),{width:l,height:u}=c;if(i.boxSizing==="content-box"){let h=Ms(i,"border","width"),f=Ms(i,"padding");l-=f.width+h.width,u-=f.height+h.height}return l=Math.max(0,l-s.width),u=Math.max(0,r?l/r:u-s.height),l=Xh(Math.min(l,o,c.maxWidth)),u=Xh(Math.min(u,a,c.maxHeight)),l&&!u&&(u=Xh(l/2)),(e!==void 0||n!==void 0)&&r&&c.height&&u>c.height&&(u=c.height,l=Xh(Math.floor(u*r))),{width:l,height:u}}function Gv(t,e,n){let r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);let o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}var LA=function(){let t=!1;try{let e={get passive(){return t=!0,!1}};df()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Kv(t,e){let n=Cz(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Mi(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function VA(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function jA(t,e,n,r){let i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Mi(t,i,n),a=Mi(i,s,n),c=Mi(s,e,n),l=Mi(o,a,n),u=Mi(a,c,n);return Mi(l,u,n)}var Az=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},Mz=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ks(t,e,n){return t?Az(e,n):Mz()}function Yv(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function Qv(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function UA(t){return t==="angle"?{between:ga,compare:GH,normalize:Yt}:{between:ar,compare:(e,n)=>e-n,normalize:e=>e}}function uA({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function Rz(t,e,n){let{property:r,start:i,end:s}=n,{between:o,normalize:a}=UA(r),c=e.length,{start:l,end:u,loop:d}=t,h,f;if(d){for(l+=c,u+=c,h=0,f=c;h<f&&o(a(e[l%c][r]),i,s);++h)l--,u--;l%=c,u%=c}return u<l&&(u+=c),{start:l,end:u,loop:d,style:t.style}}function Xv(t,e,n){if(!n)return[t];let{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:c,normalize:l}=UA(r),{start:u,end:d,loop:h,style:f}=Rz(t,e,n),p=[],m=!1,g=null,y,v,E,w=()=>c(i,E,y)&&a(i,E)!==0,b=()=>a(s,y)===0||c(s,E,y),C=()=>m||w(),M=()=>!m||b();for(let x=u,F=u;x<=d;++x)v=e[x%o],!v.skip&&(y=l(v[r]),y!==E&&(m=c(y,i,s),g===null&&C()&&(g=a(y,i)===0?x:F),g!==null&&M()&&(p.push(uA({start:g,end:x,loop:h,count:o,style:f})),g=null),F=x,E=y));return g!==null&&p.push(uA({start:g,end:d,loop:h,count:o,style:f})),p}function Jv(t,e){let n=[],r=t.segments;for(let i=0;i<r.length;i++){let s=Xv(r[i],t.points,e);s.length&&n.push(...s)}return n}function Pz(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function kz(t,e,n,r){let i=t.length,s=[],o=e,a=t[e],c;for(c=e+1;c<=n;++c){let l=t[c%i];l.skip||l.stop?a.skip||(r=!1,s.push({start:e%i,end:(c-1)%i,loop:r}),e=o=l.stop?c:null):(o=c,a.skip&&(e=c)),a=l}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function BA(t,e){let n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];let s=!!t._loop,{start:o,end:a}=Pz(n,i,s,r);if(r===!0)return dA(t,[{start:o,end:a,loop:s}],n,e);let c=a<o?a+i:a,l=!!t._fullLoop&&o===0&&a===i-1;return dA(t,kz(n,o,c,l),n,e)}function dA(t,e,n,r){return!r||!r.setContext||!n?e:Nz(t,e,n,r)}function Nz(t,e,n,r){let i=t._chart.getContext(),s=hA(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,c=n.length,l=[],u=s,d=e[0].start,h=d;function f(p,m,g,y){let v=a?-1:1;if(p!==m){for(p+=c;n[p%c].skip;)p-=v;for(;n[m%c].skip;)m+=v;p%c!==m%c&&(l.push({start:p%c,end:m%c,loop:g,style:y}),u=y,d=m%c)}}for(let p of e){d=a?d:p.start;let m=n[d%c],g;for(h=d+1;h<=p.end;h++){let y=n[h%c];g=hA(r.setContext($r(i,{type:"segment",p0:m,p1:y,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:o}))),Oz(g,u)&&f(d,h-1,p.loop,u),m=y,u=g}d<h-1&&f(d,h-1,p.loop,u)}return l}function hA(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Oz(t,e){if(!e)return!1;let n=[],r=function(i,s){return Vv(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}var cw=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){let s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Nv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;let s=r.items,o=s.length-1,a=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){let n=this._charts,r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){let n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;let n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){let n=this._charts.get(e);if(!n||!n.items.length)return;let r=n.items,i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},Hr=new cw,$A="transparent",Fz={boolean(t,e,n){return n>.5?e:t},color(t,e,n){let r=jv(t||$A),i=r.valid&&jv(e||$A);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}},lw=class{constructor(e,n,r,i){let s=n[r];i=_a([e.to,i,s,e.from]);let o=_a([e.from,s,i]);this._active=!0,this._fn=e.fn||Fz[e.type||typeof o],this._easing=la[e.easing]||la.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);let i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=_a([e.to,n,i,e.from]),this._from=_a([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to,c;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}c=n/r%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(s,a,c)}wait(){let e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){let n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}},If=class{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!le(e))return;let n=Object.keys(je.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{let s=e[i];if(!le(s))return;let o={};for(let a of n)o[a]=s[a];(Me(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){let r=n.options,i=Vz(e,r);if(!i)return[];let s=this._createAnimations(i,r);return r.$shared&&Lz(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){let r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now(),c;for(c=o.length-1;c>=0;--c){let l=o[c];if(l.charAt(0)==="$")continue;if(l==="options"){i.push(...this._animateOptions(e,n));continue}let u=n[l],d=s[l],h=r.get(l);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[l]=u;continue}s[l]=d=new lw(h,e,l,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}let r=this._createAnimations(e,n);if(r.length)return Hr.add(this._chart,r),!0}};function Lz(t,e){let n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){let s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function Vz(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function HA(t,e){let n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function jz(t,e,n){if(n===!1)return!1;let r=HA(t,n),i=HA(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function Uz(t){let e,n,r,i;return le(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function HM(t,e){let n=[],r=t._getSortedDatasetMetas(e),i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function zA(t,e,n,r={}){let i=t.keys,s=r.mode==="single",o,a,c,l;if(e!==null){for(o=0,a=i.length;o<a;++o){if(c=+i[o],c===n){if(r.all)continue;break}l=t.values[c],Ve(l)&&(s||e===0||Rn(e)===Rn(l))&&(e+=l)}return e}}function Bz(t){let e=Object.keys(t),n=new Array(e.length),r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],n[r]={x:s,y:t[s]};return n}function qA(t,e){let n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function $z(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Hz(t){let{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function zz(t,e,n){let r=t[e]||(t[e]={});return r[n]||(r[n]={})}function WA(t,e,n,r){for(let i of e.getMatchingVisibleMetas(r).reverse()){let s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function GA(t,e){let{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,c=s.axis,l=o.axis,u=$z(s,o,r),d=e.length,h;for(let f=0;f<d;++f){let p=e[f],{[c]:m,[l]:g}=p,y=p._stacks||(p._stacks={});h=y[l]=zz(i,u,m),h[a]=g,h._top=WA(h,o,!0,r.type),h._bottom=WA(h,o,!1,r.type);let v=h._visualValues||(h._visualValues={});v[a]=g}}function Zv(t,e){let n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function qz(t,e){return $r(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Wz(t,e,n){return $r(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Cl(t,e){let n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(let i of e){let s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}var ew=t=>t==="reset"||t==="none",KA=(t,e)=>e?t:Object.assign({},t),Gz=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:HM(n,!0),values:null},Li=(()=>{class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(n,r){this.chart=n,this._ctx=n.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let n=this._cachedMeta;this.configure(),this.linkScales(),n._stacked=qA(n.vScale,n),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(n){this.index!==n&&Cl(this._cachedMeta),this.index=n}linkScales(){let n=this.chart,r=this._cachedMeta,i=this.getDataset(),s=(h,f,p,m)=>h==="x"?f:h==="r"?m:p,o=r.xAxisID=Z(i.xAxisID,Zv(n,"x")),a=r.yAxisID=Z(i.yAxisID,Zv(n,"y")),c=r.rAxisID=Z(i.rAxisID,Zv(n,"r")),l=r.indexAxis,u=r.iAxisID=s(l,o,a,c),d=r.vAxisID=s(l,a,o,c);r.xScale=this.getScaleForId(o),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(c),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){let r=this._cachedMeta;return n===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){let n=this._cachedMeta;this._data&&Pv(this._data,this),n._stacked&&Cl(n)}_dataCheck(){let n=this.getDataset(),r=n.data||(n.data=[]),i=this._data;if(le(r))this._data=Bz(r);else if(i!==r){if(i){Pv(i,this);let s=this._cachedMeta;Cl(s),s._parsed=[]}r&&Object.isExtensible(r)&&IA(r,this),this._syncList=[],this._data=r}}addElements(){let n=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){let r=this._cachedMeta,i=this.getDataset(),s=!1;this._dataCheck();let o=r._stacked;r._stacked=qA(r.vScale,r),r.stack!==i.stack&&(s=!0,Cl(r),r.stack=i.stack),this._resyncElements(n),(s||o!==r._stacked)&&GA(this,r._parsed)}configure(){let n=this.chart.config,r=n.datasetScopeKeys(this._type),i=n.getOptionScopes(this.getDataset(),r,!0);this.options=n.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(n,r){let{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:a}=i,c=o.axis,l=n===0&&r===s.length?!0:i._sorted,u=n>0&&i._parsed[n-1],d,h,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{Me(s[n])?f=this.parseArrayData(i,s,n,r):le(s[n])?f=this.parseObjectData(i,s,n,r):f=this.parsePrimitiveData(i,s,n,r);let p=()=>h[c]===null||u&&h[c]<u[c];for(d=0;d<r;++d)i._parsed[d+n]=h=f[d],l&&(p()&&(l=!1),u=h);i._sorted=l}a&&GA(this,f)}parsePrimitiveData(n,r,i,s){let{iScale:o,vScale:a}=n,c=o.axis,l=a.axis,u=o.getLabels(),d=o===a,h=new Array(s),f,p,m;for(f=0,p=s;f<p;++f)m=f+i,h[f]={[c]:d||o.parse(u[m],m),[l]:a.parse(r[m],m)};return h}parseArrayData(n,r,i,s){let{xScale:o,yScale:a}=n,c=new Array(s),l,u,d,h;for(l=0,u=s;l<u;++l)d=l+i,h=r[d],c[l]={x:o.parse(h[0],d),y:a.parse(h[1],d)};return c}parseObjectData(n,r,i,s){let{xScale:o,yScale:a}=n,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=new Array(s),d,h,f,p;for(d=0,h=s;d<h;++d)f=d+i,p=r[f],u[d]={x:o.parse(Br(p,c),f),y:a.parse(Br(p,l),f)};return u}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,r,i){let s=this.chart,o=this._cachedMeta,a=r[n.axis],c={keys:HM(s,!0),values:r._stacks[n.axis]._visualValues};return zA(c,a,o.index,{mode:i})}updateRangeFromParsed(n,r,i,s){let o=i[r.axis],a=o===null?NaN:o,c=s&&i._stacks[r.axis];s&&c&&(s.values=c,a=zA(s,o,this._cachedMeta.index)),n.min=Math.min(n.min,a),n.max=Math.max(n.max,a)}getMinMax(n,r){let i=this._cachedMeta,s=i._parsed,o=i._sorted&&n===i.iScale,a=s.length,c=this._getOtherScale(n),l=Gz(r,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=Hz(c),f,p;function m(){p=s[f];let g=p[c.axis];return!Ve(p[n.axis])||d>g||h<g}for(f=0;f<a&&!(!m()&&(this.updateRangeFromParsed(u,n,p,l),o));++f);if(o){for(f=a-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(u,n,p,l);break}}return u}getAllParsedValues(n){let r=this._cachedMeta._parsed,i=[],s,o,a;for(s=0,o=r.length;s<o;++s)a=r[s][n.axis],Ve(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(n){let r=this._cachedMeta,i=r.iScale,s=r.vScale,o=this.getParsed(n);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(n){let r=this._cachedMeta;this.update(n||"default"),r._clip=Uz(Z(this.options.clip,jz(r.xScale,r.yScale,this.getMaxOverflow())))}update(n){}draw(){let n=this._ctx,r=this.chart,i=this._cachedMeta,s=i.data||[],o=r.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||s.length-c,u=this.options.drawActiveElementsOnTop,d;for(i.dataset&&i.dataset.draw(n,o,c,l),d=c;d<c+l;++d){let h=s[d];h.hidden||(h.active&&u?a.push(h):h.draw(n,o))}for(d=0;d<a.length;++d)a[d].draw(n,o)}getStyle(n,r){let i=r?"active":"default";return n===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(n||0,i)}getContext(n,r,i){let s=this.getDataset(),o;if(n>=0&&n<this._cachedMeta.data.length){let a=this._cachedMeta.data[n];o=a.$context||(a.$context=Wz(this.getContext(),n,a)),o.parsed=this.getParsed(n),o.raw=s.data[n],o.index=o.dataIndex=n}else o=this.$context||(this.$context=qz(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!r,o.mode=i,o}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,r){return this._resolveElementOptions(this.dataElementType.id,r,n)}_resolveElementOptions(n,r="default",i){let s=r==="active",o=this._cachedDataOpts,a=n+"-"+r,c=o[a],l=this.enableOptionSharing&&fa(i);if(c)return KA(c,l);let u=this.chart.config,d=u.datasetElementScopeKeys(this._type,n),h=s?[`${n}Hover`,"hover",n,""]:[n,""],f=u.getOptionScopes(this.getDataset(),d),p=Object.keys(je.elements[n]),m=()=>this.getContext(i,s,r),g=u.resolveNamedOptions(f,p,m,h);return g.$shared&&(g.$shared=l,o[a]=Object.freeze(KA(g,l))),g}_resolveAnimations(n,r,i){let s=this.chart,o=this._cachedDataOpts,a=`animation-${r}`,c=o[a];if(c)return c;let l;if(s.options.animation!==!1){let d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,r),f=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(f,this.getContext(n,i,r))}let u=new If(s,l&&l.animations);return l&&l._cacheable&&(o[a]=Object.freeze(u)),u}getSharedOptions(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,r){return!r||ew(n)||this.chart._animationsDisabled}_getSharedOptions(n,r){let i=this.resolveDataElementOptions(n,r),s=this._sharedOptions,o=this.getSharedOptions(i),a=this.includeOptions(r,o)||o!==s;return this.updateSharedOptions(o,r,i),{sharedOptions:o,includeOptions:a}}updateElement(n,r,i,s){ew(s)?Object.assign(n,i):this._resolveAnimations(r,s).update(n,i)}updateSharedOptions(n,r,i){n&&!ew(r)&&this._resolveAnimations(void 0,r).update(n,i)}_setStyle(n,r,i,s){n.active=s;let o=this.getStyle(r,s);this._resolveAnimations(r,i,s).update(n,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(n,r,i){this._setStyle(n,i,"active",!1)}setHoverStyle(n,r,i){this._setStyle(n,i,"active",!0)}_removeDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){let r=this._data,i=this._cachedMeta.data;for(let[c,l,u]of this._syncList)this[c](l,u);this._syncList=[];let s=i.length,o=r.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,n):o<s&&this._removeElements(o,s-o)}_insertElements(n,r,i=!0){let s=this._cachedMeta,o=s.data,a=n+r,c,l=u=>{for(u.length+=r,c=u.length-1;c>=a;c--)u[c]=u[c-r]};for(l(o),c=n;c<a;++c)o[c]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(n,r),i&&this.updateElements(o,n,r,"reset")}updateElements(n,r,i,s){}_removeElements(n,r){let i=this._cachedMeta;if(this._parsing){let s=i._parsed.splice(n,r);i._stacked&&Cl(i,s)}i.data.splice(n,r)}_sync(n){if(this._parsing)this._syncList.push(n);else{let[r,i,s]=n;this[r](i,s)}this.chart._dataChanges.push([this.index,...n])}_onDataPush(){let n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,r){r&&this._sync(["_removeElements",n,r]);let i=arguments.length-2;i&&this._sync(["_insertElements",n,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t})();function Kz(t,e){if(!t._cache.$bar){let n=t.getMatchingVisibleMetas(e),r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=kv(r.sort((i,s)=>i-s))}return t._cache.$bar}function Yz(t){let e=t.iScale,n=Kz(e,t.type),r=e._length,i,s,o,a,c=()=>{o===32767||o===-32768||(fa(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),c();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),c();return r}function Qz(t,e,n,r){let i=n.barThickness,s,o;return ye(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}function Xz(t,e,n,r){let i=e.pixels,s=i[t],o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null,c=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);let l=s-(s-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/r,ratio:n.barPercentage,start:l}}function Jz(t,e,n,r){let i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s),c=o,l=a;Math.abs(o)>Math.abs(a)&&(c=a,l=o),e[n.axis]=l,e._custom={barStart:c,barEnd:l,start:i,end:s,min:o,max:a}}function zM(t,e,n,r){return Me(t)?Jz(t,e,n,r):e[n.axis]=n.parse(t,r),e}function YA(t,e,n,r){let i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,c=[],l,u,d,h;for(l=n,u=n+r;l<u;++l)h=e[l],d={},d[i.axis]=a||i.parse(o[l],l),c.push(zM(h,d,s,l));return c}function tw(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Zz(t,e,n){return t!==0?Rn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function e4(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function t4(t,e,n,r){let i=e.borderSkipped,s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:a,reverse:c,top:l,bottom:u}=e4(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=l:(n._bottom||0)===r?i=u:(s[QA(u,o,a,c)]=!0,i=l)),s[QA(i,o,a,c)]=!0,t.borderSkipped=s}function QA(t,e,n,r){return r?(t=n4(t,e,n),t=XA(t,n,e)):t=XA(t,e,n),t}function n4(t,e,n){return t===e?n:t===n?e:t}function XA(t,e,n){return t==="start"?e:t==="end"?n:t}function r4(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}var i4=(()=>{class t extends Li{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(n,r,i,s){return YA(n,r,i,s)}parseArrayData(n,r,i,s){return YA(n,r,i,s)}parseObjectData(n,r,i,s){let{iScale:o,vScale:a}=n,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=o.axis==="x"?c:l,d=a.axis==="x"?c:l,h=[],f,p,m,g;for(f=i,p=i+s;f<p;++f)g=r[f],m={},m[o.axis]=o.parse(Br(g,u),f),h.push(zM(Br(g,d),m,a,f));return h}updateRangeFromParsed(n,r,i,s){super.updateRangeFromParsed(n,r,i,s);let o=i._custom;o&&r===this._cachedMeta.vScale&&(n.min=Math.min(n.min,o.min),n.max=Math.max(n.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(n){let r=this._cachedMeta,{iScale:i,vScale:s}=r,o=this.getParsed(n),a=o._custom,c=tw(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let n=this._cachedMeta;n.stack=this.getDataset().stack}update(n){let r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,n)}updateElements(n,r,i,s){let o=s==="reset",{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),u=c.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(r,s);for(let p=r;p<r+i;p++){let m=this.getParsed(p),g=o||ye(m[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,d),v=(m._stacks||{})[c.axis],E={horizontal:u,base:g.base,enableBorderRadius:!v||tw(m._custom)||a===v._top||a===v._bottom,x:u?g.head:y.center,y:u?y.center:g.head,height:u?y.size:Math.abs(g.size),width:u?Math.abs(g.size):y.size};f&&(E.options=h||this.resolveDataElementOptions(p,n[p].active?"active":s));let w=E.options||n[p].options;t4(E,w,v,a),r4(E,w,d.ratio),this.updateElement(n[p],p,E,s)}}_getStacks(n,r){let{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),o=i.options.stacked,a=[],c=l=>{let u=l.controller.getParsed(r),d=u&&u[l.vScale.axis];if(ye(d)||isNaN(d))return!0};for(let l of s)if(!(r!==void 0&&c(l))&&((o===!1||a.indexOf(l.stack)===-1||o===void 0&&l.stack===void 0)&&a.push(l.stack),l.index===n))break;return a.length||a.push(void 0),a}_getStackCount(n){return this._getStacks(void 0,n).length}_getStackIndex(n,r,i){let s=this._getStacks(n,i),o=r!==void 0?s.indexOf(r):-1;return o===-1?s.length-1:o}_getRuler(){let n=this.options,r=this._cachedMeta,i=r.iScale,s=[],o,a;for(o=0,a=r.data.length;o<a;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));let c=n.barThickness;return{min:c||Yz(r),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:n.grouped,ratio:c?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(n){let{_cachedMeta:{vScale:r,_stacked:i,index:s},options:{base:o,minBarLength:a}}=this,c=o||0,l=this.getParsed(n),u=l._custom,d=tw(u),h=l[r.axis],f=0,p=i?this.applyStack(r,l,i):h,m,g;p!==h&&(f=p-h,p=h),d&&(h=u.barStart,p=u.barEnd-u.barStart,h!==0&&Rn(h)!==Rn(u.barEnd)&&(f=0),f+=h);let y=!ye(o)&&!d?o:f,v=r.getPixelForValue(y);if(this.chart.getDataVisibility(n)?m=r.getPixelForValue(f+p):m=v,g=m-v,Math.abs(g)<a){g=Zz(g,r,c)*a,h===c&&(v-=g/2);let E=r.getPixelForDecimal(0),w=r.getPixelForDecimal(1),b=Math.min(E,w),C=Math.max(E,w);v=Math.max(Math.min(v,C),b),m=v+g,i&&!d&&(l._stacks[r.axis]._visualValues[s]=r.getValueForPixel(m)-r.getValueForPixel(v))}if(v===r.getPixelForValue(c)){let E=Rn(g)*r.getLineWidthForValue(c)/2;v+=E,g-=E}return{size:g,base:v,head:m,center:m+g/2}}_calculateBarIndexPixels(n,r){let i=r.scale,s=this.options,o=s.skipNull,a=Z(s.maxBarThickness,1/0),c,l;if(r.grouped){let u=o?this._getStackCount(n):r.stackCount,d=s.barThickness==="flex"?Xz(n,r,s,u):Qz(n,r,s,u),h=this._getStackIndex(this.index,this._cachedMeta.stack,o?n:void 0);c=d.start+d.chunk*h+d.chunk/2,l=Math.min(a,d.chunk*d.ratio)}else c=i.getPixelForValue(this.getParsed(n)[i.axis],n),l=Math.min(a,r.min*r.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){let n=this._cachedMeta,r=n.vScale,i=n.data,s=i.length,o=0;for(;o<s;++o)this.getParsed(o)[r.axis]!==null&&i[o].draw(this._ctx)}}return t})(),s4=(()=>{class t extends Li{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(n,r,i,s){let o=super.parsePrimitiveData(n,r,i,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+i).radius;return o}parseArrayData(n,r,i,s){let o=super.parseArrayData(n,r,i,s);for(let a=0;a<o.length;a++){let c=r[i+a];o[a]._custom=Z(c[2],this.resolveDataElementOptions(a+i).radius)}return o}parseObjectData(n,r,i,s){let o=super.parseObjectData(n,r,i,s);for(let a=0;a<o.length;a++){let c=r[i+a];o[a]._custom=Z(c&&c.r&&+c.r,this.resolveDataElementOptions(a+i).radius)}return o}getMaxOverflow(){let n=this._cachedMeta.data,r=0;for(let i=n.length-1;i>=0;--i)r=Math.max(r,n[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(n){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=r,a=this.getParsed(n),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y),u=a._custom;return{label:i[n]||"",value:"("+c+", "+l+(u?", "+u:"")+")"}}update(n){let r=this._cachedMeta.data;this.updateElements(r,0,r.length,n)}updateElements(n,r,i,s){let o=s==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(r,s),d=a.axis,h=c.axis;for(let f=r;f<r+i;f++){let p=n[f],m=!o&&this.getParsed(f),g={},y=g[d]=o?a.getPixelForDecimal(.5):a.getPixelForValue(m[d]),v=g[h]=o?c.getBasePixel():c.getPixelForValue(m[h]);g.skip=isNaN(y)||isNaN(v),u&&(g.options=l||this.resolveDataElementOptions(f,p.active?"active":s),o&&(g.options.radius=0)),this.updateElement(p,f,g,s)}}resolveDataElementOptions(n,r){let i=this.getParsed(n),s=super.resolveDataElementOptions(n,r);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let o=s.radius;return r!=="active"&&(s.radius=0),s.radius+=Z(i&&i._custom,o),s}}return t})();function o4(t,e,n){let r=1,i=1,s=0,o=0;if(e<Pe){let a=t,c=a+e,l=Math.cos(a),u=Math.sin(a),d=Math.cos(c),h=Math.sin(c),f=(E,w,b)=>ga(E,a,c,!0)?1:Math.max(w,w*n,b,b*n),p=(E,w,b)=>ga(E,a,c,!0)?-1:Math.min(w,w*n,b,b*n),m=f(0,l,d),g=f(Be,u,h),y=p(Re,l,d),v=p(Re+Be,u,h);r=(m-y)/2,i=(g-v)/2,s=-(m+y)/2,o=-(g+v)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}var Aw=(()=>{class t extends Li{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"&&!n.startsWith("borderDash")&&!n.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let r=n.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:i,color:s}}=n.legend.options;return r.labels.map((o,a)=>{let l=n.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}};constructor(n,r){super(n,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(n,r){let i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let o=l=>+i[l];if(le(i[n])){let{key:l="value"}=this._parsing;o=u=>+Br(i[u],l)}let a,c;for(a=n,c=n+r;a<c;++a)s._parsed[a]=o(a)}}_getRotation(){return _n(this.options.rotation-90)}_getCircumference(){return _n(this.options.circumference)}_getRotationExtents(){let n=Pe,r=-Pe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),a=s._getCircumference();n=Math.min(n,o),r=Math.max(r,o+a)}return{rotation:n,circumference:r-n}}update(n){let r=this.chart,{chartArea:i}=r,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-a)/2,0),l=Math.min(pA(this.options.cutout,c),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:g}=o4(h,d,l),y=(i.width-a)/f,v=(i.height-a)/p,E=Math.max(Math.min(y,v)/2,0),w=Tv(this.options.radius,E),b=Math.max(w*l,0),C=(w-b)/this._getVisibleDatasetWeightTotal();this.offsetX=m*w,this.offsetY=g*w,s.total=this.calculateTotal(),this.outerRadius=w-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*u,0),this.updateElements(o,0,o.length,n)}_circumference(n,r){let i=this.options,s=this._cachedMeta,o=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(n)||s._parsed[n]===null||s.data[n].hidden?0:this.calculateCircumference(s._parsed[n]*o/Pe)}updateElements(n,r,i,s){let o=s==="reset",a=this.chart,c=a.chartArea,u=a.options.animation,d=(c.left+c.right)/2,h=(c.top+c.bottom)/2,f=o&&u.animateScale,p=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(r,s),v=this._getRotation(),E;for(E=0;E<r;++E)v+=this._circumference(E,o);for(E=r;E<r+i;++E){let w=this._circumference(E,o),b=n[E],C={x:d+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+w,circumference:w,outerRadius:m,innerRadius:p};y&&(C.options=g||this.resolveDataElementOptions(E,b.active?"active":s)),v+=w,this.updateElement(b,E,C,s)}}calculateTotal(){let n=this._cachedMeta,r=n.data,i=0,s;for(s=0;s<r.length;s++){let o=n._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!r[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(n){let r=this._cachedMeta.total;return r>0&&!isNaN(n)?Pe*(Math.abs(n)/r):0}getLabelAndValue(n){let r=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=ma(r._parsed[n],i.options.locale);return{label:s[n]||"",value:o}}getMaxBorderWidth(n){let r=0,i=this.chart,s,o,a,c,l;if(!n){for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){a=i.getDatasetMeta(s),n=a.data,c=a.controller;break}}if(!n)return 0;for(s=0,o=n.length;s<o;++s)l=c.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(n){let r=0;for(let i=0,s=n.length;i<s;++i){let o=this.resolveDataElementOptions(i);r=Math.max(r,o.offset||0,o.hoverOffset||0)}return r}_getRingWeightOffset(n){let r=0;for(let i=0;i<n;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(n){return Math.max(Z(this.chart.data.datasets[n].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t})(),a4=(()=>{class t extends Li{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(n){let r=this._cachedMeta,{dataset:i,data:s=[],_dataset:o}=r,a=this.chart._animationsDisabled,{start:c,count:l}=Fv(r,s,a);this._drawStart=c,this._drawCount=l,Lv(r)&&(c=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=s;let u=this.resolveDatasetElementOptions(n);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:u},n),this.updateElements(s,c,l,n)}updateElements(n,r,i,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(r,s),f=a.axis,p=c.axis,{spanGaps:m,segment:g}=this.options,y=Ps(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||o||s==="none",E=r+i,w=n.length,b=r>0&&this.getParsed(r-1);for(let C=0;C<w;++C){let M=n[C],x=v?M:{};if(C<r||C>=E){x.skip=!0;continue}let F=this.getParsed(C),K=ye(F[p]),ne=x[f]=a.getPixelForValue(F[f],C),ue=x[p]=o||K?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,F,l):F[p],C);x.skip=isNaN(ne)||isNaN(ue)||K,x.stop=C>0&&Math.abs(F[f]-b[f])>y,g&&(x.parsed=F,x.raw=u.data[C]),h&&(x.options=d||this.resolveDataElementOptions(C,M.active?"active":s)),v||this.updateElement(M,C,x,s),b=F}}getMaxOverflow(){let n=this._cachedMeta,r=n.dataset,i=r.options&&r.options.borderWidth||0,s=n.data||[];if(!s.length)return i;let o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,a)/2}draw(){let n=this._cachedMeta;n.dataset.updateControlPoints(this.chart.chartArea,n.iScale.axis),super.draw()}}return t})(),qM=(()=>{class t extends Li{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let r=n.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:i,color:s}}=n.legend.options;return r.labels.map((o,a)=>{let l=n.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(n,r){super(n,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(n){let r=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=ma(r._parsed[n].r,i.options.locale);return{label:s[n]||"",value:o}}parseObjectData(n,r,i,s){return Wv.bind(this)(n,r,i,s)}update(n){let r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,n)}getMinMax(){let n=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return n.data.forEach((i,s)=>{let o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<r.min&&(r.min=o),o>r.max&&(r.max=o))}),r}_updateRadius(){let n=this.chart,r=n.chartArea,i=n.options,s=Math.min(r.right-r.left,r.bottom-r.top),o=Math.max(s/2,0),a=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),c=(o-a)/n.getVisibleDatasetCount();this.outerRadius=o-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(n,r,i,s){let o=s==="reset",a=this.chart,l=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,h=u.yCenter,f=u.getIndexAngle(0)-.5*Re,p=f,m,g=360/this.countVisibleElements();for(m=0;m<r;++m)p+=this._computeAngle(m,s,g);for(m=r;m<r+i;m++){let y=n[m],v=p,E=p+this._computeAngle(m,s,g),w=a.getDataVisibility(m)?u.getDistanceFromCenterForValue(this.getParsed(m).r):0;p=E,o&&(l.animateScale&&(w=0),l.animateRotate&&(v=E=f));let b={x:d,y:h,innerRadius:0,outerRadius:w,startAngle:v,endAngle:E,options:this.resolveDataElementOptions(m,y.active?"active":s)};this.updateElement(y,m,b,s)}}countVisibleElements(){let n=this._cachedMeta,r=0;return n.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&r++}),r}_computeAngle(n,r,i){return this.chart.getDataVisibility(n)?_n(this.resolveDataElementOptions(n,r).angle||i):0}}return t})(),c4=(()=>{class t extends Aw{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return t})(),l4=(()=>{class t extends Li{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(n){let r=this._cachedMeta.vScale,i=this.getParsed(n);return{label:r.getLabels()[n],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(n,r,i,s){return Wv.bind(this)(n,r,i,s)}update(n){let r=this._cachedMeta,i=r.dataset,s=r.data||[],o=r.iScale.getLabels();if(i.points=s,n!=="resize"){let a=this.resolveDatasetElementOptions(n);this.options.showLine||(a.borderWidth=0);let c={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(i,void 0,c,n)}this.updateElements(s,0,s.length,n)}updateElements(n,r,i,s){let o=this._cachedMeta.rScale,a=s==="reset";for(let c=r;c<r+i;c++){let l=n[c],u=this.resolveDataElementOptions(c,l.active?"active":s),d=o.getPointPositionForValue(c,this.getParsed(c).r),h=a?o.xCenter:d.x,f=a?o.yCenter:d.y,p={x:h,y:f,angle:d.angle,skip:isNaN(h)||isNaN(f),options:u};this.updateElement(l,c,p,s)}}}return t})(),u4=(()=>{class t extends Li{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(n){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=r,a=this.getParsed(n),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y);return{label:i[n]||"",value:"("+c+", "+l+")"}}update(n){let r=this._cachedMeta,{data:i=[]}=r,s=this.chart._animationsDisabled,{start:o,count:a}=Fv(r,i,s);if(this._drawStart=o,this._drawCount=a,Lv(r)&&(o=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:l}=r;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=i;let u=this.resolveDatasetElementOptions(n);u.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:u},n)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,o,a,n)}addElements(){let{showLine:n}=this.options;!this.datasetElementType&&n&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(n,r,i,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,s),h=this.getSharedOptions(d),f=this.includeOptions(s,h),p=a.axis,m=c.axis,{spanGaps:g,segment:y}=this.options,v=Ps(g)?g:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||o||s==="none",w=r>0&&this.getParsed(r-1);for(let b=r;b<r+i;++b){let C=n[b],M=this.getParsed(b),x=E?C:{},F=ye(M[m]),K=x[p]=a.getPixelForValue(M[p],b),ne=x[m]=o||F?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,M,l):M[m],b);x.skip=isNaN(K)||isNaN(ne)||F,x.stop=b>0&&Math.abs(M[p]-w[p])>v,y&&(x.parsed=M,x.raw=u.data[b]),f&&(x.options=h||this.resolveDataElementOptions(b,C.active?"active":s)),E||this.updateElement(C,b,x,s),w=M}this.updateSharedOptions(h,s,d)}getMaxOverflow(){let n=this._cachedMeta,r=n.data||[];if(!this.options.showLine){let c=0;for(let l=r.length-1;l>=0;--l)c=Math.max(c,r[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}let i=n.dataset,s=i.options&&i.options.borderWidth||0;if(!r.length)return s;let o=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,a)/2}}return t})(),d4=Object.freeze({__proto__:null,BarController:i4,BubbleController:s4,DoughnutController:Aw,LineController:a4,PieController:c4,PolarAreaController:qM,RadarController:l4,ScatterController:u4});function Ns(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var uw=class t{static override(e){Object.assign(t.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Ns()}parse(){return Ns()}format(){return Ns()}add(){return Ns()}diff(){return Ns()}startOf(){return Ns()}endOf(){return Ns()}},h4={_date:uw};function f4(t,e,n,r){let{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){let c=a._reversePixels?wA:ir;if(r){if(i._sharedOptions){let l=s[0],u=typeof l.getRange=="function"&&l.getRange(e);if(u){let d=c(s,e,n-u),h=c(s,e,n+u);return{lo:d.lo,hi:h.hi}}}}else return c(s,e,n)}return{lo:0,hi:s.length-1}}function Nl(t,e,n,r,i){let s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,c=s.length;a<c;++a){let{index:l,data:u}=s[a],{lo:d,hi:h}=f4(s[a],e,o,i);for(let f=d;f<=h;++f){let p=u[f];p.skip||r(p,l,f)}}}function p4(t){let e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){let s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function nw(t,e,n,r,i){let s=[];return!i&&!t.isPointInArea(e)||Nl(t,n,e,function(a,c,l){!i&&!sr(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:c,index:l})},!0),s}function g4(t,e,n,r){let i=[];function s(o,a,c){let{startAngle:l,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:d}=Rv(o,{x:e.x,y:e.y});ga(d,l,u)&&i.push({element:o,datasetIndex:a,index:c})}return Nl(t,n,e,s),i}function m4(t,e,n,r,i,s){let o=[],a=p4(n),c=Number.POSITIVE_INFINITY;function l(u,d,h){let f=u.inRange(e.x,e.y,i);if(r&&!f)return;let p=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(p))&&!f)return;let g=a(e,p);g<c?(o=[{element:u,datasetIndex:d,index:h}],c=g):g===c&&o.push({element:u,datasetIndex:d,index:h})}return Nl(t,n,e,l),o}function rw(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?g4(t,e,n,i):m4(t,e,n,r,i,s)}function JA(t,e,n,r,i){let s=[],o=n==="x"?"inXRange":"inYRange",a=!1;return Nl(t,n,e,(c,l,u)=>{c[o](e[n],i)&&(s.push({element:c,datasetIndex:l,index:u}),a=a||c.inRange(e.x,e.y,i))}),r&&!a?[]:s}var y4={evaluateInteractionItems:Nl,modes:{index(t,e,n,r){let i=Oi(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?nw(t,i,s,r,o):rw(t,i,s,!1,r,o),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(l=>{let u=a[0].index,d=l.data[u];d&&!d.skip&&c.push({element:d,datasetIndex:l.index,index:u})}),c):[]},dataset(t,e,n,r){let i=Oi(e,t),s=n.axis||"xy",o=n.includeInvisible||!1,a=n.intersect?nw(t,i,s,r,o):rw(t,i,s,!1,r,o);if(a.length>0){let c=a[0].datasetIndex,l=t.getDatasetMeta(c).data;a=[];for(let u=0;u<l.length;++u)a.push({element:l[u],datasetIndex:c,index:u})}return a},point(t,e,n,r){let i=Oi(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return nw(t,i,s,r,o)},nearest(t,e,n,r){let i=Oi(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return rw(t,i,s,n.intersect,r,o)},x(t,e,n,r){let i=Oi(e,t);return JA(t,i,"x",n.intersect,r)},y(t,e,n,r){let i=Oi(e,t);return JA(t,i,"y",n.intersect,r)}}},WM=["left","top","right","bottom"];function Dl(t,e){return t.filter(n=>n.pos===e)}function ZA(t,e){return t.filter(n=>WM.indexOf(n.pos)===-1&&n.box.axis===e)}function Tl(t,e){return t.sort((n,r)=>{let i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function _4(t){let e=[],n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function v4(t){let e={};for(let n of t){let{stack:r,pos:i,stackWeight:s}=n;if(!r||!WM.includes(i))continue;let o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function w4(t,e){let n=v4(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e,s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];let{fullSize:c}=a.box,l=n[a.stack],u=l&&a.stackWeight/l.weight;a.horizontal?(a.width=u?u*r:c&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:c&&e.availableHeight)}return n}function b4(t){let e=_4(t),n=Tl(e.filter(l=>l.box.fullSize),!0),r=Tl(Dl(e,"left"),!0),i=Tl(Dl(e,"right")),s=Tl(Dl(e,"top"),!0),o=Tl(Dl(e,"bottom")),a=ZA(e,"x"),c=ZA(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(c).concat(o).concat(a),chartArea:Dl(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:s.concat(o).concat(a)}}function eM(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function GM(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function E4(t,e,n,r){let{pos:i,box:s}=n,o=t.maxPadding;if(!le(i)){n.size&&(t[i]-=n.size);let d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[i]+=n.size}s.getPadding&&GM(o,s.getPadding());let a=Math.max(0,e.outerWidth-eM(o,t,"left","right")),c=Math.max(0,e.outerHeight-eM(o,t,"top","bottom")),l=a!==t.w,u=c!==t.h;return t.w=a,t.h=c,n.horizontal?{same:l,other:u}:{same:u,other:l}}function I4(t){let e=t.maxPadding;function n(r){let i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function C4(t,e){let n=e.maxPadding;function r(i){let s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function Al(t,e,n,r){let i=[],s,o,a,c,l,u;for(s=0,o=t.length,l=0;s<o;++s){a=t[s],c=a.box,c.update(a.width||e.w,a.height||e.h,C4(a.horizontal,e));let{same:d,other:h}=E4(e,n,a,r);l|=d&&i.length,u=u||h,c.fullSize||i.push(a)}return l&&Al(i,e,n,r)||u}function pf(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function tM(t,e,n,r){let i=n.padding,{x:s,y:o}=e;for(let a of t){let c=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/l.weight||1;if(a.horizontal){let d=e.w*u,h=l.size||c.height;fa(l.start)&&(o=l.start),c.fullSize?pf(c,i.left,o,n.outerWidth-i.right-i.left,h):pf(c,e.left+l.placed,o,d,h),l.start=o,l.placed+=d,o=c.bottom}else{let d=e.h*u,h=l.size||c.width;fa(l.start)&&(s=l.start),c.fullSize?pf(c,s,i.top,h,n.outerHeight-i.bottom-i.top):pf(c,s,e.top+l.placed,h,d),l.start=s,l.placed+=d,s=c.right}}e.x=s,e.y=o}var At={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){let n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;let i=It(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=b4(t.boxes),c=a.vertical,l=a.horizontal;Ee(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});let u=c.reduce((m,g)=>g.box.options&&g.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},i);GM(h,It(r));let f=Object.assign({maxPadding:h,w:s,h:o,x:i.left,y:i.top},i),p=w4(c.concat(l),d);Al(a.fullSize,f,d,p),Al(c,f,d,p),Al(l,f,d,p)&&Al(c,f,d,p),I4(f),tM(a.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,tM(a.rightAndBottom,f,d,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Ee(a.chartArea,m=>{let g=m.box;Object.assign(g,t.chartArea),g.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}},Cf=class{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}},dw=class extends Cf{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},bf="$chartjs",D4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},nM=t=>t===null||t==="";function T4(t,e){let n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[bf]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",nM(i)){let s=Kv(t,"width");s!==void 0&&(t.width=s)}if(nM(r))if(t.style.height==="")t.height=t.width/(e||2);else{let s=Kv(t,"height");s!==void 0&&(t.height=s)}return t}var KM=LA?{passive:!0}:!1;function S4(t,e,n){t.addEventListener(e,n,KM)}function x4(t,e,n){t.canvas.removeEventListener(e,n,KM)}function A4(t,e){let n=D4[t.type]||t.type,{x:r,y:i}=Oi(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Df(t,e){for(let n of t)if(n===e||n.contains(e))return!0}function M4(t,e,n){let r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||Df(a.addedNodes,r),o=o&&!Df(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function R4(t,e,n){let r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||Df(a.removedNodes,r),o=o&&!Df(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}var Rl=new Map,rM=0;function YM(){let t=window.devicePixelRatio;t!==rM&&(rM=t,Rl.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function P4(t,e){Rl.size||window.addEventListener("resize",YM),Rl.set(t,e)}function k4(t){Rl.delete(t),Rl.size||window.removeEventListener("resize",YM)}function N4(t,e,n){let r=t.canvas,i=r&&hf(r);if(!i)return;let s=Ov((a,c)=>{let l=i.clientWidth;n(a,c),l<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{let c=a[0],l=c.contentRect.width,u=c.contentRect.height;l===0&&u===0||s(l,u)});return o.observe(i),P4(t,s),o}function iw(t,e,n){n&&n.disconnect(),e==="resize"&&k4(t)}function O4(t,e,n){let r=t.canvas,i=Ov(s=>{t.ctx!==null&&n(A4(s,t))},t);return S4(r,e,i),i}var hw=class extends Cf{acquireContext(e,n){let r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(T4(e,n),r):null}releaseContext(e){let n=e.canvas;if(!n[bf])return!1;let r=n[bf].initial;["height","width"].forEach(s=>{let o=r[s];ye(o)?n.removeAttribute(s):n.setAttribute(s,o)});let i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[bf],!0}addEventListener(e,n,r){this.removeEventListener(e,n);let i=e.$proxies||(e.$proxies={}),o={attach:M4,detach:R4,resize:N4}[n]||O4;i[n]=o(e,n,r)}removeEventListener(e,n){let r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:iw,detach:iw,resize:iw}[n]||x4)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return FA(e,n,r,i)}isAttached(e){let n=hf(e);return!!(n&&n.isConnected)}};function F4(t){return!df()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?dw:hw}var Pn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Ps(this.x)&&Ps(this.y)}getProps(e,n){let r=this.$animations;if(!n||!r)return this;let i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function L4(t,e){let n=t.options.ticks,r=V4(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?U4(e):[],o=s.length,a=s[0],c=s[o-1],l=[];if(o>i)return B4(e,l,s,o/i),l;let u=j4(s,e,i);if(o>0){let d,h,f=o>1?Math.round((c-a)/(o-1)):null;for(gf(e,l,u,ye(f)?0:a-f,a),d=0,h=o-1;d<h;d++)gf(e,l,u,s[d],s[d+1]);return gf(e,l,u,c,ye(f)?e.length:c+f),l}return gf(e,l,u),l}function V4(t){let e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function j4(t,e,n){let r=$4(t),i=e.length/n;if(!r)return Math.max(i,1);let s=yA(r);for(let o=0,a=s.length-1;o<a;o++){let c=s[o];if(c>i)return c}return Math.max(i,1)}function U4(t){let e=[],n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function B4(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function gf(t,e,n,r,i){let s=Z(r,0),o=Math.min(Z(i,t.length),t.length),a=0,c,l,u;for(n=Math.ceil(n),i&&(c=i-r,n=c/Math.floor(c/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(l=Math.max(s,0);l<o;l++)l===u&&(e.push(t[l]),a++,u=Math.round(s+a*n))}function $4(t){let e=t.length,n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}var H4=t=>t==="left"?"right":t==="right"?"left":t,iM=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,sM=(t,e)=>Math.min(e||t,t);function oM(t,e){let n=[],r=t.length/e,i=t.length,s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function z4(t,e,n){let r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6,c=t.getPixelForTick(i),l;if(!(n&&(r===1?l=Math.max(c-s,o-c):e===0?l=(t.getPixelForTick(1)-c)/2:l=(c-t.getPixelForTick(i-1))/2,c+=i<e?l:-l,c<s-a||c>o+a)))return c}function q4(t,e){Ee(t,n=>{let r=n.gc,i=r.length/2,s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Sl(t){return t.drawTicks?t.tickLength:0}function aM(t,e){if(!t.display)return 0;let n=Ze(t.font,e),r=It(t.padding);return(Me(t.text)?t.text.length:1)*n.lineHeight+r.height}function W4(t,e){return $r(t,{scale:e,type:"scale"})}function G4(t,e,n){return $r(t,{tick:n,index:e,type:"tick"})}function K4(t,e,n){let r=of(t);return(n&&e!=="right"||!n&&e==="right")&&(r=H4(r)),r}function Y4(t,e,n,r){let{top:i,left:s,bottom:o,right:a,chart:c}=t,{chartArea:l,scales:u}=c,d=0,h,f,p,m=o-i,g=a-s;if(t.isHorizontal()){if(f=Et(r,s,a),le(n)){let y=Object.keys(n)[0],v=n[y];p=u[y].getPixelForValue(v)+m-e}else n==="center"?p=(l.bottom+l.top)/2+m-e:p=iM(t,n,e);h=a-s}else{if(le(n)){let y=Object.keys(n)[0],v=n[y];f=u[y].getPixelForValue(v)-g+e}else n==="center"?f=(l.left+l.right)/2-g+e:f=iM(t,n,e);p=Et(r,o,i),d=n==="left"?-Be:Be}return{titleX:f,titleY:p,maxWidth:h,rotation:d}}var Fs=class t extends Pn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Qt(e,Number.POSITIVE_INFINITY),n=Qt(n,Number.NEGATIVE_INFINITY),r=Qt(r,Number.POSITIVE_INFINITY),i=Qt(i,Number.NEGATIVE_INFINITY),{min:Qt(e,r),max:Qt(n,i),minDefined:Ve(e),maxDefined:Ve(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};let a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)o=a[c].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Qt(n,Qt(r,n)),max:Qt(r,Qt(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xe(this.options.beforeUpdate,[this])}update(e,n,r){let{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=MA(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?oM(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=L4(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xe(this.options.afterUpdate,[this])}beforeSetDimensions(){xe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),xe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let n=this.options.ticks,r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=xe(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){xe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,n=e.ticks,r=sM(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation,o=i,a,c,l;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}let u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=lt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:f/(r-1),d+6>a&&(a=f/(r-(e.offset?.5:1)),c=this.maxHeight-Sl(e.grid)-n.padding-aM(e.title,this.chart.options.font),l=Math.sqrt(d*d+h*h),o=rf(Math.min(Math.asin(lt((u.highest.height+6)/a,-1,1)),Math.asin(lt(c/l,-1,1))-Math.asin(lt(h/l,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){xe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xe(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let c=aM(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Sl(s)+c):(e.height=this.maxHeight,e.width=Sl(s)+c),r.display&&this.ticks.length){let{first:l,last:u,widest:d,highest:h}=this._getLabelSizes(),f=r.padding*2,p=_n(this.labelRotation),m=Math.cos(p),g=Math.sin(p);if(a){let y=r.mirror?0:g*d.width+m*h.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{let y=r.mirror?0:m*d.width+g*h.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(l,u,g,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){let{ticks:{align:s,padding:o},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),h=0,f=0;c?l?(h=i*e.width,f=r*n.height):(h=r*e.height,f=i*n.width):s==="start"?f=n.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xe(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)ye(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let n=this.options.ticks.sampleSize,r=this.ticks;n<r.length&&(r=oM(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){let{ctx:i,_longestTextCache:s}=this,o=[],a=[],c=Math.floor(n/sM(n,r)),l=0,u=0,d,h,f,p,m,g,y,v,E,w,b;for(d=0;d<n;d+=c){if(p=e[d].label,m=this._resolveTickFontOptions(d),i.font=g=m.string,y=s[g]=s[g]||{data:{},gc:[]},v=m.lineHeight,E=w=0,!ye(p)&&!Me(p))E=vl(i,y.data,y.gc,E,p),w=v;else if(Me(p))for(h=0,f=p.length;h<f;++h)b=p[h],!ye(b)&&!Me(b)&&(E=vl(i,y.data,y.gc,E,b),w+=v);o.push(E),a.push(w),l=Math.max(E,l),u=Math.max(w,u)}q4(s,n);let C=o.indexOf(l),M=a.indexOf(u),x=F=>({width:o[F]||0,height:a[F]||0});return{first:x(0),last:x(n-1),widest:x(C),highest:x(M),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let n=this._startPixel+e*this._length;return vA(this._alignToPixels?Pi(this.chart,n,0):n)}getDecimalForPixel(e){let n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){let n=this.ticks||[];if(e>=0&&e<n.length){let r=n[e];return r.$context||(r.$context=G4(this.getContext(),e,r))}return this.$context||(this.$context=W4(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,n=_n(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*r>a*i?a/r:c/i:c*i<a*r?c/r:a/i}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,c=s.offset,l=this.isHorizontal(),d=this.ticks.length+(c?1:0),h=Sl(s),f=[],p=a.setContext(this.getContext()),m=p.display?p.width:0,g=m/2,y=function(Oe){return Pi(r,Oe,m)},v,E,w,b,C,M,x,F,K,ne,ue,mt;if(o==="top")v=y(this.bottom),M=this.bottom-h,F=v-g,ne=y(e.top)+g,mt=e.bottom;else if(o==="bottom")v=y(this.top),ne=e.top,mt=y(e.bottom)-g,M=v+g,F=this.top+h;else if(o==="left")v=y(this.right),C=this.right-h,x=v-g,K=y(e.left)+g,ue=e.right;else if(o==="right")v=y(this.left),K=e.left,ue=y(e.right)-g,C=v+g,x=this.left+h;else if(n==="x"){if(o==="center")v=y((e.top+e.bottom)/2+.5);else if(le(o)){let Oe=Object.keys(o)[0],We=o[Oe];v=y(this.chart.scales[Oe].getPixelForValue(We))}ne=e.top,mt=e.bottom,M=v+g,F=M+h}else if(n==="y"){if(o==="center")v=y((e.left+e.right)/2);else if(le(o)){let Oe=Object.keys(o)[0],We=o[Oe];v=y(this.chart.scales[Oe].getPixelForValue(We))}C=v-g,x=C-h,K=e.left,ue=e.right}let en=Z(i.ticks.maxTicksLimit,d),Te=Math.max(1,Math.ceil(d/en));for(E=0;E<d;E+=Te){let Oe=this.getContext(E),We=s.setContext(Oe),In=a.setContext(Oe),St=We.lineWidth,ho=We.color,Gu=In.dash||[],fo=In.dashOffset,pc=We.tickWidth,ns=We.tickColor,gc=We.tickBorderDash||[],rs=We.tickBorderDashOffset;w=z4(this,E,c),w!==void 0&&(b=Pi(r,w,St),l?C=x=K=ue=b:M=F=ne=mt=b,f.push({tx1:C,ty1:M,tx2:x,ty2:F,x1:K,y1:ne,x2:ue,y2:mt,width:St,color:ho,borderDash:Gu,borderDashOffset:fo,tickWidth:pc,tickColor:ns,tickBorderDash:gc,tickBorderDashOffset:rs}))}return this._ticksLength=d,this._borderValue=v,f}_computeLabelItems(e){let n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:u,mirror:d}=s,h=Sl(r.grid),f=h+u,p=d?-u:f,m=-_n(this.labelRotation),g=[],y,v,E,w,b,C,M,x,F,K,ne,ue,mt="middle";if(i==="top")C=this.bottom-p,M=this._getXAxisLabelAlignment();else if(i==="bottom")C=this.top+p,M=this._getXAxisLabelAlignment();else if(i==="left"){let Te=this._getYAxisLabelAlignment(h);M=Te.textAlign,b=Te.x}else if(i==="right"){let Te=this._getYAxisLabelAlignment(h);M=Te.textAlign,b=Te.x}else if(n==="x"){if(i==="center")C=(e.top+e.bottom)/2+f;else if(le(i)){let Te=Object.keys(i)[0],Oe=i[Te];C=this.chart.scales[Te].getPixelForValue(Oe)+f}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")b=(e.left+e.right)/2-f;else if(le(i)){let Te=Object.keys(i)[0],Oe=i[Te];b=this.chart.scales[Te].getPixelForValue(Oe)}M=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(c==="start"?mt="top":c==="end"&&(mt="bottom"));let en=this._getLabelSizes();for(y=0,v=a.length;y<v;++y){E=a[y],w=E.label;let Te=s.setContext(this.getContext(y));x=this.getPixelForTick(y)+s.labelOffset,F=this._resolveTickFontOptions(y),K=F.lineHeight,ne=Me(w)?w.length:1;let Oe=ne/2,We=Te.color,In=Te.textStrokeColor,St=Te.textStrokeWidth,ho=M;o?(b=x,M==="inner"&&(y===v-1?ho=this.options.reverse?"left":"right":y===0?ho=this.options.reverse?"right":"left":ho="center"),i==="top"?l==="near"||m!==0?ue=-ne*K+K/2:l==="center"?ue=-en.highest.height/2-Oe*K+K:ue=-en.highest.height+K/2:l==="near"||m!==0?ue=K/2:l==="center"?ue=en.highest.height/2-Oe*K:ue=en.highest.height-ne*K,d&&(ue*=-1),m!==0&&!Te.showLabelBackdrop&&(b+=K/2*Math.sin(m))):(C=x,ue=(1-ne)*K/2);let Gu;if(Te.showLabelBackdrop){let fo=It(Te.backdropPadding),pc=en.heights[y],ns=en.widths[y],gc=ue-fo.top,rs=0-fo.left;switch(mt){case"middle":gc-=pc/2;break;case"bottom":gc-=pc;break}switch(M){case"center":rs-=ns/2;break;case"right":rs-=ns;break;case"inner":y===v-1?rs-=ns:y>0&&(rs-=ns/2);break}Gu={left:rs,top:gc,width:ns+fo.width,height:pc+fo.height,color:Te.backdropColor}}g.push({label:w,font:F,textOffset:ue,options:{rotation:m,color:We,strokeColor:In,strokeWidth:St,textAlign:ho,textBaseline:mt,translation:[b,C],backdrop:Gu}})}return g}_getXAxisLabelAlignment(){let{position:e,ticks:n}=this.options;if(-_n(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){let{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,c=o.widest.width,l,u;return n==="left"?i?(u=this.right+s,r==="near"?l="left":r==="center"?(l="center",u+=c/2):(l="right",u+=c)):(u=this.right-a,r==="near"?l="right":r==="center"?(l="center",u-=c/2):(l="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?l="right":r==="center"?(l="center",u-=c/2):(l="left",u-=c)):(u=this.left+a,r==="near"?l="left":r==="center"?(l="center",u+=c/2):(l="right",u=this.right)):l="right",{textAlign:l,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){let n=this.options.grid;if(!this._isVisible()||!n.display)return 0;let i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){let n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),s,o,a=(c,l,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(l.x,l.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){let c=i[s];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;let a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue,l,u,d,h;this.isHorizontal()?(l=Pi(e,this.left,o)-o/2,u=Pi(e,this.right,a)+a/2,d=h=c):(d=Pi(e,this.top,o)-o/2,h=Pi(e,this.bottom,a)+a/2,l=u=c),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(l,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;let r=this.ctx,i=this._computeLabelArea();i&&El(r,i);let s=this.getLabelItems(e);for(let o of s){let a=o.options,c=o.font,l=o.label,u=o.textOffset;ki(r,l,0,u,c,a)}i&&Il(r)}drawTitle(){let{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;let s=Ze(r.font),o=It(r.padding),a=r.align,c=s.lineHeight/2;n==="bottom"||n==="center"||le(n)?(c+=o.bottom,Me(r.text)&&(c+=s.lineHeight*(r.text.length-1))):c+=o.top;let{titleX:l,titleY:u,maxWidth:d,rotation:h}=Y4(this,c,n,a);ki(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:h,textAlign:K4(a,n,i),textBaseline:"middle",translation:[l,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,n=e.ticks&&e.ticks.z||0,r=Z(e.grid&&e.grid.z,-1),i=Z(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){let n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[],s,o;for(s=0,o=n.length;s<o;++s){let a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){let n=this.options.ticks.setContext(this.getContext(e));return Ze(n.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},wa=class{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let n=Object.getPrototypeOf(e),r;J4(n)&&(r=this.register(n));let i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,Q4(e,o,r),this.override&&je.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){let n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in je[i]&&(delete je[i][r],this.override&&delete Ri[r])}};function Q4(t,e,n){let r=ua(Object.create(null),[n?je.get(n):{},je.get(e),t.defaults]);je.set(e,r),t.defaultRoutes&&X4(e,t.defaultRoutes),t.descriptors&&je.describe(e,t.descriptors)}function X4(t,e){Object.keys(e).forEach(n=>{let r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),c=o.join(".");je.route(s,i,c,a)})}function J4(t){return"id"in t&&"defaults"in t}var fw=class{constructor(){this.controllers=new wa(Li,"datasets",!0),this.elements=new wa(Pn,"elements"),this.plugins=new wa(Object,"plugins"),this.scales=new wa(Fs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{let s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Ee(i,o=>{let a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){let i=nf(e);xe(r["before"+i],[],r),n[e](r),xe(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){let r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){let i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}},lr=new fw,pw=class{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(let s of e){let o=s.plugin,a=o[r],c=[n,i,s.options];if(xe(a,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){ye(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){let r=e&&e.config,i=Z(r.options&&r.options.plugins,{}),s=Z4(r);return i===!1&&!n?[]:tq(e,s,i,n)}_notifyStateChanges(e){let n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}};function Z4(t){let e={},n=[],r=Object.keys(lr.plugins.items);for(let s=0;s<r.length;s++)n.push(lr.getPlugin(r[s]));let i=t.plugins||[];for(let s=0;s<i.length;s++){let o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function eq(t,e){return!e&&t===!1?null:t===!0?{}:t}function tq(t,{plugins:e,localIds:n},r,i){let s=[],o=t.getContext();for(let a of e){let c=a.id,l=eq(r[c],i);l!==null&&s.push({plugin:a,options:nq(t.config,{plugin:a,local:n[c]},l,o)})}return s}function nq(t,{plugin:e,local:n},r,i){let s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function gw(t,e){let n=je.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function rq(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function iq(t,e){return t===e?"_index_":"_value_"}function cM(t){if(t==="x"||t==="y"||t==="r")return t}function sq(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function mw(t,...e){if(cM(t))return t;for(let n of e){let r=n.axis||sq(n.position)||t.length>1&&cM(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function lM(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function oq(t,e){if(e.data&&e.data.datasets){let n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return lM(t,"x",n[0])||lM(t,"y",n[0])}return{}}function aq(t,e){let n=Ri[t.type]||{scales:{}},r=e.scales||{},i=gw(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{let a=r[o];if(!le(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let c=mw(o,a,oq(o,t),je.scales[a.type]),l=iq(c,i),u=n.scales||{};s[o]=ha(Object.create(null),[{axis:c},a,u[c],u[l]])}),t.data.datasets.forEach(o=>{let a=o.type||t.type,c=o.indexAxis||gw(a,e),u=(Ri[a]||{}).scales||{};Object.keys(u).forEach(d=>{let h=rq(d,c),f=o[h+"AxisID"]||h;s[f]=s[f]||Object.create(null),ha(s[f],[{axis:h},r[f],u[d]])})}),Object.keys(s).forEach(o=>{let a=s[o];ha(a,[je.scales[a.type],je.scale])}),s}function QM(t){let e=t.options||(t.options={});e.plugins=Z(e.plugins,{}),e.scales=aq(t,e)}function XM(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function cq(t){return t=t||{},t.data=XM(t.data),QM(t),t}var uM=new Map,JM=new Set;function mf(t,e){let n=uM.get(t);return n||(n=e(),uM.set(t,n),JM.add(n)),n}var xl=(t,e,n)=>{let r=Br(e,n);r!==void 0&&t.add(r)},yw=class{constructor(e){this._config=cq(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=XM(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),QM(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return mf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return mf(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return mf(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){let n=e.id,r=this.type;return mf(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){let r=this._scopeCache,i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){let{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;let c=new Set;n.forEach(u=>{e&&(c.add(e),u.forEach(d=>xl(c,e,d))),u.forEach(d=>xl(c,i,d)),u.forEach(d=>xl(c,Ri[s]||{},d)),u.forEach(d=>xl(c,je,d)),u.forEach(d=>xl(c,af,d))});let l=Array.from(c);return l.length===0&&l.push(Object.create(null)),JM.has(n)&&o.set(n,l),l}chartOptionScopes(){let{options:e,type:n}=this;return[e,Ri[n]||{},je.datasets[n]||{},{type:n},je,af]}resolveNamedOptions(e,n,r,i=[""]){let s={$shared:!0},{resolver:o,subPrefixes:a}=dM(this._resolverCache,e,i),c=o;if(uq(o,n)){s.$shared=!1,r=jr(r)?r():r;let l=this.createResolver(e,r,a);c=Rs(o,r,l)}for(let l of n)s[l]=c[l];return s}createResolver(e,n,r=[""],i){let{resolver:s}=dM(this._resolverCache,e,r);return le(n)?Rs(s,n,void 0,i):s}};function dM(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));let i=n.join(),s=r.get(i);return s||(s={resolver:uf(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}var lq=t=>le(t)&&Object.getOwnPropertyNames(t).some(e=>jr(t[e]));function uq(t,e){let{isScriptable:n,isIndexable:r}=Hv(t);for(let i of e){let s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(jr(a)||lq(a))||o&&Me(a))return!0}return!1}var dq="4.4.1",hq=["top","bottom","left","right","chartArea"];function hM(t,e){return t==="top"||t==="bottom"||hq.indexOf(t)===-1&&e==="x"}function fM(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function pM(t){let e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),xe(n&&n.onComplete,[t],e)}function fq(t){let e=t.chart,n=e.options.animation;xe(n&&n.onProgress,[t],e)}function ZM(t){return df()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var Ef={},gM=t=>{let e=ZM(t);return Object.values(Ef).filter(n=>n.canvas===e).pop()};function pq(t,e,n){let r=Object.keys(t);for(let i of r){let s=+i;if(s>=e){let o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function gq(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function yf(t,e,n){return t.options.clip?t[n]:e[n]}function mq(t,e){let{xScale:n,yScale:r}=t;return n&&r?{left:yf(n,e,"left"),right:yf(n,e,"right"),top:yf(r,e,"top"),bottom:yf(r,e,"bottom")}:e}var Ol=(()=>{class t{static defaults=je;static instances=Ef;static overrides=Ri;static registry=lr;static version=dq;static getChart=gM;static register(...n){lr.add(...n),mM()}static unregister(...n){lr.remove(...n),mM()}constructor(n,r){let i=this.config=new yw(r),s=ZM(n),o=gM(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||F4(s)),this.platform.updateConfig(i);let c=this.platform.acquireContext(s,a.aspectRatio),l=c&&c.canvas,u=l&&l.height,d=l&&l.width;if(this.id=fA(),this.ctx=c,this.canvas=l,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new pw,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=CA(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],Ef[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Hr.listen(this,"complete",pM),Hr.listen(this,"progress",fq),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:n,maintainAspectRatio:r},width:i,height:s,_aspectRatio:o}=this;return ye(n)?r&&o?o:s?i/s:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}get registry(){return lr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Gv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Uv(this.canvas,this.ctx),this}stop(){return Hr.stop(this),this}resize(n,r){Hr.running(this)?this._resizeBeforeDraw={width:n,height:r}:this._resize(n,r)}_resize(n,r){let i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,n,r,o),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Gv(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),xe(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let r=this.options.scales||{};Ee(r,(i,s)=>{i.id=s})}buildOrUpdateScales(){let n=this.options,r=n.scales,i=this.scales,s=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{}),o=[];r&&(o=o.concat(Object.keys(r).map(a=>{let c=r[a],l=mw(a,c),u=l==="r",d=l==="x";return{options:c,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Ee(o,a=>{let c=a.options,l=c.id,u=mw(l,c),d=Z(c.type,a.dtype);(c.position===void 0||hM(c.position,u)!==hM(a.dposition))&&(c.position=a.dposition),s[l]=!0;let h=null;if(l in i&&i[l].type===d)h=i[l];else{let f=lr.getScale(d);h=new f({id:l,type:d,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(c,n)}),Ee(s,(a,c)=>{a||delete i[c]}),Ee(i,a=>{At.configure(this,a,a.options),At.addBox(this,a)})}_updateMetasets(){let n=this._metasets,r=this.data.datasets.length,i=n.length;if(n.sort((s,o)=>s.index-o.index),i>r){for(let s=r;s<i;++s)this._destroyDatasetMeta(s);n.splice(r,i-r)}this._sortedMetasets=n.slice(0).sort(fM("order","index"))}_removeUnreferencedMetasets(){let{_metasets:n,data:{datasets:r}}=this;n.length>r.length&&delete this._stacks,n.forEach((i,s)=>{r.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let n=[],r=this.data.datasets,i,s;for(this._removeUnreferencedMetasets(),i=0,s=r.length;i<s;i++){let o=r[i],a=this.getDatasetMeta(i),c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=o.indexAxis||gw(c,this.options),a.order=o.order||0,a.index=i,a.label=""+o.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{let l=lr.getController(c),{datasetElementType:u,dataElementType:d}=je.datasets[c];Object.assign(l,{dataElementType:lr.getElement(d),datasetElementType:u&&lr.getElement(u)}),a.controller=new l(this,i),n.push(a.controller)}}return this._updateMetasets(),n}_resetElements(){Ee(this.data.datasets,(n,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){let r=this.config;r.update();let i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){let{controller:h}=this.getDatasetMeta(u),f=!s&&o.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||Ee(o,u=>{u.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(fM("z","_idx"));let{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Ee(this.scales,n=>{At.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let n=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(n.events);(!Sv(r,i)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:n}=this,r=this._getUniformDataChanges()||[];for(let{method:i,start:s,count:o}of r){let a=i==="_removeElements"?-o:o;pq(n,s,a)}}_getUniformDataChanges(){let n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];let r=this.data.datasets.length,i=o=>new Set(n.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),s=i(0);for(let o=1;o<r;o++)if(!Sv(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(n){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;At.update(this,this.width,this.height,n);let r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],Ee(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})!==!1){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,jr(n)?n({datasetIndex:r}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,r){let i=this.getDatasetMeta(n),s={meta:i,index:n,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Hr.has(this)?this.attached&&!Hr.running(this)&&Hr.start(this):(this.draw(),pM({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){let{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let r=this._layers;for(n=0;n<r.length&&r[n].z<=0;++n)r[n].draw(this.chartArea);for(this._drawDatasets();n<r.length;++n)r[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){let r=this._sortedMetasets,i=[],s,o;for(s=0,o=r.length;s<o;++s){let a=r[s];(!n||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let n=this.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r)this._drawDataset(n[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){let r=this.ctx,i=n._clip,s=!i.disabled,o=mq(n,this.chartArea),a={meta:n,index:n.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&El(r,{left:i.left===!1?0:o.left-i.left,right:i.right===!1?this.width:o.right+i.right,top:i.top===!1?0:o.top-i.top,bottom:i.bottom===!1?this.height:o.bottom+i.bottom}),n.controller.draw(),s&&Il(r),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(n){return sr(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,r,i,s){let o=y4.modes[r];return typeof o=="function"?o(this,n,i,s):[]}getDatasetMeta(n){let r=this.data.datasets[n],i=this._metasets,s=i.filter(o=>o&&o._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:n,_dataset:r,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=$r(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){let r=this.data.datasets[n];if(!r)return!1;let i=this.getDatasetMeta(n);return typeof i.hidden=="boolean"?!i.hidden:!r.hidden}setDatasetVisibility(n,r){let i=this.getDatasetMeta(n);i.hidden=!r}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,r,i){let s=i?"show":"hide",o=this.getDatasetMeta(n),a=o.controller._resolveAnimations(void 0,s);fa(r)?(o.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(n,i),a.update(o,{visible:i}),this.update(c=>c.datasetIndex===n?s:void 0))}hide(n,r){this._updateVisibility(n,r,!1)}show(n,r){this._updateVisibility(n,r,!0)}_destroyDatasetMeta(n){let r=this._metasets[n];r&&r.controller&&r.controller._destroy(),delete this._metasets[n]}_stop(){let n,r;for(this.stop(),Hr.remove(this),n=0,r=this.data.datasets.length;n<r;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:n,ctx:r}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),Uv(n,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Ef[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let n=this._listeners,r=this.platform,i=(o,a)=>{r.addEventListener(this,o,a),n[o]=a},s=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};Ee(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let n=this._responsiveListeners,r=this.platform,i=(l,u)=>{r.addEventListener(this,l,u),n[l]=u},s=(l,u)=>{n[l]&&(r.removeEventListener(this,l,u),delete n[l])},o=(l,u)=>{this.canvas&&this.resize(l,u)},a,c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",o),i("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",c)},r.isAttached(this.canvas)?c():a()}unbindEvents(){Ee(this._listeners,(n,r)=>{this.platform.removeEventListener(this,r,n)}),this._listeners={},Ee(this._responsiveListeners,(n,r)=>{this.platform.removeEventListener(this,r,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,r,i){let s=i?"set":"remove",o,a,c,l;for(r==="dataset"&&(o=this.getDatasetMeta(n[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),c=0,l=n.length;c<l;++c){a=n[c];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){let r=this._active||[],i=n.map(({datasetIndex:o,index:a})=>{let c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!wl(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(n,r,i){return this._plugins.notify(this,n,r,i)}isPluginEnabled(n){return this._plugins._cache.filter(r=>r.plugin.id===n).length===1}_updateHoverStyles(n,r,i){let s=this.options.hover,o=(l,u)=>l.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=o(r,n),c=i?n:o(n,r);a.length&&this.updateHoverStyle(a,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(n,r){let i={event:n,replay:r,cancelable:!0,inChartArea:this.isPointInArea(n)},s=a=>(a.options.events||this.options.events).includes(n.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;let o=this._handleEvent(n,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(n,r,i){let{_active:s=[],options:o}=this,a=r,c=this._getActiveElements(n,s,i,a),l=mA(n),u=gq(n,this._lastEvent,i,l);i&&(this._lastEvent=null,xe(o.onHover,[n,c,this],this),l&&xe(o.onClick,[n,c,this],this));let d=!wl(c,s);return(d||r)&&(this._active=c,this._updateHoverStyles(c,s,r)),this._lastEvent=u,d}_getActiveElements(n,r,i,s){if(n.type==="mouseout")return[];if(!i)return r;let o=this.options.hover;return this.getElementsAtEventForMode(n,o.mode,o,s)}}return t})();function mM(){return Ee(Ol.instances,t=>t._plugins.invalidate())}function yq(t,e,n){let{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:c}=e,l=i/a;t.beginPath(),t.arc(s,o,a,r-l,n+l),c>i?(l=i/c,t.arc(s,o,c,n+l,r-l,!0)):t.arc(s,o,i,n+Be,r-Be),t.closePath(),t.clip()}function _q(t){return lf(t,["outerStart","outerEnd","innerStart","innerEnd"])}function vq(t,e,n,r){let i=_q(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=c=>{let l=(n-Math.min(s,c))*r/2;return lt(c,0,Math.min(s,l))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:lt(i.innerStart,0,o),innerEnd:lt(i.innerEnd,0,o)}}function va(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Tf(t,e,n,r,i,s){let{x:o,y:a,startAngle:c,pixelMargin:l,innerRadius:u}=e,d=Math.max(e.outerRadius+r+n-l,0),h=u>0?u+r+n+l:0,f=0,p=i-c;if(r){let Te=u>0?u-r:0,Oe=d>0?d-r:0,We=(Te+Oe)/2,In=We!==0?p*We/(We+r):p;f=(p-In)/2}let m=Math.max(.001,p*d-n/Re)/d,g=(p-m)/2,y=c+g+f,v=i-g-f,{outerStart:E,outerEnd:w,innerStart:b,innerEnd:C}=vq(e,h,d,v-y),M=d-E,x=d-w,F=y+E/M,K=v-w/x,ne=h+b,ue=h+C,mt=y+b/ne,en=v-C/ue;if(t.beginPath(),s){let Te=(F+K)/2;if(t.arc(o,a,d,F,Te),t.arc(o,a,d,Te,K),w>0){let St=va(x,K,o,a);t.arc(St.x,St.y,w,K,v+Be)}let Oe=va(ue,v,o,a);if(t.lineTo(Oe.x,Oe.y),C>0){let St=va(ue,en,o,a);t.arc(St.x,St.y,C,v+Be,en+Math.PI)}let We=(v-C/h+(y+b/h))/2;if(t.arc(o,a,h,v-C/h,We,!0),t.arc(o,a,h,We,y+b/h,!0),b>0){let St=va(ne,mt,o,a);t.arc(St.x,St.y,b,mt+Math.PI,y-Be)}let In=va(M,y,o,a);if(t.lineTo(In.x,In.y),E>0){let St=va(M,F,o,a);t.arc(St.x,St.y,E,y-Be,F)}}else{t.moveTo(o,a);let Te=Math.cos(F)*d+o,Oe=Math.sin(F)*d+a;t.lineTo(Te,Oe);let We=Math.cos(K)*d+o,In=Math.sin(K)*d+a;t.lineTo(We,In)}t.closePath()}function wq(t,e,n,r,i){let{fullCircles:s,startAngle:o,circumference:a}=e,c=e.endAngle;if(s){Tf(t,e,n,r,c,i);for(let l=0;l<s;++l)t.fill();isNaN(a)||(c=o+(a%Pe||Pe))}return Tf(t,e,n,r,c,i),t.fill(),c}function bq(t,e,n,r,i){let{fullCircles:s,startAngle:o,circumference:a,options:c}=e,{borderWidth:l,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=c,f=c.borderAlign==="inner";if(!l)return;t.setLineDash(d||[]),t.lineDashOffset=h,f?(t.lineWidth=l*2,t.lineJoin=u||"round"):(t.lineWidth=l,t.lineJoin=u||"bevel");let p=e.endAngle;if(s){Tf(t,e,n,r,p,i);for(let m=0;m<s;++m)t.stroke();isNaN(a)||(p=o+(a%Pe||Pe))}f&&yq(t,e,p),s||(Tf(t,e,n,r,p,i),t.stroke())}var _w=class extends Pn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){let i=this.getProps(["x","y"],r),{angle:s,distance:o}=Rv(i,{x:e,y:n}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),h=(this.options.spacing+this.options.borderWidth)/2,p=Z(d,c-a)>=Pe||ga(s,a,c),m=ar(o,l+h,u+h);return p&&m}getCenterPoint(e){let{x:n,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:l}=this.options,u=(i+s)/2,d=(o+a+l+c)/2;return{x:n+Math.cos(u)*d,y:r+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:n,circumference:r}=this,i=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>Pe?Math.floor(r/Pe):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);let c=1-Math.sin(Math.min(Re,r||0)),l=i*c;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,wq(e,this,l,s,o),bq(e,this,l,s,o),e.restore()}};function eR(t,e,n=e){t.lineCap=Z(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Z(n.borderDash,e.borderDash)),t.lineDashOffset=Z(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Z(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Z(n.borderWidth,e.borderWidth),t.strokeStyle=Z(n.borderColor,e.borderColor)}function Eq(t,e,n){t.lineTo(n.x,n.y)}function Iq(t){return t.stepped?xA:t.tension||t.cubicInterpolationMode==="monotone"?AA:Eq}function tR(t,e,n={}){let r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,c=Math.max(i,o),l=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:c,loop:e.loop,ilen:l<c&&!u?r+l-c:l-c}}function Cq(t,e,n,r){let{points:i,options:s}=e,{count:o,start:a,loop:c,ilen:l}=tR(i,n,r),u=Iq(s),{move:d=!0,reverse:h}=r||{},f,p,m;for(f=0;f<=l;++f)p=i[(a+(h?l-f:f))%o],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):u(t,m,p,h,s.stepped),m=p);return c&&(p=i[(a+(h?l:0))%o],u(t,m,p,h,s.stepped)),!!c}function Dq(t,e,n,r){let i=e.points,{count:s,start:o,ilen:a}=tR(i,n,r),{move:c=!0,reverse:l}=r||{},u=0,d=0,h,f,p,m,g,y,v=w=>(o+(l?a-w:w))%s,E=()=>{m!==g&&(t.lineTo(u,g),t.lineTo(u,m),t.lineTo(u,y))};for(c&&(f=i[v(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=i[v(h)],f.skip)continue;let w=f.x,b=f.y,C=w|0;C===p?(b<m?m=b:b>g&&(g=b),u=(d*u+w)/++d):(E(),t.lineTo(w,b),p=C,d=0,m=g=b),y=b}E()}function vw(t){let e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Dq:Cq}function Tq(t){return t.stepped?VA:t.tension||t.cubicInterpolationMode==="monotone"?jA:Mi}function Sq(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),eR(t,e.options),t.stroke(i)}function xq(t,e,n,r){let{segments:i,options:s}=e,o=vw(e);for(let a of i)eR(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}var Aq=typeof Path2D=="function";function Mq(t,e,n,r){Aq&&!e.options.segment?Sq(t,e,n,r):xq(t,e,n,r)}var Af=(()=>{class t extends Pn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"};constructor(n){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,n&&Object.assign(this,n)}updateControlPoints(n,r){let i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){let s=i.spanGaps?this._loop:this._fullLoop;OA(this._points,i,n,s,r),this._pointsUpdated=!0}}set points(n){this._points=n,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=BA(this,this.options.segment))}first(){let n=this.segments,r=this.points;return n.length&&r[n[0].start]}last(){let n=this.segments,r=this.points,i=n.length;return i&&r[n[i-1].end]}interpolate(n,r){let i=this.options,s=n[r],o=this.points,a=Jv(this,{property:r,start:s,end:s});if(!a.length)return;let c=[],l=Tq(i),u,d;for(u=0,d=a.length;u<d;++u){let{start:h,end:f}=a[u],p=o[h],m=o[f];if(p===m){c.push(p);continue}let g=Math.abs((s-p[r])/(m[r]-p[r])),y=l(p,m,g,i.stepped);y[r]=n[r],c.push(y)}return c.length===1?c[0]:c}pathSegment(n,r,i){return vw(this)(n,this,r,i)}path(n,r,i){let s=this.segments,o=vw(this),a=this._loop;r=r||0,i=i||this.points.length-r;for(let c of s)a&=o(n,this,c,{start:r,end:r+i-1});return!!a}draw(n,r,i,s){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(n.save(),Mq(n,this,i,s),n.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t})();function yM(t,e,n,r){let i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}var Rq=(()=>{class t extends Pn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){let s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return yM(this,n,"x",r)}inYRange(n,r){return yM(this,n,"y",r)}getCenterPoint(n){let{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);let i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){let i=this.options;this.skip||i.radius<.1||!sr(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,cf(n,i,this.x,this.y))}getRange(){let n=this.options||{};return n.radius+n.hitRadius}}return t})();function nR(t,e){let{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e),a,c,l,u,d;return t.horizontal?(d=o/2,a=Math.min(n,i),c=Math.max(n,i),l=r-d,u=r+d):(d=s/2,a=n-d,c=n+d,l=Math.min(r,i),u=Math.max(r,i)),{left:a,top:l,right:c,bottom:u}}function Fi(t,e,n,r){return t?0:lt(e,n,r)}function Pq(t,e,n){let r=t.options.borderWidth,i=t.borderSkipped,s=$v(r);return{t:Fi(i.top,s.top,0,n),r:Fi(i.right,s.right,0,e),b:Fi(i.bottom,s.bottom,0,n),l:Fi(i.left,s.left,0,e)}}function kq(t,e,n){let{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Ni(i),o=Math.min(e,n),a=t.borderSkipped,c=r||le(i);return{topLeft:Fi(!c||a.top||a.left,s.topLeft,0,o),topRight:Fi(!c||a.top||a.right,s.topRight,0,o),bottomLeft:Fi(!c||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Fi(!c||a.bottom||a.right,s.bottomRight,0,o)}}function Nq(t){let e=nR(t),n=e.right-e.left,r=e.bottom-e.top,i=Pq(t,n/2,r/2),s=kq(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function sw(t,e,n,r){let i=e===null,s=n===null,a=t&&!(i&&s)&&nR(t,r);return a&&(i||ar(e,a.left,a.right))&&(s||ar(n,a.top,a.bottom))}function Oq(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Fq(t,e){t.rect(e.x,e.y,e.w,e.h)}function ow(t,e,n={}){let r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}var ww=class extends Pn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=Nq(this),a=Oq(o.radius)?ya:Fq;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,ow(o,n,s)),e.clip(),a(e,ow(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,ow(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return sw(this,e,n,r)}inXRange(e,n){return sw(this,e,null,n)}inYRange(e,n){return sw(this,null,e,n)}getCenterPoint(e){let{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},Lq=Object.freeze({__proto__:null,ArcElement:_w,BarElement:ww,LineElement:Af,PointElement:Rq}),bw=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],_M=bw.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function rR(t){return bw[t%bw.length]}function iR(t){return _M[t%_M.length]}function Vq(t,e){return t.borderColor=rR(e),t.backgroundColor=iR(e),++e}function jq(t,e){return t.backgroundColor=t.data.map(()=>rR(e++)),e}function Uq(t,e){return t.backgroundColor=t.data.map(()=>iR(e++)),e}function Bq(t){let e=0;return(n,r)=>{let i=t.getDatasetMeta(r).controller;i instanceof Aw?e=jq(n,e):i instanceof qM?e=Uq(n,e):i&&(e=Vq(n,e))}}function vM(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function $q(t){return t&&(t.borderColor||t.backgroundColor)}var Hq={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;let{data:{datasets:r},options:i}=t.config,{elements:s}=i;if(!n.forceOverride&&(vM(r)||$q(i)||s&&vM(s)))return;let o=Bq(t);r.forEach(o)}};function zq(t,e,n,r,i){let s=i.samples||r;if(s>=n)return t.slice(e,e+n);let o=[],a=(n-2)/(s-2),c=0,l=e+n-1,u=e,d,h,f,p,m;for(o[c++]=t[u],d=0;d<s-2;d++){let g=0,y=0,v,E=Math.floor((d+1)*a)+1+e,w=Math.min(Math.floor((d+2)*a)+1,n)+e,b=w-E;for(v=E;v<w;v++)g+=t[v].x,y+=t[v].y;g/=b,y/=b;let C=Math.floor(d*a)+1+e,M=Math.min(Math.floor((d+1)*a)+1,n)+e,{x,y:F}=t[u];for(f=p=-1,v=C;v<M;v++)p=.5*Math.abs((x-g)*(t[v].y-F)-(x-t[v].x)*(y-F)),p>f&&(f=p,h=t[v],m=v);o[c++]=h,u=m}return o[c++]=t[l],o}function qq(t,e,n,r){let i=0,s=0,o,a,c,l,u,d,h,f,p,m,g=[],y=e+n-1,v=t[e].x,w=t[y].x-v;for(o=e;o<e+n;++o){a=t[o],c=(a.x-v)/w*r,l=a.y;let b=c|0;if(b===u)l<p?(p=l,d=o):l>m&&(m=l,h=o),i=(s*i+a.x)/++s;else{let C=o-1;if(!ye(d)&&!ye(h)){let M=Math.min(d,h),x=Math.max(d,h);M!==f&&M!==C&&g.push(ve(N({},t[M]),{x:i})),x!==f&&x!==C&&g.push(ve(N({},t[x]),{x:i}))}o>0&&C!==f&&g.push(t[C]),g.push(a),u=b,s=0,p=m=l,d=h=f=o}}return g}function sR(t){if(t._decimated){let e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function wM(t){t.data.datasets.forEach(e=>{sR(e)})}function Wq(t,e){let n=e.length,r=0,i,{iScale:s}=t,{min:o,max:a,minDefined:c,maxDefined:l}=s.getUserBounds();return c&&(r=lt(ir(e,s.axis,o).lo,0,n-1)),l?i=lt(ir(e,s.axis,a).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var Gq={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){wM(t);return}let r=t.width;t.data.datasets.forEach((i,s)=>{let{_data:o,indexAxis:a}=i,c=t.getDatasetMeta(s),l=o||i.data;if(_a([a,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let u=t.scales[c.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:h}=Wq(c,l),f=n.threshold||4*r;if(h<=f){sR(i);return}ye(o)&&(i._data=l,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let p;switch(n.algorithm){case"lttb":p=zq(l,d,h,r,n);break;case"min-max":p=qq(l,d,h,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=p})},destroy(t){wM(t)}};function Kq(t,e,n){let r=t.segments,i=t.points,s=e.points,o=[];for(let a of r){let{start:c,end:l}=a;l=Mw(c,l,i);let u=Ew(n,i[c],i[l],a.loop);if(!e.segments){o.push({source:a,target:u,start:i[c],end:i[l]});continue}let d=Jv(e,u);for(let h of d){let f=Ew(n,s[h.start],s[h.end],h.loop),p=Xv(a,i,f);for(let m of p)o.push({source:m,target:h,start:{[n]:bM(u,f,"start",Math.max)},end:{[n]:bM(u,f,"end",Math.min)}})}}return o}function Ew(t,e,n,r){if(r)return;let i=e[t],s=n[t];return t==="angle"&&(i=Yt(i),s=Yt(s)),{property:t,start:i,end:s}}function Yq(t,e){let{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=Mw(o,a,i);let c=i[o],l=i[a];r!==null?(s.push({x:c.x,y:r}),s.push({x:l.x,y:r})):n!==null&&(s.push({x:n,y:c.y}),s.push({x:n,y:l.y}))}),s}function Mw(t,e,n){for(;e>t;e--){let r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function bM(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function oR(t,e){let n=[],r=!1;return Me(t)?(r=!0,n=t):n=Yq(t,e),n.length?new Af({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function EM(t){return t&&t.fill!==!1}function Qq(t,e,n){let i=t[e].fill,s=[e],o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!Ve(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function Xq(t,e,n){let r=tW(t);if(le(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Ve(i)&&Math.floor(i)===i?Jq(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Jq(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function Zq(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:le(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function eW(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:le(t)?r=t.value:r=e.getBaseValue(),r}function tW(t){let e=t.options,n=e.fill,r=Z(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function nW(t){let{scale:e,index:n,line:r}=t,i=[],s=r.segments,o=r.points,a=rW(e,n);a.push(oR({x:null,y:e.bottom},r));for(let c=0;c<s.length;c++){let l=s[c];for(let u=l.start;u<=l.end;u++)iW(i,o[u],a)}return new Af({points:i,options:{}})}function rW(t,e){let n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){let s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function iW(t,e,n){let r=[];for(let i=0;i<n.length;i++){let s=n[i],{first:o,last:a,point:c}=sW(s,e,"x");if(!(!c||o&&a)){if(o)r.unshift(c);else if(t.push(c),!a)break}}t.push(...r)}function sW(t,e,n){let r=t.interpolate(e,n);if(!r)return{};let i=r[n],s=t.segments,o=t.points,a=!1,c=!1;for(let l=0;l<s.length;l++){let u=s[l],d=o[u.start][n],h=o[u.end][n];if(ar(i,d,h)){a=i===d,c=i===h;break}}return{first:a,last:c,point:r}}var Sf=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){let{x:i,y:s,radius:o}=this;return n=n||{start:0,end:Pe},e.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(e){let{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}};function oW(t){let{chart:e,fill:n,line:r}=t;if(Ve(n))return aW(e,n);if(n==="stack")return nW(t);if(n==="shape")return!0;let i=cW(t);return i instanceof Sf?i:oR(i,r)}function aW(t,e){let n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function cW(t){return(t.scale||{}).getPointPositionForValue?uW(t):lW(t)}function lW(t){let{scale:e={},fill:n}=t,r=Zq(n,e);if(Ve(r)){let i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function uW(t){let{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=eW(n,e,s),a=[];if(r.grid.circular){let c=e.getPointPositionForValue(0,s);return new Sf({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)a.push(e.getPointPositionForValue(c,o));return a}function aw(t,e,n){let r=oW(e),{line:i,scale:s,axis:o}=e,a=i.options,c=a.fill,l=a.backgroundColor,{above:u=l,below:d=l}=c||{};r&&i.points.length&&(El(t,n),dW(t,{line:i,target:r,above:u,below:d,area:n,scale:s,axis:o}),Il(t))}function dW(t,e){let{line:n,target:r,above:i,below:s,area:o,scale:a}=e,c=n._loop?"angle":e.axis;t.save(),c==="x"&&s!==i&&(IM(t,r,o.top),CM(t,{line:n,target:r,color:i,scale:a,property:c}),t.restore(),t.save(),IM(t,r,o.bottom)),CM(t,{line:n,target:r,color:s,scale:a,property:c}),t.restore()}function IM(t,e,n){let{segments:r,points:i}=e,s=!0,o=!1;t.beginPath();for(let a of r){let{start:c,end:l}=a,u=i[c],d=i[Mw(c,l,i)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function CM(t,e){let{line:n,target:r,property:i,color:s,scale:o}=e,a=Kq(n,r,i);for(let{source:c,target:l,start:u,end:d}of a){let{style:{backgroundColor:h=s}={}}=c,f=r!==!0;t.save(),t.fillStyle=h,hW(t,o,f&&Ew(i,u,d)),t.beginPath();let p=!!n.pathSegment(t,c),m;if(f){p?t.closePath():DM(t,r,d,i);let g=!!r.pathSegment(t,l,{move:p,reverse:!0});m=p&&g,m||DM(t,r,u,i)}t.closePath(),t.fill(m?"evenodd":"nonzero"),t.restore()}}function hW(t,e,n){let{top:r,bottom:i}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(t.beginPath(),t.rect(o,r,a-o,i-r),t.clip())}function DM(t,e,n,r){let i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var fW={id:"filler",afterDatasetsUpdate(t,e,n){let r=(t.data.datasets||[]).length,i=[],s,o,a,c;for(o=0;o<r;++o)s=t.getDatasetMeta(o),a=s.dataset,c=null,a&&a.options&&a instanceof Af&&(c={visible:t.isDatasetVisible(o),index:o,fill:Xq(a,o,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=c,i.push(c);for(o=0;o<r;++o)c=i[o],!(!c||c.fill===!1)&&(c.fill=Qq(i,o,n.propagate))},beforeDraw(t,e,n){let r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=i.length-1;o>=0;--o){let a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&aw(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;let r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){let s=r[i].$filler;EM(s)&&aw(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){let r=e.meta.$filler;!EM(r)||n.drawTime!=="beforeDatasetDraw"||aw(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},TM=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},pW=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index,xf=class extends Pn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},n=xe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){let{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}let r=e.labels,i=Ze(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=TM(r,s),l,u;n.font=i.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(o,s,a,c)+10):(u=this.maxHeight,l=this._fitCols(o,i,a,c)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){let{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],u=i+a,d=e;s.textAlign="left",s.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((p,m)=>{let g=r+n/2+s.measureText(p.text).width;(m===0||l[l.length-1]+g+2*a>o)&&(d+=u,l[l.length-(m>0?0:1)]=0,f+=u,h++),c[m]={left:0,top:f,row:h,width:g,height:i},l[l.length-1]+=g+a}),d}_fitCols(e,n,r,i){let{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],u=o-e,d=a,h=0,f=0,p=0,m=0;return this.legendItems.forEach((g,y)=>{let{itemWidth:v,itemHeight:E}=gW(r,n,s,g,i);y>0&&f+E+2*a>u&&(d+=h+a,l.push({width:h,height:f}),p+=h+a,m++,h=f=0),c[y]={left:p,top:f,col:m,width:v,height:E},h=Math.max(h,v),f+=E+a}),d+=h,l.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=ks(s,this.left,this.width);if(this.isHorizontal()){let a=0,c=Et(r,this.left+i,this.right-this.lineWidths[a]);for(let l of n)a!==l.row&&(a=l.row,c=Et(r,this.left+i,this.right-this.lineWidths[a])),l.top+=this.top+e+i,l.left=o.leftForLtr(o.x(c),l.width),c+=l.width+i}else{let a=0,c=Et(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(let l of n)l.col!==a&&(a=l.col,c=Et(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+i,l.left=o.leftForLtr(o.x(l.left),l.width),c+=l.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;El(e,this),this._draw(),Il(e)}}_draw(){let{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=je.color,c=ks(e.rtl,this.left,this.width),l=Ze(o.font),{padding:u}=o,d=l.size,h=d/2,f;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;let{boxWidth:p,boxHeight:m,itemHeight:g}=TM(o,d),y=function(C,M,x){if(isNaN(p)||p<=0||isNaN(m)||m<0)return;i.save();let F=Z(x.lineWidth,1);if(i.fillStyle=Z(x.fillStyle,a),i.lineCap=Z(x.lineCap,"butt"),i.lineDashOffset=Z(x.lineDashOffset,0),i.lineJoin=Z(x.lineJoin,"miter"),i.lineWidth=F,i.strokeStyle=Z(x.strokeStyle,a),i.setLineDash(Z(x.lineDash,[])),o.usePointStyle){let K={radius:m*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:F},ne=c.xPlus(C,p/2),ue=M+h;Bv(i,K,ne,ue,o.pointStyleWidth&&p)}else{let K=M+Math.max((d-m)/2,0),ne=c.leftForLtr(C,p),ue=Ni(x.borderRadius);i.beginPath(),Object.values(ue).some(mt=>mt!==0)?ya(i,{x:ne,y:K,w:p,h:m,radius:ue}):i.rect(ne,K,p,m),i.fill(),F!==0&&i.stroke()}i.restore()},v=function(C,M,x){ki(i,x.text,C,M+g/2,l,{strikethrough:x.hidden,textAlign:c.textAlign(x.textAlign)})},E=this.isHorizontal(),w=this._computeTitleHeight();E?f={x:Et(s,this.left+u,this.right-r[0]),y:this.top+u+w,line:0}:f={x:this.left+u,y:Et(s,this.top+w+u,this.bottom-n[0].height),line:0},Yv(this.ctx,e.textDirection);let b=g+u;this.legendItems.forEach((C,M)=>{i.strokeStyle=C.fontColor,i.fillStyle=C.fontColor;let x=i.measureText(C.text).width,F=c.textAlign(C.textAlign||(C.textAlign=o.textAlign)),K=p+h+x,ne=f.x,ue=f.y;c.setWidth(this.width),E?M>0&&ne+K+u>this.right&&(ue=f.y+=b,f.line++,ne=f.x=Et(s,this.left+u,this.right-r[f.line])):M>0&&ue+b>this.bottom&&(ne=f.x=ne+n[f.line].width+u,f.line++,ue=f.y=Et(s,this.top+w+u,this.bottom-n[f.line].height));let mt=c.x(ne);if(y(mt,ue,C),ne=DA(F,ne+p+h,E?ne+K:this.right,e.rtl),v(c.x(ne),ue,C),E)f.x+=K+u;else if(typeof C.text!="string"){let en=l.lineHeight;f.y+=aR(C,en)+u}else f.y+=b}),Qv(this.ctx,e.textDirection)}drawTitle(){let e=this.options,n=e.title,r=Ze(n.font),i=It(n.padding);if(!n.display)return;let s=ks(e.rtl,this.left,this.width),o=this.ctx,a=n.position,c=r.size/2,l=i.top+c,u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+l,d=Et(e.align,d,this.right-h);else{let p=this.columnSizes.reduce((m,g)=>Math.max(m,g.height),0);u=l+Et(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}let f=Et(a,d,d+h);o.textAlign=s.textAlign(of(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,ki(o,n.text,f,u,r)}_computeTitleHeight(){let e=this.options.title,n=Ze(e.font),r=It(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(ar(e,this.left,this.right)&&ar(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],ar(e,i.left,i.left+i.width)&&ar(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){let n=this.options;if(!_W(e.type,n))return;let r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let i=this._hoveredItem,s=pW(i,r);i&&!s&&xe(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&xe(n.onHover,[e,r,this],this)}else r&&xe(n.onClick,[e,r,this],this)}};function gW(t,e,n,r,i){let s=mW(r,t,e,n),o=yW(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function mW(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function yW(t,e,n){let r=t;return typeof e.text!="string"&&(r=aR(e,n)),r}function aR(t,e){let n=t.text?t.text.length:0;return e*n}function _W(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var vW={id:"legend",_element:xf,start(t,e,n){let r=t.legend=new xf({ctx:t.ctx,options:n,chart:t});At.configure(t,r,n),At.addBox(t,r)},stop(t){At.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){let r=t.legend;At.configure(t,r,n),r.options=n},afterUpdate(t){let e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){let r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{let l=c.controller.getStyle(n?0:void 0),u=It(l.borderWidth);return{text:e[c.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},Pl=class extends Pn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){let r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;let i=Me(r.text)?r.text.length:1;this._padding=It(r.padding);let s=i*Ze(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align,c=0,l,u,d;return this.isHorizontal()?(u=Et(a,r,s),d=n+e,l=s-r):(o.position==="left"?(u=r+e,d=Et(a,i,n),c=Re*-.5):(u=s-e,d=Et(a,n,i),c=Re*.5),l=i-n),{titleX:u,titleY:d,maxWidth:l,rotation:c}}draw(){let e=this.ctx,n=this.options;if(!n.display)return;let r=Ze(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(s);ki(e,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:l,textAlign:of(n.align),textBaseline:"middle",translation:[o,a]})}};function wW(t,e){let n=new Pl({ctx:t.ctx,options:e,chart:t});At.configure(t,n,e),At.addBox(t,n),t.titleBlock=n}var bW={id:"title",_element:Pl,start(t,e,n){wW(t,n)},stop(t){let e=t.titleBlock;At.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){let r=t.titleBlock;At.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},_f=new WeakMap,EW={id:"subtitle",start(t,e,n){let r=new Pl({ctx:t.ctx,options:n,chart:t});At.configure(t,r,n),At.addBox(t,r),_f.set(t,r)},stop(t){At.removeBox(t,_f.get(t)),_f.delete(t)},beforeUpdate(t,e,n){let r=_f.get(t);At.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Ml={average(t){if(!t.length)return!1;let e,n,r=0,i=0,s=0;for(e=0,n=t.length;e<n;++e){let o=t[e].element;if(o&&o.hasValue()){let a=o.tooltipPosition();r+=a.x,i+=a.y,++s}}return{x:r/s,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){let c=t[s].element;if(c&&c.hasValue()){let l=c.getCenterPoint(),u=ef(e,l);u<i&&(i=u,a=c)}}if(a){let c=a.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function cr(t,e){return e&&(Me(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function zr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function IW(t,e){let{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function SM(t,e){let n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,c=Ze(e.bodyFont),l=Ze(e.titleFont),u=Ze(e.footerFont),d=s.length,h=i.length,f=r.length,p=It(e.padding),m=p.height,g=0,y=r.reduce((w,b)=>w+b.before.length+b.lines.length+b.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*l.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){let w=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;m+=f*w+(y-f)*c.lineHeight+(y-1)*e.bodySpacing}h&&(m+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let v=0,E=function(w){g=Math.max(g,n.measureText(w).width+v)};return n.save(),n.font=l.string,Ee(t.title,E),n.font=c.string,Ee(t.beforeBody.concat(t.afterBody),E),v=e.displayColors?o+2+e.boxPadding:0,Ee(r,w=>{Ee(w.before,E),Ee(w.lines,E),Ee(w.after,E)}),v=0,n.font=u.string,Ee(t.footer,E),n.restore(),g+=p.width,{width:g,height:m}}function CW(t,e){let{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function DW(t,e,n,r){let{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function TW(t,e,n,r){let{x:i,width:s}=n,{width:o,chartArea:{left:a,right:c}}=t,l="center";return r==="center"?l=i<=(a+c)/2?"left":"right":i<=s/2?l="left":i>=o-s/2&&(l="right"),DW(l,t,e,n)&&(l="center"),l}function xM(t,e,n){let r=n.yAlign||e.yAlign||CW(t,n);return{xAlign:n.xAlign||e.xAlign||TW(t,e,n,r),yAlign:r}}function SW(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function xW(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function AM(t,e,n,r){let{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:c}=n,l=i+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Ni(o),p=SW(e,a),m=xW(e,c,l);return c==="center"?a==="left"?p+=l:a==="right"&&(p-=l):a==="left"?p-=Math.max(u,h)+i:a==="right"&&(p+=Math.max(d,f)+i),{x:lt(p,0,r.width-e.width),y:lt(m,0,r.height-e.height)}}function vf(t,e,n){let r=It(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function MM(t){return cr([],zr(t))}function AW(t,e,n){return $r(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function RM(t,e){let n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}var cR={beforeTitle:or,title(t){if(t.length>0){let e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:or,beforeBody:or,beforeLabel:or,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");let n=t.formattedValue;return ye(n)||(e+=n),e},labelColor(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:or,afterBody:or,beforeFooter:or,footer:or,afterFooter:or};function Xt(t,e,n,r){let i=t[e].call(n,r);return typeof i>"u"?cR[e].call(n,r):i}var PM=(()=>{class t extends Pn{static positioners=Ml;constructor(n){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=n.chart,this.options=n.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(n){this.options=n,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let n=this._cachedAnimations;if(n)return n;let r=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&r.options.animation&&i.animations,o=new If(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=AW(this.chart.getContext(),this,this._tooltipItems))}getTitle(n,r){let{callbacks:i}=r,s=Xt(i,"beforeTitle",this,n),o=Xt(i,"title",this,n),a=Xt(i,"afterTitle",this,n),c=[];return c=cr(c,zr(s)),c=cr(c,zr(o)),c=cr(c,zr(a)),c}getBeforeBody(n,r){return MM(Xt(r.callbacks,"beforeBody",this,n))}getBody(n,r){let{callbacks:i}=r,s=[];return Ee(n,o=>{let a={before:[],lines:[],after:[]},c=RM(i,o);cr(a.before,zr(Xt(c,"beforeLabel",this,o))),cr(a.lines,Xt(c,"label",this,o)),cr(a.after,zr(Xt(c,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(n,r){return MM(Xt(r.callbacks,"afterBody",this,n))}getFooter(n,r){let{callbacks:i}=r,s=Xt(i,"beforeFooter",this,n),o=Xt(i,"footer",this,n),a=Xt(i,"afterFooter",this,n),c=[];return c=cr(c,zr(s)),c=cr(c,zr(o)),c=cr(c,zr(a)),c}_createItems(n){let r=this._active,i=this.chart.data,s=[],o=[],a=[],c=[],l,u;for(l=0,u=r.length;l<u;++l)c.push(IW(this.chart,r[l]));return n.filter&&(c=c.filter((d,h,f)=>n.filter(d,h,f,i))),n.itemSort&&(c=c.sort((d,h)=>n.itemSort(d,h,i))),Ee(c,d=>{let h=RM(n.callbacks,d);s.push(Xt(h,"labelColor",this,d)),o.push(Xt(h,"labelPointStyle",this,d)),a.push(Xt(h,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(n,r){let i=this.options.setContext(this.getContext()),s=this._active,o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{let c=Ml[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);let l=this._size=SM(this,i),u=Object.assign({},c,l),d=xM(this.chart,i,u),h=AM(i,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,o={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),n&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(n,r,i,s){let o=this.getCaretPosition(n,i,s);r.lineTo(o.x1,o.y1),r.lineTo(o.x2,o.y2),r.lineTo(o.x3,o.y3)}getCaretPosition(n,r,i){let{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:c}=i,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:h}=Ni(c),{x:f,y:p}=n,{width:m,height:g}=r,y,v,E,w,b,C;return o==="center"?(b=p+g/2,s==="left"?(y=f,v=y-a,w=b+a,C=b-a):(y=f+m,v=y+a,w=b-a,C=b+a),E=y):(s==="left"?v=f+Math.max(l,d)+a:s==="right"?v=f+m-Math.max(u,h)-a:v=this.caretX,o==="top"?(w=p,b=w-a,y=v-a,E=v+a):(w=p+g,b=w+a,y=v+a,E=v-a),C=w),{x1:y,x2:v,x3:E,y1:w,y2:b,y3:C}}drawTitle(n,r,i){let s=this.title,o=s.length,a,c,l;if(o){let u=ks(i.rtl,this.x,this.width);for(n.x=vf(this,i.titleAlign,i),r.textAlign=u.textAlign(i.titleAlign),r.textBaseline="middle",a=Ze(i.titleFont),c=i.titleSpacing,r.fillStyle=i.titleColor,r.font=a.string,l=0;l<o;++l)r.fillText(s[l],u.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+c,l+1===o&&(n.y+=i.titleMarginBottom-c)}}_drawColorBox(n,r,i,s,o){let a=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=o,d=Ze(o.bodyFont),h=vf(this,"left",o),f=s.x(h),p=l<d.lineHeight?(d.lineHeight-l)/2:0,m=r.y+p;if(o.usePointStyle){let g={radius:Math.min(u,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},y=s.leftForLtr(f,u)+u/2,v=m+l/2;n.strokeStyle=o.multiKeyBackground,n.fillStyle=o.multiKeyBackground,cf(n,g,y,v),n.strokeStyle=a.borderColor,n.fillStyle=a.backgroundColor,cf(n,g,y,v)}else{n.lineWidth=le(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,n.strokeStyle=a.borderColor,n.setLineDash(a.borderDash||[]),n.lineDashOffset=a.borderDashOffset||0;let g=s.leftForLtr(f,u),y=s.leftForLtr(s.xPlus(f,1),u-2),v=Ni(a.borderRadius);Object.values(v).some(E=>E!==0)?(n.beginPath(),n.fillStyle=o.multiKeyBackground,ya(n,{x:g,y:m,w:u,h:l,radius:v}),n.fill(),n.stroke(),n.fillStyle=a.backgroundColor,n.beginPath(),ya(n,{x:y,y:m+1,w:u-2,h:l-2,radius:v}),n.fill()):(n.fillStyle=o.multiKeyBackground,n.fillRect(g,m,u,l),n.strokeRect(g,m,u,l),n.fillStyle=a.backgroundColor,n.fillRect(y,m+1,u-2,l-2))}n.fillStyle=this.labelTextColors[i]}drawBody(n,r,i){let{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:u,boxPadding:d}=i,h=Ze(i.bodyFont),f=h.lineHeight,p=0,m=ks(i.rtl,this.x,this.width),g=function(F){r.fillText(F,m.x(n.x+p),n.y+f/2),n.y+=f+o},y=m.textAlign(a),v,E,w,b,C,M,x;for(r.textAlign=a,r.textBaseline="middle",r.font=h.string,n.x=vf(this,y,i),r.fillStyle=i.bodyColor,Ee(this.beforeBody,g),p=c&&y!=="right"?a==="center"?u/2+d:u+2+d:0,b=0,M=s.length;b<M;++b){for(v=s[b],E=this.labelTextColors[b],r.fillStyle=E,Ee(v.before,g),w=v.lines,c&&w.length&&(this._drawColorBox(r,n,b,m,i),f=Math.max(h.lineHeight,l)),C=0,x=w.length;C<x;++C)g(w[C]),f=h.lineHeight;Ee(v.after,g)}p=0,f=h.lineHeight,Ee(this.afterBody,g),n.y-=o}drawFooter(n,r,i){let s=this.footer,o=s.length,a,c;if(o){let l=ks(i.rtl,this.x,this.width);for(n.x=vf(this,i.footerAlign,i),n.y+=i.footerMarginTop,r.textAlign=l.textAlign(i.footerAlign),r.textBaseline="middle",a=Ze(i.footerFont),r.fillStyle=i.footerColor,r.font=a.string,c=0;c<o;++c)r.fillText(s[c],l.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+i.footerSpacing}}drawBackground(n,r,i,s){let{xAlign:o,yAlign:a}=this,{x:c,y:l}=n,{width:u,height:d}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:m}=Ni(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(c+h,l),a==="top"&&this.drawCaret(n,r,i,s),r.lineTo(c+u-f,l),r.quadraticCurveTo(c+u,l,c+u,l+f),a==="center"&&o==="right"&&this.drawCaret(n,r,i,s),r.lineTo(c+u,l+d-m),r.quadraticCurveTo(c+u,l+d,c+u-m,l+d),a==="bottom"&&this.drawCaret(n,r,i,s),r.lineTo(c+p,l+d),r.quadraticCurveTo(c,l+d,c,l+d-p),a==="center"&&o==="left"&&this.drawCaret(n,r,i,s),r.lineTo(c,l+h),r.quadraticCurveTo(c,l,c+h,l),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(n){let r=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){let a=Ml[n.position].call(this,this._active,this._eventPosition);if(!a)return;let c=this._size=SM(this,n),l=Object.assign({},a,this._size),u=xM(r,n,l),d=AM(n,l,u,r);(s._to!==d.x||o._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(n){let r=this.options.setContext(this.getContext()),i=this.opacity;if(!i)return;this._updateAnimationTarget(r);let s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;let a=It(r.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&c&&(n.save(),n.globalAlpha=i,this.drawBackground(o,n,s,r),Yv(n,r.textDirection),o.y+=a.top,this.drawTitle(o,n,r),this.drawBody(o,n,r),this.drawFooter(o,n,r),Qv(n,r.textDirection),n.restore())}getActiveElements(){return this._active||[]}setActiveElements(n,r){let i=this._active,s=n.map(({datasetIndex:c,index:l})=>{let u=this.chart.getDatasetMeta(c);if(!u)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:u.data[l],index:l}}),o=!wl(i,s),a=this._positionChanged(s,r);(o||a)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(n,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,o=this._active||[],a=this._getActiveElements(n,o,r,i),c=this._positionChanged(a,n),l=r||!wl(a,o)||c;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,r))),l}_getActiveElements(n,r,i,s){let o=this.options;if(n.type==="mouseout")return[];if(!s)return r.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let a=this.chart.getElementsAtEventForMode(n,o.mode,o,i);return o.reverse&&a.reverse(),a}_positionChanged(n,r){let{caretX:i,caretY:s,options:o}=this,a=Ml[o.position].call(this,n,r);return a!==!1&&(i!==a.x||s!==a.y)}}return t})(),MW={id:"tooltip",_element:PM,positioners:Ml,afterInit(t,e,n){n&&(t.tooltip=new PM({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){let e=t.tooltip;if(e&&e._willRender()){let n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",ve(N({},n),{cancelable:!0}))===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){let n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:cR},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},RW=Object.freeze({__proto__:null,Colors:Hq,Decimation:Gq,Filler:fW,Legend:vW,SubTitle:EW,Title:bW,Tooltip:MW}),PW=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function kW(t,e,n,r){let i=t.indexOf(e);if(i===-1)return PW(t,e,n,r);let s=t.lastIndexOf(e);return i!==s?n:i}var NW=(t,e)=>t===null?null:lt(Math.round(t),0,e);function kM(t){let e=this.getLabels();return t>=0&&t<e.length?e[t]:t}var OW=(()=>{class t extends Fs{static id="category";static defaults={ticks:{callback:kM}};constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){let r=this._addedLabels;if(r.length){let i=this.getLabels();for(let{index:s,label:o}of r)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(n)}parse(n,r){if(ye(n))return null;let i=this.getLabels();return r=isFinite(r)&&i[r]===n?r:kW(i,n,Z(r,n),this._addedLabels),NW(r,i.length-1)}determineDataLimits(){let{minDefined:n,maxDefined:r}=this.getUserBounds(),{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(n||(i=0),r||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){let n=this.min,r=this.max,i=this.options.offset,s=[],o=this.getLabels();o=n===0&&r===o.length-1?o:o.slice(n,r+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=n;a<=r;a++)s.push({value:a});return s}getLabelForValue(n){return kM.call(this,n)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return typeof n!="number"&&(n=this.parse(n)),n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){let r=this.ticks;return n<0||n>r.length-1?null:this.getPixelForValue(r[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}return t})();function FW(t,e){let n=[],{bounds:i,step:s,min:o,max:a,precision:c,count:l,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=s||1,p=u-1,{min:m,max:g}=e,y=!ye(o),v=!ye(a),E=!ye(l),w=(g-m)/(d+1),b=xv((g-m)/p/f)*f,C,M,x,F;if(b<1e-14&&!y&&!v)return[{value:m},{value:g}];F=Math.ceil(g/b)-Math.floor(m/b),F>p&&(b=xv(F*b/p/f)*f),ye(c)||(C=Math.pow(10,c),b=Math.ceil(b*C)/C),i==="ticks"?(M=Math.floor(m/b)*b,x=Math.ceil(g/b)*b):(M=m,x=g),y&&v&&s&&_A((a-o)/s,b/1e3)?(F=Math.round(Math.min((a-o)/b,u)),b=(a-o)/F,M=o,x=a):E?(M=y?o:M,x=v?a:x,F=l-1,b=(x-M)/F):(F=(x-M)/b,pa(F,Math.round(F),b/1e3)?F=Math.round(F):F=Math.ceil(F));let K=Math.max(Mv(b),Mv(M));C=Math.pow(10,ye(c)?K:c),M=Math.round(M*C)/C,x=Math.round(x*C)/C;let ne=0;for(y&&(h&&M!==o?(n.push({value:o}),M<o&&ne++,pa(Math.round((M+ne*b)*C)/C,o,NM(o,w,t))&&ne++):M<o&&ne++);ne<F;++ne){let ue=Math.round((M+ne*b)*C)/C;if(v&&ue>a)break;n.push({value:ue})}return v&&h&&x!==a?n.length&&pa(n[n.length-1].value,a,NM(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!v||x===a)&&n.push({value:x}),n}function NM(t,e,{horizontal:n,minRotation:r}){let i=_n(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}var ba=class extends Fs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ye(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds(),{min:i,max:s}=this,o=c=>i=n?i:c,a=c=>s=r?s:c;if(e){let c=Rn(i),l=Rn(s);c<0&&l<0?a(0):c>0&&l>0&&o(0)}if(i===s){let c=s===0?1:Math.abs(s*.05);a(s+c),e||o(i-c)}this.min=i,this.max=s}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,n=e.ticks,r=this.getTickLimit();r=Math.max(2,r);let i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=FW(i,s);return e.bounds==="ticks"&&Av(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let e=this.ticks,n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){let i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return ma(e,this.chart.options.locale,this.options.ticks.format)}},Iw=class extends ba{static id="linear";static defaults={ticks:{callback:bl.formatters.numeric}};determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=Ve(e)?e:0,this.max=Ve(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),n=e?this.width:this.height,r=_n(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},kl=t=>Math.floor(Ur(t)),Os=(t,e)=>Math.pow(10,kl(t)+e);function OM(t){return t/Math.pow(10,kl(t))===1}function FM(t,e,n){let r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function LW(t,e){let n=e-t,r=kl(n);for(;FM(t,e,r)>10;)r++;for(;FM(t,e,r)<10;)r--;return Math.min(r,kl(t))}function VW(t,{min:e,max:n}){e=Qt(t.min,e);let r=[],i=kl(e),s=LW(e,n),o=s<0?Math.pow(10,Math.abs(s)):1,a=Math.pow(10,s),c=i>s?Math.pow(10,i):0,l=Math.round((e-c)*o)/o,u=Math.floor((e-c)/a/10)*a*10,d=Math.floor((l-u)/Math.pow(10,s)),h=Qt(t.min,Math.round((c+u+d*Math.pow(10,s))*o)/o);for(;h<n;)r.push({value:h,major:OM(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,o=s>=0?1:o),h=Math.round((c+u+d*Math.pow(10,s))*o)/o;let f=Qt(t.max,h);return r.push({value:f,major:OM(f),significand:d}),r}var Cw=class extends Fs{static id="logarithmic";static defaults={ticks:{callback:bl.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){let r=ba.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return Ve(r)&&r>0?r:null}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=Ve(e)?Math.max(0,e):null,this.max=Ve(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ve(this._userMin)&&(this.min=e===Os(this.min,0)?Os(this.min,-1):Os(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),r=this.min,i=this.max,s=a=>r=e?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(Os(r,-1)),o(Os(i,1)))),r<=0&&s(Os(i,-1)),i<=0&&o(Os(r,1)),this.min=r,this.max=i}buildTicks(){let e=this.options,n={min:this._userMin,max:this._userMax},r=VW(n,this);return e.bounds==="ticks"&&Av(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":ma(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=Ur(e),this._valueRange=Ur(this.max)-Ur(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ur(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}};function Dw(t){let e=t.ticks;if(e.display&&t.display){let n=It(e.backdropPadding);return Z(e.font&&e.font.size,je.font.size)+n.height}return 0}function jW(t,e,n){return n=Me(n)?n:[n],{w:SA(t,e.string,n),h:n.length*e.lineHeight}}function LM(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function UW(t){let e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Re/s:0;for(let c=0;c<s;c++){let l=o.setContext(t.getPointLabelContext(c));i[c]=l.padding;let u=t.getPointPosition(c,t.drawingArea+i[c],a),d=Ze(l.font),h=jW(t.ctx,d,t._pointLabels[c]);r[c]=h;let f=Yt(t.getIndexAngle(c)+a),p=Math.round(rf(f)),m=LM(p,u.x,h.w,0,180),g=LM(p,u.y,h.h,90,270);BW(n,e,f,m,g)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=zW(t,r,i)}function BW(t,e,n,r,i){let s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n)),a=0,c=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(c=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+c))}function $W(t,e,n){let r=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,c=t.getPointPosition(e,r+i+o,s),l=Math.round(rf(Yt(c.angle+Be))),u=GW(c.y,a.h,l),d=qW(l),h=WW(c.x,a.w,d);return{visible:!0,x:c.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function HW(t,e){if(!e)return!0;let{left:n,top:r,right:i,bottom:s}=t;return!(sr({x:n,y:r},e)||sr({x:n,y:s},e)||sr({x:i,y:r},e)||sr({x:i,y:s},e))}function zW(t,e,n){let r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,c={extra:Dw(s)/2,additionalAngle:o?Re/i:0},l;for(let u=0;u<i;u++){c.padding=n[u],c.size=e[u];let d=$W(t,u,c);r.push(d),a==="auto"&&(d.visible=HW(d,l),d.visible&&(l=d))}return r}function qW(t){return t===0||t===180?"center":t<180?"left":"right"}function WW(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function GW(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function KW(t,e,n){let{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=e;if(!ye(a)){let c=Ni(e.borderRadius),l=It(e.backdropPadding);t.fillStyle=a;let u=r-l.left,d=i-l.top,h=s-r+l.width,f=o-i+l.height;Object.values(c).some(p=>p!==0)?(t.beginPath(),ya(t,{x:u,y:d,w:h,h:f,radius:c}),t.fill()):t.fillRect(u,d,h,f)}}function YW(t,e){let{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){let s=t._pointLabelItems[i];if(!s.visible)continue;let o=r.setContext(t.getPointLabelContext(i));KW(n,o,s);let a=Ze(o.font),{x:c,y:l,textAlign:u}=s;ki(n,t._pointLabels[i],c,l+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function lR(t,e,n,r){let{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,Pe);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function QW(t,e,n,r,i){let s=t.ctx,o=e.circular,{color:a,lineWidth:c}=e;!o&&!r||!a||!c||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=c,s.setLineDash(i.dash),s.lineDashOffset=i.dashOffset,s.beginPath(),lR(t,n,o,r),s.closePath(),s.stroke(),s.restore())}function XW(t,e,n){return $r(t,{label:n,index:e,type:"pointLabel"})}var Tw=class extends ba{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:bl.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=It(Dw(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!1);this.min=Ve(e)&&!isNaN(e)?e:0,this.max=Ve(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Dw(this.options))}generateTickLabels(e){ba.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{let i=xe(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){let e=this.options;e.display&&e.pointLabels.display?UW(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){let n=Pe/(this._pointLabels.length||1),r=this.options.startAngle||0;return Yt(e*n+_n(r))}getDistanceFromCenterForValue(e){if(ye(e))return NaN;let n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ye(e))return NaN;let n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){let n=this._pointLabels||[];if(e>=0&&e<n.length){let r=n[e];return XW(this.getContext(),e,r)}}getPointPosition(e,n,r=0){let i=this.getIndexAngle(e)-Be+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){let{backgroundColor:e,grid:{circular:n}}=this.options;if(e){let r=this.ctx;r.save(),r.beginPath(),lR(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){let e=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length,a,c,l;if(n.pointLabels.display&&YW(this,o),i.display&&this.ticks.forEach((u,d)=>{if(d!==0){c=this.getDistanceFromCenterForValue(u.value);let h=this.getContext(d),f=i.setContext(h),p=s.setContext(h);QW(this,f,c,o,p)}}),r.display){for(e.save(),a=o-1;a>=0;a--){let u=r.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;let i=this.getIndexAngle(0),s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&!n.reverse)return;let l=r.setContext(this.getContext(c)),u=Ze(l.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=l.backdropColor;let d=It(l.backdropPadding);e.fillRect(-o/2-d.left,-s-u.size/2-d.top,o+d.width,u.size+d.height)}ki(e,a.label,0,-s,u,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),e.restore()}drawTitle(){}},Mf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Jt=Object.keys(Mf);function VM(t,e){return t-e}function jM(t,e){if(ye(e))return null;let n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts,o=e;return typeof r=="function"&&(o=r(o)),Ve(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Ps(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function UM(t,e,n,r){let i=Jt.length;for(let s=Jt.indexOf(t);s<i-1;++s){let o=Mf[Jt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Jt[s]}return Jt[i-1]}function JW(t,e,n,r,i){for(let s=Jt.length-1;s>=Jt.indexOf(n);s--){let o=Jt[s];if(Mf[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return Jt[n?Jt.indexOf(n):0]}function ZW(t){for(let e=Jt.indexOf(t)+1,n=Jt.length;e<n;++e)if(Mf[Jt[e]].common)return Jt[e]}function BM(t,e,n){if(!n)t[e]=!0;else if(n.length){let{lo:r,hi:i}=sf(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function e3(t,e,n,r){let i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value,a,c;for(a=s;a<=o;a=+i.add(a,1,r))c=n[a],c>=0&&(e[c].major=!0);return e}function $M(t,e,n){let r=[],i={},s=e.length,o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:e3(t,r,i,n)}var Sw=(()=>{class t extends Fs{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(n){super(n),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(n,r={}){let i=n.time||(n.time={}),s=this._adapter=new h4._date(n.adapters.date);s.init(r),ha(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(n),this._normalized=r.normalized}parse(n,r){return n===void 0?null:jM(this,n)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let n=this.options,r=this._adapter,i=n.time.unit||"day",{min:s,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!c&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!a||!c)&&(l(this._getLabelBounds()),(n.bounds!=="ticks"||n.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Ve(s)&&!isNaN(s)?s:+r.startOf(Date.now(),i),o=Ve(o)&&!isNaN(o)?o:+r.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){let n=this.getLabelTimestamps(),r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return n.length&&(r=n[0],i=n[n.length-1]),{min:r,max:i}}buildTicks(){let n=this.options,r=n.time,i=n.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();n.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let o=this.min,a=this.max,c=bA(s,o,a);return this._unit=r.unit||(i.autoSkip?UM(r.minUnit,this.min,this.max,this._getLabelCapacity(o)):JW(this,c.length,r.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:ZW(this._unit),this.initOffsets(s),n.reverse&&c.reverse(),$M(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(n=>+n.value))}initOffsets(n=[]){let r=0,i=0,s,o;this.options.offset&&n.length&&(s=this.getDecimalForValue(n[0]),n.length===1?r=1-s:r=(this.getDecimalForValue(n[1])-s)/2,o=this.getDecimalForValue(n[n.length-1]),n.length===1?i=o:i=(o-this.getDecimalForValue(n[n.length-2]))/2);let a=n.length<3?.5:.25;r=lt(r,0,a),i=lt(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){let n=this._adapter,r=this.min,i=this.max,s=this.options,o=s.time,a=o.unit||UM(o.minUnit,r,i,this._getLabelCapacity(r)),c=Z(s.ticks.stepSize,1),l=a==="week"?o.isoWeekday:!1,u=Ps(l)||l===!0,d={},h=r,f,p;if(u&&(h=+n.startOf(h,"isoWeek",l)),h=+n.startOf(h,u?"day":a),n.diff(i,r,a)>1e5*c)throw new Error(r+" and "+i+" are too far apart with stepSize of "+c+" "+a);let m=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<i;f=+n.add(f,c,a),p++)BM(d,f,m);return(f===i||s.bounds==="ticks"||p===1)&&BM(d,f,m),Object.keys(d).sort(VM).map(g=>+g)}getLabelForValue(n){let r=this._adapter,i=this.options.time;return i.tooltipFormat?r.format(n,i.tooltipFormat):r.format(n,i.displayFormats.datetime)}format(n,r){let s=this.options.time.displayFormats,o=this._unit,a=r||s[o];return this._adapter.format(n,a)}_tickFormatFunction(n,r,i,s){let o=this.options,a=o.ticks.callback;if(a)return xe(a,[n,r,i],this);let c=o.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&c[l],h=u&&c[u],f=i[r],p=u&&h&&f&&f.major;return this._adapter.format(n,s||(p?h:d))}generateTickLabels(n){let r,i,s;for(r=0,i=n.length;r<i;++r)s=n[r],s.label=this._tickFormatFunction(s.value,r,n)}getDecimalForValue(n){return n===null?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){let r=this._offsets,i=this.getDecimalForValue(n);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(n){let r=this._offsets,i=this.getDecimalForPixel(n)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(n){let r=this.options.ticks,i=this.ctx.measureText(n).width,s=_n(this.isHorizontal()?r.maxRotation:r.minRotation),o=Math.cos(s),a=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*o+c*a,h:i*a+c*o}}_getLabelCapacity(n){let r=this.options.time,i=r.displayFormats,s=i[r.unit]||i.millisecond,o=this._tickFormatFunction(n,0,$M(this,[n],this._majorUnit),s),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let n=this._cache.data||[],r,i;if(n.length)return n;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,i=s.length;r<i;++r)n=n.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){let n=this._cache.labels||[],r,i;if(n.length)return n;let s=this.getLabels();for(r=0,i=s.length;r<i;++r)n.push(jM(this,s[r]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return kv(n.sort(VM))}}return t})();function wf(t,e,n){let r=0,i=t.length-1,s,o,a,c;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=ir(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:c}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=ir(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:c}=t[i]);let l=o-s;return l?a+(c-a)*(e-s)/l:a}var xw=class extends Sw{static id="timeseries";static defaults=Sw.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=wf(n,this.min),this._tableRange=wf(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:n,max:r}=this,i=[],s=[],o,a,c,l,u;for(o=0,a=e.length;o<a;++o)l=e[o],l>=n&&l<=r&&i.push(l);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],c=i[o-1],l=i[o],Math.round((u+c)/2)!==l&&s.push({time:l,pos:o/(a-1)});return s}_generate(){let e=this.min,n=this.max,r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(wf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return wf(this._table,r*this._tableRange+this._minPos,!0)}},t3=Object.freeze({__proto__:null,CategoryScale:OW,LinearScale:Iw,LogarithmicScale:Cw,RadialLinearScale:Tw,TimeScale:Sw,TimeSeriesScale:xw}),uR=[d4,Lq,RW,t3];Ol.register(...uR);var Vi=(()=>{let e=class e{constructor(r){this.http=r,this.items=[],this.seguidas=[],this.detalles=void 0,this.index=0}peticionAJAX(r=""){r==""?this.http.get("https://api.coingecko.com/api/v3/search/trending").subscribe(i=>{this.items=i.coins}):this.http.get("https://api.coingecko.com/api/v3/search?query="+r).subscribe(i=>{this.items=i.coins})}peticionDetalles(r){this.http.get("https://api.coingecko.com/api/v3/coins/"+r).subscribe(i=>{this.detalles=i})}peticionSeguidas(r){this.index<r.length&&this.http.get("https://api.coingecko.com/api/v3/coins/"+r[this.index]).subscribe(i=>{this.seguidas.push(i),this.index+=1,this.peticionSeguidas(r)})}peticionHistorial(r){return this.http.get(`https://api.coingecko.com/api/v3/coins/${r}/market_chart?vs_currency=eur&days=7&interval=daily`)}};e.\u0275fac=function(i){return new(i||e)(j(E_))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var hR=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},n3=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},fR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|l>>6,f=l&63;c||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):n3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||d==null)throw new Pw;let h=s<<2|a>>4;if(r.push(h),l!==64){let f=a<<4&240|l>>2;if(r.push(f),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Pw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},r3=function(t){let e=hR(t);return fR.encodeByteArray(e,!0)},Fl=function(t){return r3(t).replace(/\./g,"")},Nw=function(t){try{return fR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function i3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var s3=()=>i3().__FIREBASE_DEFAULTS__,o3=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},a3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Nw(t[1]);return e&&JSON.parse(e)},kf=()=>{try{return s3()||o3()||a3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ow=t=>{var e,n;return(n=(e=kf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Nf=t=>{let e=Ow(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Fw=()=>{var t;return(t=kf())===null||t===void 0?void 0:t.config},Lw=t=>{var e;return(e=kf())===null||e===void 0?void 0:e[`_${t}`]};var Pf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Of(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Fl(JSON.stringify(n)),Fl(JSON.stringify(o)),a].join(".")}function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function c3(){var t;let e=(t=kf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gR(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yR(){let t=$e();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _R(){return!c3()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ff(){try{return typeof indexedDB=="object"}catch{return!1}}function vR(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var l3="FirebaseError",Vt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=l3,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qr.prototype.create)}},qr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?u3(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Vt(i,a,r)}};function u3(t,e){return t.replace(d3,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var d3=/\{\$([^}]+)}/g;function wR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ls(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(dR(s)&&dR(o)){if(!Ls(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function dR(t){return t!==null&&typeof t=="object"}function Ea(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ia(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ca(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bR(t,e){let n=new kw(t,e);return n.subscribe.bind(n)}var kw=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");h3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rw),i.error===void 0&&(i.error=Rw),i.complete===void 0&&(i.complete=Rw);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function h3(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rw(){}var jre=4*60*60*1e3;function et(t){return t&&t._delegate?t._delegate:t}var Zt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Vs="[DEFAULT]";var Vw=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Pf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p3(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function f3(t){return t===Vs?void 0:t}function p3(t){return t.instantiationMode==="EAGER"}var Lf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Vw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var g3=[],fe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(fe||{}),m3={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},y3=fe.INFO,_3={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},v3=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=_3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ji=class{constructor(e){this.name=e,this._logLevel=y3,this._logHandler=v3,this._userLogHandler=null,g3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?m3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var w3=(t,e)=>e.some(n=>t instanceof n),ER,IR;function b3(){return ER||(ER=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E3(){return IR||(IR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var CR=new WeakMap,Uw=new WeakMap,DR=new WeakMap,jw=new WeakMap,$w=new WeakMap;function I3(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ur(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CR.set(n,t)}).catch(()=>{}),$w.set(e,t),e}function C3(t){if(Uw.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Uw.set(t,e)}var Bw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ur(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TR(t){Bw=t(Bw)}function D3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Vf(this),e,...n);return DR.set(r,e.sort?e.sort():[e]),ur(r)}:E3().includes(t)?function(...e){return t.apply(Vf(this),e),ur(CR.get(this))}:function(...e){return ur(t.apply(Vf(this),e))}}function T3(t){return typeof t=="function"?D3(t):(t instanceof IDBTransaction&&C3(t),w3(t,b3())?new Proxy(t,Bw):t)}function ur(t){if(t instanceof IDBRequest)return I3(t);if(jw.has(t))return jw.get(t);let e=T3(t);return e!==t&&(jw.set(t,e),$w.set(e,t)),e}var Vf=t=>$w.get(t);function xR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=ur(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ur(o.result),c.oldVersion,c.newVersion,ur(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var S3=["get","getKey","getAll","getAllKeys","count"],x3=["put","add","delete","clear"],Hw=new Map;function SR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hw.get(e))return Hw.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=x3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||S3.includes(n)))return;let s=function(o,...a){return _(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Hw.set(e,s),s}TR(t=>ve(N({},t),{get:(e,n,r)=>SR(e,n)||t.get(e,n,r),has:(e,n)=>!!SR(e,n)||t.has(e,n)}));var qw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(A3(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function A3(t){let e=t.getComponent();return e?.type==="VERSION"}var Ww="@firebase/app",AR="0.9.26";var js=new ji("@firebase/app"),M3="@firebase/app-compat",R3="@firebase/analytics-compat",P3="@firebase/analytics",k3="@firebase/app-check-compat",N3="@firebase/app-check",O3="@firebase/auth",F3="@firebase/auth-compat",L3="@firebase/database",V3="@firebase/database-compat",j3="@firebase/functions",U3="@firebase/functions-compat",B3="@firebase/installations",$3="@firebase/installations-compat",H3="@firebase/messaging",z3="@firebase/messaging-compat",q3="@firebase/performance",W3="@firebase/performance-compat",G3="@firebase/remote-config",K3="@firebase/remote-config-compat",Y3="@firebase/storage",Q3="@firebase/storage-compat",X3="@firebase/firestore",J3="@firebase/firestore-compat",Z3="firebase",e5="10.7.2";var Gw="[DEFAULT]",t5={[Ww]:"fire-core",[M3]:"fire-core-compat",[P3]:"fire-analytics",[R3]:"fire-analytics-compat",[N3]:"fire-app-check",[k3]:"fire-app-check-compat",[O3]:"fire-auth",[F3]:"fire-auth-compat",[L3]:"fire-rtdb",[V3]:"fire-rtdb-compat",[j3]:"fire-fn",[U3]:"fire-fn-compat",[B3]:"fire-iid",[$3]:"fire-iid-compat",[H3]:"fire-fcm",[z3]:"fire-fcm-compat",[q3]:"fire-perf",[W3]:"fire-perf-compat",[G3]:"fire-rc",[K3]:"fire-rc-compat",[Y3]:"fire-gcs",[Q3]:"fire-gcs-compat",[X3]:"fire-fst",[J3]:"fire-fst-compat","fire-js":"fire-js",[Z3]:"fire-js-all"};var Ll=new Map,Kw=new Map;function n5(t,e){try{t.container.addComponent(e)}catch(n){js.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dr(t){let e=t.name;if(Kw.has(e))return js.debug(`There were multiple attempts to register component ${e}.`),!1;Kw.set(e,t);for(let n of Ll.values())n5(n,t);return!0}function Us(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var r5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ui=new qr("app","Firebase",r5);var Yw=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}};var hr=e5;function Jw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Gw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ui.create("bad-app-name",{appName:String(i)});if(n||(n=Fw()),!n)throw Ui.create("no-options");let s=Ll.get(i);if(s){if(Ls(n,s.options)&&Ls(r,s.config))return s;throw Ui.create("duplicate-app",{appName:i})}let o=new Lf(i);for(let c of Kw.values())o.addComponent(c);let a=new Yw(n,r,o);return Ll.set(i,a),a}function Bi(t=Gw){let e=Ll.get(t);if(!e&&t===Gw&&Fw())return Jw();if(!e)throw Ui.create("no-app",{appName:t});return e}function jf(){return Array.from(Ll.values())}function Le(t,e,n){var r;let i=(r=t5[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),js.warn(a.join(" "));return}dr(new Zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var i5="firebase-heartbeat-database",s5=1,Vl="firebase-heartbeat-store",zw=null;function kR(){return zw||(zw=xR(i5,s5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ui.create("idb-open",{originalErrorMessage:t.message})})),zw}function o5(t){return _(this,null,function*(){try{return yield(yield kR()).transaction(Vl).objectStore(Vl).get(NR(t))}catch(e){if(e instanceof Vt)js.warn(e.message);else{let n=Ui.create("idb-get",{originalErrorMessage:e?.message});js.warn(n.message)}}})}function MR(t,e){return _(this,null,function*(){try{let r=(yield kR()).transaction(Vl,"readwrite");yield r.objectStore(Vl).put(e,NR(t)),yield r.done}catch(n){if(n instanceof Vt)js.warn(n.message);else{let r=Ui.create("idb-set",{originalErrorMessage:n?.message});js.warn(r.message)}}})}function NR(t){return`${t.name}!${t.options.appId}`}var a5=1024,c5=30*24*60*60*1e3,Qw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Xw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=RR();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=c5}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return _(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=RR(),{heartbeatsToSend:r,unsentEntries:i}=l5(this._heartbeatsCache.heartbeats),s=Fl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function RR(){return new Date().toISOString().substring(0,10)}function l5(t,e=a5){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),PR(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),PR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Xw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Ff()?vR().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield o5(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return MR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return MR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function PR(t){return Fl(JSON.stringify({version:2,heartbeats:t})).length}function u5(t){dr(new Zt("platform-logger",e=>new qw(e),"PRIVATE")),dr(new Zt("heartbeat",e=>new Qw(e),"PRIVATE")),Le(Ww,AR,t),Le(Ww,AR,"esm2017"),Le("fire-js","")}u5("");var d5="firebase",h5="10.7.2";Le(d5,h5,"app");var Wr=new Rr("ANGULARFIRE2_VERSION");function Ta(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var $s=(t,e)=>{let n=e?[e]:jf(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},$i=class{constructor(){return $s(f5)}},f5="app-check";function Da(){}var Uf=class{zone;delegate;constructor(e,n=tm){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Zw=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Da,{},Da,Da)),n.pipe(Ke({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Hi=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Uf(Zone.current)),this.insideAngular=n.run(()=>new Uf(Zone.current,em)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(j(me))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Bf(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function p5(t){return Bf().ngZone.runOutsideAngular(()=>t())}function Bs(t){return Bf().ngZone.run(()=>t())}function g5(t){return m5(Bf())(t)}function m5(t){return function(n){return n=n.lift(new Zw(t.ngZone)),n.pipe(ai(t.outsideAngular),oi(t.insideAngular))}}var y5=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Bs(()=>t.apply(void 0,r))},zi=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Bs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Da,{},Da,Da))),r[s]=y5(r[s],n));let i=p5(()=>t.apply(this,r));if(!e)if(i instanceof de){let s=Bf();return i.pipe(ai(s.outsideAngular),oi(s.insideAngular))}else return Bs(()=>i);return i instanceof de?i.pipe(g5):i instanceof Promise?Bs(()=>new Promise((s,o)=>i.then(a=>Bs(()=>s(a)),a=>Bs(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Bs(()=>i)};var cn=class{constructor(e){return e}},Gr=class{constructor(){return jf()}};function _5(t){return t&&t.length===1?t[0]:new cn(Bi())}var e0=new U("angularfire2._apps"),v5={provide:cn,useFactory:_5,deps:[[new Ye,e0]]},w5={provide:Gr,deps:[[new Ye,e0]]};function b5(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new cn(r)}}var E5=(()=>{class t{constructor(n){Le("angularfire",Wr.full,"core"),Le("angularfire",Wr.full,"app"),Le("angular",TS.full,n.toString())}static \u0275fac=function(r){return new(r||t)(j(pn))};static \u0275mod=st({type:t});static \u0275inj=it({providers:[v5,w5]})}return t})();function $f(t,...e){return{ngModule:E5,providers:[{provide:e0,useFactory:b5(t),multi:!0,deps:[me,dt,Hi,...e]}]}}var Hf=zi(Jw,!0);function QR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var XR=QR,JR=new qr("auth","Firebase",QR());var Yf=new ji("@firebase/auth");function I5(t,...e){Yf.logLevel<=fe.WARN&&Yf.warn(`Auth (${hr}): ${t}`,...e)}function qf(t,...e){Yf.logLevel<=fe.ERROR&&Yf.error(`Auth (${hr}): ${t}`,...e)}function vn(t,...e){throw w0(t,...e)}function fr(t,...e){return w0(t,...e)}function ZR(t,e,n){let r=Object.assign(Object.assign({},XR()),{[e]:n});return new qr("auth","Firebase",r).create(e,{appName:t.name})}function C5(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&vn(t,"argument-error"),ZR(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function w0(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JR.create(t,...e)}function G(t,e,...n){if(!t)throw w0(e,...n)}function Kr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw qf(e),new Error(e)}function Qr(t,e){t||Kr(e)}function r0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function D5(){return OR()==="http:"||OR()==="https:"}function OR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function T5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D5()||gR()||"connection"in navigator)?navigator.onLine:!0}function S5(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Hs=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qr(n>e,"Short delay should be less than long delay!"),this.isMobile=pR()||mR()}get(){return T5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function b0(t,e){Qr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Qf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var x5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var A5=new Hs(3e4,6e4);function Wi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Xr(s,o,a,c){return _(this,arguments,function*(t,e,n,r,i={}){return eP(t,i,()=>_(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Ea(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Qf.fetch()(tP(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},l))}))})}function eP(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},x5),e);try{let i=new i0(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw zf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw zf(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw zf(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw zf(t,"user-disabled",o);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ZR(t,u,l);vn(t,u)}}catch(i){if(i instanceof Vt)throw i;vn(t,"network-request-failed",{message:String(i)})}})}function zl(s,o,a,c){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield Xr(t,e,n,r,i);return"mfaPendingCredential"in l&&vn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function tP(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?b0(t.config,i):`${t.config.apiScheme}://${i}`}function M5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var i0=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fr(this.auth,"network-request-failed")),A5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function zf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=fr(t,e,r);return i.customData._tokenResponse=n,i}function FR(t){return t!==void 0&&t.enterprise!==void 0}var s0=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return M5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function R5(t,e){return _(this,null,function*(){return Xr(t,"GET","/v2/recaptchaConfig",Wi(t,e))})}function P5(t,e){return _(this,null,function*(){return Xr(t,"POST","/v1/accounts:delete",e)})}function k5(t,e){return _(this,null,function*(){return Xr(t,"POST","/v1/accounts:lookup",e)})}function jl(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function E0(t,e=!1){return _(this,null,function*(){let n=et(t),r=yield n.getIdToken(e),i=I0(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:jl(t0(i.auth_time)),issuedAtTime:jl(t0(i.iat)),expirationTime:jl(t0(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function t0(t){return Number(t)*1e3}function I0(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Nw(n);return i?JSON.parse(i):(qf("Failed to decode base64 JWT payload"),null)}catch(i){return qf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function N5(t){let e=I0(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function xa(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Vt&&O5(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function O5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var o0=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Xf=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Jf(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield xa(t,k5(n,{idToken:r}));G(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?L5(s.providerUserInfo):[],a=F5(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,u=c?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Xf(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function C0(t){return _(this,null,function*(){let e=et(t);yield Jf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function F5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function L5(t){return t.map(e=>{var{providerId:n}=e,r=id(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function V5(t,e){return _(this,null,function*(){let n=yield eP(t,{},()=>_(this,null,function*(){let r=Ea({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=tP(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Qf.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function j5(t,e){return _(this,null,function*(){return Xr(t,"POST","/v2/accounts:revokeToken",Wi(t,e))})}var Zf=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return _(this,null,function*(){return G(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield V5(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(G(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(G(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Kr("not implemented")}};function qi(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ul=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=id(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Xf(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield xa(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return E0(this,e)}reload(){return C0(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Jf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){let e=yield this.getIdToken();return yield xa(this,P5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,y=(l=n.createdAt)!==null&&l!==void 0?l:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:w,isAnonymous:b,providerData:C,stsTokenManager:M}=n;G(E&&M,e,"internal-error");let x=Zf.fromJSON(this.name,M);G(typeof E=="string",e,"internal-error"),qi(d,e.name),qi(h,e.name),G(typeof w=="boolean",e,"internal-error"),G(typeof b=="boolean",e,"internal-error"),qi(f,e.name),qi(p,e.name),qi(m,e.name),qi(g,e.name),qi(y,e.name),qi(v,e.name);let F=new t({uid:E,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:b,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:x,createdAt:y,lastLoginAt:v});return C&&Array.isArray(C)&&(F.providerData=C.map(K=>Object.assign({},K))),g&&(F._redirectEventId=g),F}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new Zf;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Jf(s),s})}};var LR=new Map;function Yr(t){Qr(t instanceof Function,"Expected a class definition");let e=LR.get(t);return e?(Qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LR.set(t,e),e)}var U5=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),a0=U5;function Wf(t,e,n){return`firebase:${t}:${e}:${n}`}var ep=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Wf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Wf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ul._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(Yr(a0),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Yr(a0),o=Wf(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(o);if(u){let d=Ul._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function VR(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oP(e))return"Blackberry";if(aP(e))return"Webos";if(D0(e))return"Safari";if((e.includes("chrome/")||rP(e))&&!e.includes("edge/"))return"Chrome";if(sP(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function nP(t=$e()){return/firefox\//i.test(t)}function D0(t=$e()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rP(t=$e()){return/crios\//i.test(t)}function iP(t=$e()){return/iemobile/i.test(t)}function sP(t=$e()){return/android/i.test(t)}function oP(t=$e()){return/blackberry/i.test(t)}function aP(t=$e()){return/webos/i.test(t)}function up(t=$e()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function B5(t=$e()){var e;return up(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $5(){return yR()&&document.documentMode===10}function cP(t=$e()){return up(t)||sP(t)||aP(t)||oP(t)||/windows phone/i.test(t)||iP(t)}function H5(){try{return!!(window&&window!==window.top)}catch{return!1}}function lP(t,e=[]){let n;switch(t){case"Browser":n=VR($e());break;case"Worker":n=`${VR($e())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hr}/${r}`}var c0=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function z5(n){return _(this,arguments,function*(t,e={}){return Xr(t,"GET","/v2/passwordPolicy",Wi(t,e))})}var q5=6,l0=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:q5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var u0=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tp(this),this.idTokenSubscription=new tp(this),this.beforeStateQueue=new c0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ep.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Jf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=S5()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){let n=e?et(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Yr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield z5(this),n=new l0(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield j5(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Yr(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=yield ep.create(this,[Yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&I5(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Gi(t){return et(t)}var tp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=bR(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function W5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function uP(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=fr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",W5().appendChild(r)})}function dP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var G5="https://www.google.com/recaptcha/enterprise.js?render=",K5="recaptcha-enterprise",Y5="NO_RECAPTCHA",d0=class{constructor(e){this.type=K5,this.auth=Gi(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(s){return _(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>_(this,null,function*(){R5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new s0(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;FR(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(Y5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&FR(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}uP(G5+a).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function jR(t,e,n,r=!1){return _(this,null,function*(){let i=new d0(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function h0(t,e,n,r){return _(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield jR(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>_(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield jR(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function T0(t,e){let n=Us(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Ls(s,e??{}))return i;vn(i,"already-initialized")}return n.initialize({options:e})}function Q5(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Yr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function S0(t,e,n){let r=Gi(t);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=hP(e),{host:o,port:a}=X5(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||J5()}function hP(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function X5(t){let e=hP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:UR(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:UR(o)}}}function UR(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function J5(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Aa=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,n){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}};function Z5(t,e){return _(this,null,function*(){return Xr(t,"POST","/v1/accounts:signUp",e)})}function eG(t,e){return _(this,null,function*(){return zl(t,"POST","/v1/accounts:signInWithPassword",Wi(t,e))})}function tG(t,e){return _(this,null,function*(){return zl(t,"POST","/v1/accounts:signInWithEmailLink",Wi(t,e))})}function nG(t,e){return _(this,null,function*(){return zl(t,"POST","/v1/accounts:signInWithEmailLink",Wi(t,e))})}var Bl=class t extends Aa{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h0(e,n,"signInWithPassword",eG);case"emailLink":return tG(e,{email:this._email,oobCode:this._password});default:vn(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h0(e,r,"signUpPassword",Z5);case"emailLink":return nG(e,{idToken:n,email:this._email,oobCode:this._password});default:vn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Sa(t,e){return _(this,null,function*(){return zl(t,"POST","/v1/accounts:signInWithIdp",Wi(t,e))})}var rG="http://localhost",np=class t extends Aa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=id(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return Sa(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Sa(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Sa(e,n)}buildRequest(){let e={requestUri:rG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ea(n)}return e}};function iG(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sG(t){let e=Ia(Ca(t)).link,n=e?Ia(Ca(e)).deep_link_id:null,r=Ia(Ca(t)).deep_link_id;return(r?Ia(Ca(r)).link:null)||r||n||e||t}var rp=class t{constructor(e){var n,r,i,s,o,a;let c=Ia(Ca(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,d=iG((i=c.mode)!==null&&i!==void 0?i:null);G(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=sG(e);try{return new t(n)}catch{return null}}};var fP=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Bl._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=rp.parseLink(r);return G(i,"argument-error"),Bl._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),$l=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var ip=class extends $l{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ql=(()=>{class t extends ip{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return np._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function oG(t,e){return _(this,null,function*(){return zl(t,"POST","/v1/accounts:signUp",Wi(t,e))})}var Ma=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let s=yield Ul._fromIdTokenResponse(e,r,i),o=BR(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=BR(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function BR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var f0=class t extends Vt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function pP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?f0._fromErrorAndOperation(t,s,e,r):s})}function aG(t,e,n=!1){return _(this,null,function*(){let r=yield xa(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ma._forOperation(t,"link",r)})}function cG(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield xa(t,pP(r,i,e,t),n);G(s.idToken,r,"internal-error");let o=I0(s.idToken);G(o,r,"internal-error");let{sub:a}=o;return G(t.uid===a,r,"user-mismatch"),Ma._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&vn(r,"user-mismatch"),s}})}function gP(t,e,n=!1){return _(this,null,function*(){let r="signIn",i=yield pP(t,r,e),s=yield Ma._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function x0(t,e){return _(this,null,function*(){return gP(Gi(t),e)})}function mP(t){return _(this,null,function*(){let e=Gi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function dp(t,e,n){return _(this,null,function*(){let r=Gi(t),o=yield h0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oG).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&mP(t),c}),a=yield Ma._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function hp(t,e,n){return x0(et(t),fP.credential(e,n)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&mP(t),r}))}function lG(t,e){return _(this,null,function*(){return Xr(t,"POST","/v1/accounts:update",e)})}function fp(r,i){return _(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let s=et(t),a={idToken:yield s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=yield xa(s,lG(s.auth,a));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;let l=s.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),yield s._updateTokensIfNecessary(c)})}function A0(t,e,n,r){return et(t).onIdTokenChanged(e,n,r)}function M0(t,e,n){return et(t).beforeAuthStateChanged(e,n)}function pp(t,e,n,r){return et(t).onAuthStateChanged(e,n,r)}function gp(t){return et(t).signOut()}var sp="__sak";var op=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sp,"1"),this.storage.removeItem(sp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function uG(){let t=$e();return D0(t)||up(t)}var dG=1e3,hG=10,fG=(()=>{class t extends op{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=uG()&&H5(),this.fallbackToPolling=cP(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);$5()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,hG):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},dG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield ii(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield ii(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield ii(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),yP=fG;var pG=(()=>{class t extends op{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),R0=pG;function gG(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var mG=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(u=>_(this,null,function*(){return u(r.origin,o)})),l=yield gG(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function P0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var p0=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=P0("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function pr(){return window}function yG(t){pr().location.href=t}function _P(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}function _G(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function vG(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wG(){return _P()?self:null}var vP="firebaseLocalStorageDb",bG=1,ap="firebaseLocalStorage",wP="fbase_key",zs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function mp(t,e){return t.transaction([ap],e?"readwrite":"readonly").objectStore(ap)}function EG(){let t=indexedDB.deleteDatabase(vP);return new zs(t).toPromise()}function g0(){let t=indexedDB.open(vP,bG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(ap,{keyPath:wP})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(ap)?e(r):(r.close(),yield EG(),e(yield g0()))}))})}function $R(t,e,n){return _(this,null,function*(){let r=mp(t,!0).put({[wP]:e,value:n});return new zs(r).toPromise()})}function IG(t,e){return _(this,null,function*(){let n=mp(t,!1).get(e),r=yield new zs(n).toPromise();return r===void 0?null:r.value})}function HR(t,e){let n=mp(t,!0).delete(e);return new zs(n).toPromise()}var CG=800,DG=3,TG=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield g0(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>DG)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return _P()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=mG._getInstance(wG()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield _G(),!this.activeServiceWorker)return;this.sender=new p0(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||vG()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield g0();return yield $R(n,sp,"1"),yield HR(n,sp),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>$R(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>IG(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>HR(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(s=>{let o=mp(s,!1).getAll();return new zs(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),CG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),bP=TG;var Aie=dP("rcb"),Mie=new Hs(3e4,6e4);function EP(t,e){return e?Yr(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Hl=class extends Aa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sa(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function SG(t){return gP(t.auth,new Hl(t),t.bypassAuthState)}function xG(t){let{auth:e,user:n}=t;return G(n,e,"internal-error"),cG(n,new Hl(t),t.bypassAuthState)}function AG(t){return _(this,null,function*(){let{auth:e,user:n}=t;return G(n,e,"internal-error"),aG(n,new Hl(t),t.bypassAuthState)})}var cp=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SG;case"linkViaPopup":case"linkViaRedirect":return AG;case"reauthViaPopup":case"reauthViaRedirect":return xG;default:vn(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var MG=new Hs(2e3,1e4);function yp(t,e,n){return _(this,null,function*(){let r=Gi(t);C5(t,e,$l);let i=EP(r,n);return new RG(r,"signInViaPopup",e,i).executeNotNull()})}var RG=(()=>{class t extends cp{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return _(this,null,function*(){let n=yield this.execute();return G(n,this.auth,"internal-error"),n})}onExecution(){return _(this,null,function*(){Qr(this.filter.length===1,"Popup operations only handle one event");let n=P0();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,MG.get())};n()}}t.currentPopupAction=null;return t})(),PG="pendingRedirect",Gf=new Map,m0=class t extends cp{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Gf.get(this.auth._key());if(!e){try{let r=(yield kG(this.resolver,this.auth))?yield ii(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gf.set(this.auth._key(),e)}return this.bypassAuthState||Gf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return ii(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,ii(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function kG(t,e){return _(this,null,function*(){let n=FG(e),r=OG(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function NG(t,e){Gf.set(t._key(),e)}function OG(t){return Yr(t._redirectPersistence)}function FG(t){return Wf(PG,t.config.apiKey,t.name)}function LG(t,e,n=!1){return _(this,null,function*(){let r=Gi(t),i=EP(r,e),o=yield new m0(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var VG=10*60*1e3,y0=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!IP(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VG&&this.cachedEventUids.clear(),this.cachedEventUids.has(zR(e))}saveEventToCache(e){this.cachedEventUids.add(zR(e)),this.lastProcessedEventTime=Date.now()}};function zR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IP({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function jG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IP(t);default:return!1}}function UG(n){return _(this,arguments,function*(t,e={}){return Xr(t,"GET","/v1/projects",e)})}var BG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$G=/^https?/;function HG(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield UG(t);for(let n of e)try{if(zG(n))return}catch{}vn(t,"unauthorized-domain")})}function zG(t){let e=r0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!$G.test(n))return!1;if(BG.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var qG=new Hs(3e4,6e4);function qR(){let t=pr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WG(t){return new Promise((e,n)=>{var r,i,s;function o(){qR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qR(),n(fr(t,"network-request-failed"))},timeout:qG.get()})}if(!((i=(r=pr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=pr().gapi)===null||s===void 0)&&s.load)o();else{let a=dP("iframefcb");return pr()[a]=()=>{gapi.load?o():n(fr(t,"network-request-failed"))},uP(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Kf=null,e})}var Kf=null;function GG(t){return Kf=Kf||WG(t),Kf}var KG=new Hs(5e3,15e3),YG="__/auth/iframe",QG="emulator/auth/iframe",XG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZG(t){let e=t.config;G(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?b0(e,QG):`https://${t.config.authDomain}/${YG}`,r={apiKey:e.apiKey,appName:t.name,v:hr},i=JG.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ea(r).slice(1)}`}function e9(t){return _(this,null,function*(){let e=yield GG(t),n=pr().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:ZG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XG,dontclear:!0},r=>new Promise((i,s)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=fr(t,"network-request-failed"),a=pr().setTimeout(()=>{s(o)},KG.get());function c(){pr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var t9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n9=500,r9=600,i9="_blank",s9="http://localhost",lp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function o9(t,e,n,r=n9,i=r9){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},t9),{width:r.toString(),height:i.toString(),top:s,left:o}),l=$e().toLowerCase();n&&(a=rP(l)?i9:n),nP(l)&&(e=e||s9,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(B5(l)&&a!=="_self")return a9(e||"",a),new lp(null);let d=window.open(e||"",a,u);G(d,t,"popup-blocked");try{d.focus()}catch{}return new lp(d)}function a9(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var c9="__/auth/handler",l9="emulator/auth/handler",u9=encodeURIComponent("fac");function WR(t,e,n,r,i,s){return _(this,null,function*(){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:hr,eventId:i};if(e instanceof $l){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",wR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof ip){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${u9}=${encodeURIComponent(c)}`:"";return`${d9(t)}?${Ea(a).slice(1)}${l}`})}function d9({config:t}){return t.emulator?b0(t,l9):`https://${t.authDomain}/${c9}`}var n0="webStorageSupport",_0=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R0,this._completeRedirectFn=LG,this._overrideRedirectResult=NG}_openPopup(e,n,r,i){return _(this,null,function*(){var s;Qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield WR(e,n,r,r0(),i);return o9(e,o,P0())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let s=yield WR(e,n,r,r0(),i);return yG(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield e9(e),r=new y0(e);return n.register("authEvent",i=>(G(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(n0,{type:n0},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[n0];o!==void 0&&n(!!o),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cP()||D0()||up()}},CP=_0;var GR="@firebase/auth",KR="1.5.1";var v0=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function h9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function f9(t){dr(new Zt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;G(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lP(t)},l=new u0(r,i,s,c);return Q5(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),dr(new Zt("auth-internal",e=>{let n=Gi(e.getProvider("auth").getImmediate());return(r=>new v0(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Le(GR,KR,h9(t)),Le(GR,KR,"esm2017")}var p9=5*60,g9=Lw("authIdTokenMaxAge")||p9,YR=null,m9=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>g9)return;let i=n?.token;YR!==i&&(YR=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function kn(t=Bi()){let e=Us(t,"auth");if(e.isInitialized())return e.getImmediate();let n=T0(t,{popupRedirectResolver:CP,persistence:[bP,yP,R0]}),r=Lw("authTokenSyncURL");if(r){let s=m9(r);M0(n,s,()=>s(n.currentUser)),A0(n,o=>s(o))}let i=Ow("auth");return i&&S0(n,`http://${i}`),n}f9("Browser");var DP="auth",Wl=class{constructor(e){return e}},qs=class{constructor(){return $s(DP)}};var k0=new U("angularfire2.auth-instances");function r6(t,e){let n=Ta(DP,t,e);return n&&new Wl(n)}function i6(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Wl(r)}}var s6={provide:qs,deps:[[new Ye,k0]]},o6={provide:Wl,useFactory:r6,deps:[[new Ye,k0],cn]},a6=(()=>{class t{constructor(){Le("angularfire",Wr.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=st({type:t});static \u0275inj=it({providers:[o6,s6]})}return t})();function TP(t,...e){return{ngModule:a6,providers:[{provide:k0,useFactory:i6(t),multi:!0,deps:[me,dt,Hi,Gr,[new Ye,$i],...e]}]}}var SP=zi(kn,!0);var c6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},On={},P,tb=tb||{},Q=c6||self;function Rp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ou(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function l6(t){return Object.prototype.hasOwnProperty.call(t,N0)&&t[N0]||(t[N0]=++u6)}var N0="closure_uid_"+(1e9*Math.random()>>>0),u6=0;function d6(t,e,n){return t.call.apply(t.bind,arguments)}function h6(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Mt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Mt=d6:Mt=h6,Mt.apply(null,arguments)}function _p(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function pt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ki(){this.s=this.s,this.o=this.o}var f6=0;Ki.prototype.s=!1;Ki.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),f6!=0)&&l6(this)};Ki.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var UP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function nb(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function xP(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Rp(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Rt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Rt.prototype.h=function(){this.defaultPrevented=!0};var p6=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};Q.addEventListener("test",n,e),Q.removeEventListener("test",n,e)}catch{}return t}();function Jl(t){return/^[\s\xa0]*$/.test(t)}function Pp(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function gr(t){return Pp().indexOf(t)!=-1}function rb(t){return rb[" "](t),t}rb[" "]=function(){};function g6(t,e){var n=r8;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var m6=gr("Opera"),Na=gr("Trident")||gr("MSIE"),BP=gr("Edge"),j0=BP||Na,$P=gr("Gecko")&&!(Pp().toLowerCase().indexOf("webkit")!=-1&&!gr("Edge"))&&!(gr("Trident")||gr("MSIE"))&&!gr("Edge"),y6=Pp().toLowerCase().indexOf("webkit")!=-1&&!gr("Edge");function HP(){var t=Q.document;return t?t.documentMode:void 0}var U0;e:{if(vp="",wp=function(){var t=Pp();if($P)return/rv:([^\);]+)(\)|;)/.exec(t);if(BP)return/Edge\/([\d\.]+)/.exec(t);if(Na)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(y6)return/WebKit\/(\S+)/.exec(t);if(m6)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),wp&&(vp=wp?wp[1]:""),Na&&(bp=HP(),bp!=null&&bp>parseFloat(vp))){U0=String(bp);break e}U0=vp}var vp,wp,bp,B0;Q.document&&Na?(O0=HP(),B0=O0||parseInt(U0,10)||void 0):B0=void 0;var O0,_6=B0;function Zl(t,e){if(Rt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if($P){e:{try{rb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:v6[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Zl.$.h.call(this)}}pt(Zl,Rt);var v6={2:"touch",3:"pen",4:"mouse"};Zl.prototype.h=function(){Zl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var au="closure_listenable_"+(1e6*Math.random()|0),w6=0;function b6(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++w6,this.fa=this.ia=!1}function kp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ib(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function E6(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function zP(t){let e={};for(let n in t)e[n]=t[n];return e}var AP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qP(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<AP.length;s++)n=AP[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Np(t){this.src=t,this.g={},this.h=0}Np.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=H0(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new b6(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function $0(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=UP(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(kp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function H0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var sb="closure_lm_"+(1e6*Math.random()|0),F0={};function WP(t,e,n,r,i){if(r&&r.once)return KP(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)WP(t,e[s],n,r,i);return null}return n=cb(n),t&&t[au]?t.O(e,n,ou(r)?!!r.capture:!!r,i):GP(t,e,n,!1,r,i)}function GP(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ou(i)?!!i.capture:!!i,a=ab(t);if(a||(t[sb]=a=new Np(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=I6(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)p6||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(QP(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function I6(){function t(n){return e.call(t.src,t.listener,n)}let e=C6;return t}function KP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)KP(t,e[s],n,r,i);return null}return n=cb(n),t&&t[au]?t.P(e,n,ou(r)?!!r.capture:!!r,i):GP(t,e,n,!0,r,i)}function YP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)YP(t,e[s],n,r,i);else r=ou(r)?!!r.capture:!!r,n=cb(n),t&&t[au]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=H0(s,n,r,i),-1<n&&(kp(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=ab(t))&&(e=t.g[e.toString()],t=-1,e&&(t=H0(e,n,r,i)),(n=-1<t?e[t]:null)&&ob(n))}function ob(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[au])$0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(QP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ab(e))?($0(n,t),n.h==0&&(n.src=null,e[sb]=null)):kp(t)}}}function QP(t){return t in F0?F0[t]:F0[t]="on"+t}function C6(t,e){if(t.fa)t=!0;else{e=new Zl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ob(t),t=n.call(r,e)}return t}function ab(t){return t=t[sb],t instanceof Np?t:null}var L0="__closure_events_fn_"+(1e9*Math.random()>>>0);function cb(t){return typeof t=="function"?t:(t[L0]||(t[L0]=function(e){return t.handleEvent(e)}),t[L0])}function ft(){Ki.call(this),this.i=new Np(this),this.S=this,this.J=null}pt(ft,Ki);ft.prototype[au]=!0;ft.prototype.removeEventListener=function(t,e,n,r){YP(this,t,e,n,r)};function Dt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Rt(e,t);else if(e instanceof Rt)e.target=e.target||t;else{var i=e;e=new Rt(r,t),qP(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ep(o,r,!0,e)&&i}if(o=e.g=t,i=Ep(o,r,!0,e)&&i,i=Ep(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Ep(o,r,!1,e)&&i}ft.prototype.N=function(){if(ft.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kp(n[r]);delete t.g[e],t.h--}}this.J=null};ft.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ft.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ep(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&$0(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var lb=Q.JSON.stringify,z0=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function D6(){var t=ub;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var q0=class{constructor(){this.h=this.g=null}add(e,n){let r=XP.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},XP=new z0(()=>new W0,t=>t.reset()),W0=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function T6(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function S6(t){Q.setTimeout(()=>{throw t},0)}var eu,tu=!1,ub=new q0,JP=()=>{let t=Q.Promise.resolve(void 0);eu=()=>{t.then(x6)}},x6=()=>{for(var t;t=D6();){try{t.h.call(t.g)}catch(n){S6(n)}var e=XP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}tu=!1};function Op(t,e){ft.call(this),this.h=t||1,this.g=e||Q,this.j=Mt(this.qb,this),this.l=Date.now()}pt(Op,ft);P=Op.prototype;P.ga=!1;P.T=null;P.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dt(this,"tick"),this.ga&&(db(this),this.start()))}};P.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function db(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}P.N=function(){Op.$.N.call(this),db(this),delete this.g};function hb(t,e,n){if(typeof t=="function")n&&(t=Mt(t,n));else if(t&&typeof t.handleEvent=="function")t=Mt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function ZP(t){t.g=hb(()=>{t.g=null,t.i&&(t.i=!1,ZP(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var G0=class extends Ki{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ZP(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function nu(t){Ki.call(this),this.h=t,this.g={}}pt(nu,Ki);var MP=[];function ek(t,e,n,r){Array.isArray(n)||(n&&(MP[0]=n.toString()),n=MP);for(var i=0;i<n.length;i++){var s=WP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function tk(t){ib(t.g,function(e,n){this.g.hasOwnProperty(n)&&ob(e)},t),t.g={}}nu.prototype.N=function(){nu.$.N.call(this),tk(this)};nu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Fp(){this.g=!0}Fp.prototype.Ea=function(){this.g=!1};function A6(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function M6(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Pa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+P6(t,n)+(r?" "+r:"")})}function R6(t,e){t.info(function(){return"TIMEOUT: "+e})}Fp.prototype.info=function(){};function P6(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return lb(n)}catch{return e}}var Ys={},RP=null;function Lp(){return RP=RP||new ft}Ys.Ta="serverreachability";function nk(t){Rt.call(this,Ys.Ta,t)}pt(nk,Rt);function ru(t){let e=Lp();Dt(e,new nk(e))}Ys.STAT_EVENT="statevent";function rk(t,e){Rt.call(this,Ys.STAT_EVENT,t),this.stat=e}pt(rk,Rt);function jt(t){let e=Lp();Dt(e,new rk(e,t))}Ys.Ua="timingevent";function ik(t,e){Rt.call(this,Ys.Ua,t),this.size=e}pt(ik,Rt);function cu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}var Vp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},sk={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function fb(){}fb.prototype.h=null;function PP(t){return t.h||(t.h=t.i())}function ok(){}var lu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pb(){Rt.call(this,"d")}pt(pb,Rt);function gb(){Rt.call(this,"c")}pt(gb,Rt);var K0;function jp(){}pt(jp,fb);jp.prototype.g=function(){return new XMLHttpRequest};jp.prototype.i=function(){return{}};K0=new jp;function uu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new nu(this),this.P=k6,t=j0?125:void 0,this.V=new Op(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ak}function ak(){this.i=null,this.g="",this.h=!1}var k6=45e3,ck={},Y0={};P=uu.prototype;P.setTimeout=function(t){this.P=t};function Q0(t,e,n){t.L=1,t.A=Bp(Zr(e)),t.u=n,t.S=!0,lk(t,null)}function lk(t,e){t.G=Date.now(),du(t),t.B=Zr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),yk(n.i,"t",r),t.o=0,n=t.l.J,t.h=new ak,t.g=Vk(t.l,n?e:null,!t.u),0<t.O&&(t.M=new G0(Mt(t.Pa,t,t.g),t.O)),ek(t.U,t.g,"readystatechange",t.nb),e=t.I?zP(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ru(),A6(t.j,t.v,t.B,t.m,t.W,t.u)}P.nb=function(t){t=t.target;let e=this.M;e&&mr(t)==3?e.l():this.Pa(t)};P.Pa=function(t){try{if(t==this.g)e:{let u=mr(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||j0||this.g&&(this.h.h||this.g.ja()||FP(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?ru(3):ru(2)),Up(this);var n=this.g.da();this.ca=n;t:if(uk(this)){var r=FP(this.g);t="";var i=r.length,s=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ws(this),Xl(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,M6(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jl(a)){var l=a;break t}}l=null}if(n=l)Pa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,X0(this,n);else{this.i=!1,this.s=3,jt(12),Ws(this),Xl(this);break e}}this.S?(dk(this,u,o),j0&&this.i&&u==3&&(ek(this.U,this.V,"tick",this.mb),this.V.start())):(Pa(this.j,this.m,o,null),X0(this,o)),u==4&&Ws(this),this.i&&!this.J&&(u==4?Nk(this.l,this):(this.i=!1,du(this)))}else e8(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),Ws(this),Xl(this)}}}catch{}finally{}};function uk(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function dk(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=N6(t,n),i==Y0){e==4&&(t.s=4,jt(14),r=!1),Pa(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ck){t.s=4,jt(15),Pa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Pa(t.j,t.m,i,null),X0(t,i);uk(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,jt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),bb(e),e.M=!0,jt(11))):(Pa(t.j,t.m,n,"[Invalid Chunked Response]"),Ws(t),Xl(t))}P.mb=function(){if(this.g){var t=mr(this.g),e=this.g.ja();this.o<e.length&&(Up(this),dk(this,t,e),this.i&&t!=4&&du(this))}};function N6(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Y0:(n=Number(e.substring(n,r)),isNaN(n)?ck:(r+=1,r+n>e.length?Y0:(e=e.slice(r,r+n),t.o=r+n,e)))}P.cancel=function(){this.J=!0,Ws(this)};function du(t){t.Y=Date.now()+t.P,hk(t,t.P)}function hk(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=cu(Mt(t.lb,t),e)}function Up(t){t.C&&(Q.clearTimeout(t.C),t.C=null)}P.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(R6(this.j,this.B),this.L!=2&&(ru(),jt(17)),Ws(this),this.s=2,Xl(this)):hk(this,this.Y-t)};function Xl(t){t.l.H==0||t.J||Nk(t.l,t)}function Ws(t){Up(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,db(t.V),tk(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function X0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||J0(n.i,t))){if(!t.K&&J0(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Sp(n),zp(n);else break e;wb(n),jt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=cu(Mt(n.ib,n),6e3));if(1>=wk(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Gs(n,11)}else if((t.K||n.g==t)&&Sp(n),!Jl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=l[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(mb(s,s.h),s.h=null))}if(r.F){let m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Ne(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Lk(r,r.J?r.pa:null,r.Y),o.K){bk(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Up(a),du(a)),r.g=o}else Pk(r);0<n.j.length&&qp(n)}else l[0]!="stop"&&l[0]!="close"||Gs(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Gs(n,7):vb(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}ru(4)}catch{}}function O6(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Rp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function F6(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Rp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function fk(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Rp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=F6(t),r=O6(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var pk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function L6(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ks(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ks){this.h=t.h,Dp(this,t.j),this.s=t.s,this.g=t.g,Tp(this,t.m),this.l=t.l;var e=t.i,n=new iu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),kP(this,n),this.o=t.o}else t&&(e=String(t).match(pk))?(this.h=!1,Dp(this,e[1]||"",!0),this.s=Yl(e[2]||""),this.g=Yl(e[3]||"",!0),Tp(this,e[4]),this.l=Yl(e[5]||"",!0),kP(this,e[6]||"",!0),this.o=Yl(e[7]||"")):(this.h=!1,this.i=new iu(null,this.h))}Ks.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ql(e,NP,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ql(e,NP,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ql(n,n.charAt(0)=="/"?U6:j6,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ql(n,$6)),t.join("")};function Zr(t){return new Ks(t)}function Dp(t,e,n){t.j=n?Yl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Tp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function kP(t,e,n){e instanceof iu?(t.i=e,H6(t.i,t.h)):(n||(e=Ql(e,B6)),t.i=new iu(e,t.h))}function Ne(t,e,n){t.i.set(e,n)}function Bp(t){return Ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Yl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ql(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,V6),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function V6(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var NP=/[#\/\?@]/g,j6=/[#\?:]/g,U6=/[#\?]/g,B6=/[#\?@]/g,$6=/#/g;function iu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Yi(t){t.g||(t.g=new Map,t.h=0,t.i&&L6(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}P=iu.prototype;P.add=function(t,e){Yi(this),this.i=null,t=Oa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function gk(t,e){Yi(t),e=Oa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function mk(t,e){return Yi(t),e=Oa(t,e),t.g.has(e)}P.forEach=function(t,e){Yi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};P.ta=function(){Yi(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};P.Z=function(t){Yi(this);let e=[];if(typeof t=="string")mk(this,t)&&(e=e.concat(this.g.get(Oa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};P.set=function(t,e){return Yi(this),this.i=null,t=Oa(this,t),mk(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};P.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function yk(t,e,n){gk(t,e),0<n.length&&(t.i=null,t.g.set(Oa(t,e),nb(n)),t.h+=n.length)}P.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Oa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function H6(t,e){e&&!t.j&&(Yi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(gk(this,r),yk(this,i,n))},t)),t.j=e}var z6=class{constructor(t,e){this.g=t,this.map=e}};function _k(t){this.l=t||q6,Q.PerformanceNavigationTiming?(t=Q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var q6=10;function vk(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function wk(t){return t.h?1:t.g?t.g.size:0}function J0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function mb(t,e){t.g?t.g.add(e):t.h=e}function bk(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}_k.prototype.cancel=function(){if(this.i=Ek(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function Ek(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return nb(t.i)}var W6=class{stringify(t){return Q.JSON.stringify(t,void 0)}parse(t){return Q.JSON.parse(t,void 0)}};function G6(){this.g=new W6}function K6(t,e,n){let r=n||"";try{fk(t,function(i,s){let o=i;ou(i)&&(o=lb(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Y6(t,e){let n=new Fp;if(Q.Image){let r=new Image;r.onload=_p(Ip,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_p(Ip,n,r,"TestLoadImage: error",!1,e),r.onabort=_p(Ip,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_p(Ip,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ip(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function hu(t){this.l=t.ec||null,this.j=t.ob||!1}pt(hu,fb);hu.prototype.g=function(){return new $p(this.l,this.j)};hu.prototype.i=function(t){return function(){return t}}({});function $p(t,e){ft.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=yb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pt($p,ft);var yb=0;P=$p.prototype;P.open=function(t,e){if(this.readyState!=yb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,su(this)};P.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fu(this)),this.readyState=yb};P.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,su(this)),this.g&&(this.readyState=3,su(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ik(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Ik(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}P.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?fu(this):su(this),this.readyState==3&&Ik(this)}};P.Za=function(t){this.g&&(this.response=this.responseText=t,fu(this))};P.Ya=function(t){this.g&&(this.response=t,fu(this))};P.ka=function(){this.g&&fu(this)};function fu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,su(t)}P.setRequestHeader=function(t,e){this.v.append(t,e)};P.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};P.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function su(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty($p.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Q6=Q.JSON.parse;function He(t){ft.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ck,this.L=this.M=!1}pt(He,ft);var Ck="",X6=/^https?$/i,J6=["POST","PUT"];P=He.prototype;P.Oa=function(t){this.M=t};P.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():K0.g(),this.C=this.u?PP(this.u):PP(K0),this.g.onreadystatechange=Mt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){OP(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Q.FormData&&t instanceof Q.FormData,!(0<=UP(J6,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Sk(this),0<this.B&&((this.L=Z6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mt(this.ua,this)):this.A=hb(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){OP(this,s)}};function Z6(t){return Na&&typeof t.timeout=="number"&&t.ontimeout!==void 0}P.ua=function(){typeof tb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dt(this,"timeout"),this.abort(8))};function OP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Dk(t),Hp(t)}function Dk(t){t.F||(t.F=!0,Dt(t,"complete"),Dt(t,"error"))}P.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dt(this,"complete"),Dt(this,"abort"),Hp(this))};P.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hp(this,!0)),He.$.N.call(this)};P.La=function(){this.s||(this.G||this.v||this.l?Tk(this):this.kb())};P.kb=function(){Tk(this)};function Tk(t){if(t.h&&typeof tb<"u"&&(!t.C[1]||mr(t)!=4||t.da()!=2)){if(t.v&&mr(t)==4)hb(t.La,0,t);else if(Dt(t,"readystatechange"),mr(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(pk)[1]||null;!i&&Q.self&&Q.self.location&&(i=Q.self.location.protocol.slice(0,-1)),r=!X6.test(i?i.toLowerCase():"")}n=r}if(n)Dt(t,"complete"),Dt(t,"success");else{t.m=6;try{var s=2<mr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Dk(t)}}finally{Hp(t)}}}}function Hp(t,e){if(t.g){Sk(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Dt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Sk(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}P.isActive=function(){return!!this.g};function mr(t){return t.g?t.g.readyState:0}P.da=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}};P.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};P.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Q6(e)}};function FP(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Ck:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function e8(t){let e={};t=(t.g&&2<=mr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Jl(t[r]))continue;var n=T6(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}E6(e,function(r){return r.join(", ")})}P.Ia=function(){return this.m};P.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function xk(t){let e="";return ib(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function _b(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=xk(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ne(t,e,n))}function Gl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ak(t){this.Ga=0,this.j=[],this.l=new Fp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gl("baseRetryDelayMs",5e3,t),this.hb=Gl("retryDelaySeedMs",1e4,t),this.eb=Gl("forwardChannelMaxRetries",2,t),this.xa=Gl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new _k(t&&t.concurrentRequestLimit),this.Ja=new G6,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}P=Ak.prototype;P.ra=8;P.H=1;function vb(t){if(Mk(t),t.H==3){var e=t.W++,n=Zr(t.I);if(Ne(n,"SID",t.K),Ne(n,"RID",e),Ne(n,"TYPE","terminate"),pu(t,n),e=new uu(t,t.l,e),e.L=2,e.A=Bp(Zr(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Q.Image&&(new Image().src=e.A,n=!0),n||(e.g=Vk(e.l,null),e.g.ha(e.A)),e.G=Date.now(),du(e)}Fk(t)}function zp(t){t.g&&(bb(t),t.g.cancel(),t.g=null)}function Mk(t){zp(t),t.u&&(Q.clearTimeout(t.u),t.u=null),Sp(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Q.clearTimeout(t.m),t.m=null)}function qp(t){if(!vk(t.i)&&!t.m){t.m=!0;var e=t.Na;eu||JP(),tu||(eu(),tu=!0),ub.add(e,t),t.C=0}}function t8(t,e){return wk(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=cu(Mt(t.Na,t,e),Ok(t,t.C)),t.C++,!0)}P.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new uu(this,this.l,t),s=this.s;if(this.U&&(s?(s=zP(s),qP(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Rk(this,i,e),n=Zr(this.I),Ne(n,"RID",t),Ne(n,"CVER",22),this.F&&Ne(n,"X-HTTP-Session-Id",this.F),pu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(xk(s)))+"&"+e:this.o&&_b(n,this.o,s)),mb(this.i,i),this.bb&&Ne(n,"TYPE","init"),this.P?(Ne(n,"$req",e),Ne(n,"SID","null"),i.aa=!0,Q0(i,n,null)):Q0(i,n,e),this.H=2}}else this.H==3&&(t?LP(this,t):this.j.length==0||vk(this.i)||LP(this))};function LP(t,e){var n;e?n=e.m:n=t.W++;let r=Zr(t.I);Ne(r,"SID",t.K),Ne(r,"RID",n),Ne(r,"AID",t.V),pu(t,r),t.o&&t.s&&_b(r,t.o,t.s),n=new uu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Rk(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),mb(t.i,n),Q0(n,r,e)}function pu(t,e){t.na&&ib(t.na,function(n,r){Ne(e,r,n)}),t.h&&fk({},function(n,r){Ne(e,r,n)})}function Rk(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Mt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g,u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{K6(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Pk(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;eu||JP(),tu||(eu(),tu=!0),ub.add(e,t),t.A=0}}function wb(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=cu(Mt(t.Ma,t),Ok(t,t.A)),t.A++,!0)}P.Ma=function(){if(this.u=null,kk(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=cu(Mt(this.jb,this),t)}};P.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,jt(10),zp(this),kk(this))};function bb(t){t.B!=null&&(Q.clearTimeout(t.B),t.B=null)}function kk(t){t.g=new uu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Zr(t.wa);Ne(e,"RID","rpc"),Ne(e,"SID",t.K),Ne(e,"AID",t.V),Ne(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ne(e,"TO",t.qa),Ne(e,"TYPE","xmlhttp"),pu(t,e),t.o&&t.s&&_b(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Bp(Zr(e)),n.u=null,n.S=!0,lk(n,t)}P.ib=function(){this.v!=null&&(this.v=null,zp(this),wb(this),jt(19))};function Sp(t){t.v!=null&&(Q.clearTimeout(t.v),t.v=null)}function Nk(t,e){var n=null;if(t.g==e){Sp(t),bb(t),t.g=null;var r=2}else if(J0(t.i,e))n=e.F,bk(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Lp(),Dt(r,new ik(r,n)),qp(t)}else Pk(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&t8(t,e)||r==2&&wb(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Gs(t,5);break;case 4:Gs(t,10);break;case 3:Gs(t,6);break;default:Gs(t,2)}}}function Ok(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Gs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Mt(t.pb,t);n||(n=new Ks("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||Dp(n,"https"),Bp(n)),Y6(n.toString(),r)}else jt(2);t.H=0,t.h&&t.h.za(e),Fk(t),Mk(t)}P.pb=function(t){t?(this.l.info("Successfully pinged google.com"),jt(2)):(this.l.info("Failed to ping google.com"),jt(1))};function Fk(t){if(t.H=0,t.ma=[],t.h){let e=Ek(t.i);(e.length!=0||t.j.length!=0)&&(xP(t.ma,e),xP(t.ma,t.j),t.i.i.length=0,nb(t.j),t.j.length=0),t.h.ya()}}function Lk(t,e,n){var r=n instanceof Ks?Zr(n):new Ks(n);if(r.g!="")e&&(r.g=e+"."+r.g),Tp(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ks(null);r&&Dp(s,r),e&&(s.g=e),i&&Tp(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ne(r,n,e),Ne(r,"VER",t.ra),pu(t,r),r}function Vk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new He(new hu({ob:n})):new He(t.va),e.Oa(t.J),e}P.isActive=function(){return!!this.h&&this.h.isActive(this)};function jk(){}P=jk.prototype;P.Ba=function(){};P.Aa=function(){};P.za=function(){};P.ya=function(){};P.isActive=function(){return!0};P.Va=function(){};function xp(){if(Na&&!(10<=Number(_6)))throw Error("Environmental error: no available transport.")}xp.prototype.g=function(t,e){return new ln(t,e)};function ln(t,e){ft.call(this),this.g=new Ak(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Jl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Fa(this)}pt(ln,ft);ln.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;jt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Lk(t,null,t.Y),qp(t)};ln.prototype.close=function(){vb(this.g)};ln.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=lb(t),t=n);e.j.push(new z6(e.fb++,t)),e.H==3&&qp(e)};ln.prototype.N=function(){this.g.h=null,delete this.j,vb(this.g),delete this.g,ln.$.N.call(this)};function Uk(t){pb.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}pt(Uk,pb);function Bk(){gb.call(this),this.status=1}pt(Bk,gb);function Fa(t){this.g=t}pt(Fa,jk);Fa.prototype.Ba=function(){Dt(this.g,"a")};Fa.prototype.Aa=function(t){Dt(this.g,new Uk(t))};Fa.prototype.za=function(t){Dt(this.g,new Bk)};Fa.prototype.ya=function(){Dt(this.g,"b")};function n8(){this.blockSize=-1}function Nn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}pt(Nn,n8);Nn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function V0(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Nn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)V0(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){V0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){V0(this,r),i=0;break}}this.h=i,this.i+=e};Nn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function De(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var r8={};function Eb(t){return-128<=t&&128>t?g6(t,function(e){return new De([e|0],0>e?-1:0)}):new De([t|0],0>t?-1:0)}function yr(t){if(isNaN(t)||!isFinite(t))return ka;if(0>t)return Ct(yr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Z0;return new De(e,0)}function $k(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ct($k(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=yr(Math.pow(e,8)),r=ka,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=yr(Math.pow(e,s)),r=r.R(s).add(yr(o))):(r=r.R(n),r=r.add(yr(o)))}return r}var Z0=4294967296,ka=Eb(0),eb=Eb(1),VP=Eb(16777216);P=De.prototype;P.ea=function(){if(wn(this))return-Ct(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Z0+r)*e,e*=Z0}return t};P.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Jr(this))return"0";if(wn(this))return"-"+Ct(this).toString(t);for(var e=yr(Math.pow(t,6)),n=this,r="";;){var i=Mp(n,e).g;n=Ap(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Jr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};P.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Jr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function wn(t){return t.h==-1}P.X=function(t){return t=Ap(this,t),wn(t)?-1:Jr(t)?0:1};function Ct(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new De(n,~t.h).add(eb)}P.abs=function(){return wn(this)?Ct(this):this};P.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new De(n,n[n.length-1]&-2147483648?-1:0)};function Ap(t,e){return t.add(Ct(e))}P.R=function(t){if(Jr(this)||Jr(t))return ka;if(wn(this))return wn(t)?Ct(this).R(Ct(t)):Ct(Ct(this).R(t));if(wn(t))return Ct(this.R(Ct(t)));if(0>this.X(VP)&&0>t.X(VP))return yr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Cp(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Cp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Cp(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Cp(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new De(n,0)};function Cp(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Kl(t,e){this.g=t,this.h=e}function Mp(t,e){if(Jr(e))throw Error("division by zero");if(Jr(t))return new Kl(ka,ka);if(wn(t))return e=Mp(Ct(t),e),new Kl(Ct(e.g),Ct(e.h));if(wn(e))return e=Mp(t,Ct(e)),new Kl(Ct(e.g),e.h);if(30<t.g.length){if(wn(t)||wn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=eb,r=e;0>=r.X(t);)n=jP(n),r=jP(r);var i=Ra(n,1),s=Ra(r,1);for(r=Ra(r,2),n=Ra(n,2);!Jr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ra(r,1),n=Ra(n,1)}return e=Ap(t,i.R(e)),new Kl(i,e)}for(i=ka;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=yr(n),o=s.R(e);wn(o)||0<o.X(t);)n-=r,s=yr(n),o=s.R(e);Jr(s)&&(s=eb),i=i.add(s),t=Ap(t,o)}return new Kl(i,t)}P.gb=function(t){return Mp(this,t).h};P.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new De(n,this.h&t.h)};P.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new De(n,this.h|t.h)};P.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new De(n,this.h^t.h)};function jP(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new De(n,t.h)}function Ra(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new De(i,t.h)}xp.prototype.createWebChannel=xp.prototype.g;ln.prototype.send=ln.prototype.u;ln.prototype.open=ln.prototype.m;ln.prototype.close=ln.prototype.close;Vp.NO_ERROR=0;Vp.TIMEOUT=8;Vp.HTTP_ERROR=6;sk.COMPLETE="complete";ok.EventType=lu;lu.OPEN="a";lu.CLOSE="b";lu.ERROR="c";lu.MESSAGE="d";ft.prototype.listen=ft.prototype.O;He.prototype.listenOnce=He.prototype.P;He.prototype.getLastError=He.prototype.Sa;He.prototype.getLastErrorCode=He.prototype.Ia;He.prototype.getStatus=He.prototype.da;He.prototype.getResponseJson=He.prototype.Wa;He.prototype.getResponseText=He.prototype.ja;He.prototype.send=He.prototype.ha;He.prototype.setWithCredentials=He.prototype.Oa;Nn.prototype.digest=Nn.prototype.l;Nn.prototype.reset=Nn.prototype.reset;Nn.prototype.update=Nn.prototype.j;De.prototype.add=De.prototype.add;De.prototype.multiply=De.prototype.R;De.prototype.modulo=De.prototype.gb;De.prototype.compare=De.prototype.X;De.prototype.toNumber=De.prototype.ea;De.prototype.toString=De.prototype.toString;De.prototype.getBits=De.prototype.D;De.fromNumber=yr;De.fromString=$k;var Hk=On.createWebChannelTransport=function(){return new xp},zk=On.getStatEventTarget=function(){return Lp()},Wp=On.ErrorCode=Vp,qk=On.EventType=sk,Wk=On.Event=Ys,Ib=On.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},fse=On.FetchXmlHttpFactory=hu,gu=On.WebChannel=ok,Gk=On.XhrIo=He,Kk=On.Md5=Nn,Qs=On.Integer=De;var Yk="@firebase/firestore";var gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");var ic="10.7.2";var to=new ji("@firebase/firestore");function mu(){return to.logLevel}function k(t,...e){if(to.logLevel<=fe.DEBUG){let n=e.map(hI);to.debug(`Firestore (${ic}): ${t}`,...n)}}function Ir(t,...e){if(to.logLevel<=fe.ERROR){let n=e.map(hI);to.error(`Firestore (${ic}): ${t}`,...n)}}function za(t,...e){if(to.logLevel<=fe.WARN){let n=e.map(hI);to.warn(`Firestore (${ic}): ${t}`,...n)}}function hI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function W(t="Unexpected state"){let e=`FIRESTORE (${ic}) INTERNAL ASSERTION FAILED: `+t;throw Ir(e),new Error(e)}function ke(t,e){t||W()}function te(t,e){return t}var S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Vt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ln=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Xp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},xb=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}},Ab=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Mb=class{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Ln;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ln,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>_(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{k("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(k("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ln)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(k("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new Xp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new gt(e)}},Rb=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Pb=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Rb(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},kb=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Nb=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&k("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,k("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{k("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):k("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new kb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function i8(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Jp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=i8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function we(t,e){return t<e?-1:t>e?1:0}function qa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Tt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Tt(0,0))}static max(){return new t(new Tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Zp=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&W(),r===void 0?r=e.length-n:r>e.length-n&&W(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ue=class t extends Zp{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(S.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},s8=/^[_a-zA-Z][_a-zA-Z0-9]*$/,un=class t extends Zp{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return s8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new L(S.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(S.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new L(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(S.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var H=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ue.fromString(e))}static fromName(e){return new t(Ue.fromString(e).popFirst(5))}static empty(){return new t(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ue(e.slice()))}};var Ob=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Ob.UNKNOWN_ID=-1;function o8(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Tt(n+1,0):new Tt(n,r));return new no(i,H.empty(),e)}function a8(t){return new no(t.readTime,t.key,-1)}var no=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ee.min(),H.empty(),-1)}static max(){return new t(ee.max(),H.empty(),-1)}};function c8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}var l8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Fb=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ou(t){return _(this,null,function*(){if(t.code!==S.FAILED_PRECONDITION||t.message!==l8)throw t;k("LocalStore","Unexpectedly lost primary lease")})}var A=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var Lb=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ln,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new eo(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=fI(r.target.error);this.V.reject(new eo(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new eo(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(k("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new jb(n)}},eg=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S($e())===12.2&&Ir("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return k("SimpleDb","Removing database:",e),Xs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ff())return!1;if(t.C())return!0;let e=$e(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return _(this,null,function*(){return this.db||(k("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new eo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new L(S.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new L(S.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new eo(e,o))},i.onupgradeneeded=s=>{k("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{k("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return _(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=Lb.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),A.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&o<3;if(k("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},Vb=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Xs(this.k.delete())}},eo=class extends L{constructor(e,n){super(S.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Fu(t){return t.name==="IndexedDbTransactionError"}var jb=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(k("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(k("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Xs(r)}add(e){return k("SimpleDb","ADD",this.store.name,e,e),Xs(this.store.add(e))}get(e){return Xs(this.store.get(e)).next(n=>(n===void 0&&(n=null),k("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return k("SimpleDb","DELETE",this.store.name,e),Xs(this.store.delete(e))}count(){return k("SimpleDb","COUNT",this.store.name),Xs(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new A((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new A((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){k("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new A((r,i)=>{n.onerror=s=>{let o=fI(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new A((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new Vb(a),l=n(a.primaryKey,a.value,c);if(l instanceof A){let u=l.catch(d=>(c.done(),A.reject(d)));r.push(u)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>A.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Xs(t){return new A((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=fI(r.target.error);n(i)}})}var Qk=!1;function fI(t){let e=eg.S($e());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new L("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Qk||(Qk=!0,setTimeout(()=>{throw r},0)),r}}return t}var T1=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Tg(t){return t==null}function Eu(t){return t===0&&1/t==-1/0}function u8(t){return typeof t=="number"&&Number.isInteger(t)&&!Eu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var d8=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ise=[...d8,"documentOverlays"],h8=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],f8=h8,Cse=[...f8,"indexConfiguration","indexState","indexEntries"];function Xk(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function S1(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var qe=class t{constructor(e,n){this.comparator=e,this.root=n||wr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ua(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ua(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ua(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ua(this.root,e,this.comparator,!0)}},Ua=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},wr=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();let e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}};wr.EMPTY=null,wr.RED=!0,wr.BLACK=!1;wr.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(e,n,r,i,s){return this}insert(e,n,r){return new wr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var kt=class t{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tg(this.data.getIterator())}getIteratorFrom(e){return new tg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},tg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var vr=class t{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new t([])}unionWith(e){let n=new kt(un.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qa(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var ng=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ut=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ng("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ut.EMPTY_BYTE_STRING=new Ut("");var p8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(t){if(ke(!!t),typeof t=="string"){let e=0,n=p8.exec(t);if(ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zi(t){return typeof t=="string"?Ut.fromBase64String(t):Ut.fromUint8Array(t)}function pI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function gI(t){let e=t.mapValue.fields.__previous_value__;return pI(e)?gI(e):e}function Iu(t){let e=Ji(t.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}var Ub=class{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},rg=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Gp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pI(t)?4:x1(t)?9007199254740991:10:W()}function Cr(t,e){if(t===e)return!0;let n=ro(t);if(n!==ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Iu(t).isEqual(Iu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Ji(i.timestampValue),a=Ji(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Zi(i.bytesValue).isEqual(Zi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ze(i.geoPointValue.latitude)===ze(s.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ze(i.integerValue)===ze(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ze(i.doubleValue),a=ze(s.doubleValue);return o===a?Eu(o)===Eu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return qa(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Xk(o)!==Xk(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Cr(o[c],a[c])))return!1;return!0}(t,e);default:return W()}}function Cu(t,e){return(t.values||[]).find(n=>Cr(n,e))!==void 0}function Wa(t,e){if(t===e)return 0;let n=ro(t),r=ro(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ze(s.integerValue||s.doubleValue),c=ze(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Jk(t.timestampValue,e.timestampValue);case 4:return Jk(Iu(t),Iu(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Zi(s),c=Zi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=we(a[l],c[l]);if(u!==0)return u}return we(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=we(ze(s.latitude),ze(o.latitude));return a!==0?a:we(ze(s.longitude),ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=Wa(a[l],c[l]);if(u)return u}return we(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Gp.mapValue&&o===Gp.mapValue)return 0;if(s===Gp.mapValue)return 1;if(o===Gp.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){let h=we(c[d],u[d]);if(h!==0)return h;let f=Wa(a[c[d]],l[u[d]]);if(f!==0)return f}return we(c.length,u.length)}(t.mapValue,e.mapValue);default:throw W()}}function Jk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);let n=Ji(t),r=Ji(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function Ga(t){return Bb(t)}function Bb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Ji(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Bb(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Bb(n.fields[o])}`;return i+"}"}(t.mapValue):W()}function Zk(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $b(t){return!!t&&"integerValue"in t}function mI(t){return!!t&&"arrayValue"in t}function e1(t){return!!t&&"nullValue"in t}function t1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yp(t){return!!t&&"mapValue"in t}function _u(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return sc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_u(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_u(t.arrayValue.values[n]);return e}return Object.assign({},t)}function x1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Fn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_u(n)}setAll(e){let n=un.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=_u(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Yp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){sc(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(_u(this.value))}};function A1(t){let e=[];return sc(t.fields,(n,r)=>{let i=new un([n]);if(Yp(r)){let s=A1(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new vr(e)}var Vn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ee.min(),ee.min(),ee.min(),Fn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ee.min(),ee.min(),Fn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ee.min(),ee.min(),Fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ka=class{constructor(e,n){this.position=e,this.inclusive=n}};function n1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=Wa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function r1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}var Ya=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function g8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ig=class{},rt=class t extends ig{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zb(e,n,r):n==="array-contains"?new Gb(e,r):n==="in"?new Kb(e,r):n==="not-in"?new Yb(e,r):n==="array-contains-any"?new Qb(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qb(e,r):new Wb(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wa(n,this.value)):n!==null&&ro(this.value)===ro(n)&&this.matchesComparison(Wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},jn=class t extends ig{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return M1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function M1(t){return t.op==="and"}function R1(t){return m8(t)&&M1(t)}function m8(t){for(let e of t.filters)if(e instanceof jn)return!1;return!0}function Hb(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+Ga(t.value);if(R1(t))return t.filters.map(e=>Hb(e)).join(",");{let e=t.filters.map(n=>Hb(n)).join(",");return`${t.op}(${e})`}}function P1(t,e){return t instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&Cr(r.value,i.value)}(t,e):t instanceof jn?function(r,i){return i instanceof jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&P1(o,i.filters[a]),!0):!1}(t,e):void W()}function k1(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ga(n.value)}`}(t):t instanceof jn?function(n){return n.op.toString()+" {"+n.getFilters().map(k1).join(" ,")+"}"}(t):"Filter"}var zb=class extends rt{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){let n=H.comparator(e.key,this.key);return this.matchesComparison(n)}},qb=class extends rt{constructor(e,n){super(e,"in",n),this.keys=N1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Wb=class extends rt{constructor(e,n){super(e,"not-in",n),this.keys=N1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function N1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}var Gb=class extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return mI(n)&&Cu(n.arrayValue,this.value)}},Kb=class extends rt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Cu(this.value.arrayValue,n)}},Yb=class extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Cu(this.value.arrayValue,n)}},Qb=class extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!mI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cu(this.value.arrayValue,r))}};var Xb=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function i1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Xb(t,e,n,r,i,s,o)}function yI(t){let e=te(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Tg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ga(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ga(r)).join(",")),e.ce=n}return e.ce}function _I(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!g8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!P1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!r1(t.startAt,e.startAt)&&r1(t.endAt,e.endAt)}function Jb(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var io=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function y8(t,e,n,r,i,s,o,a){return new io(t,e,n,r,i,s,o,a)}function O1(t){return new io(t)}function s1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function F1(t){return t.collectionGroup!==null}function vu(t){let e=te(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kt(un.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Ya(s,r))}),n.has(un.keyField().canonicalString())||e.le.push(new Ya(un.keyField(),r))}return e.le}function br(t){let e=te(t);return e.he||(e.he=_8(e,vu(t))),e.he}function _8(t,e){if(t.limitType==="F")return i1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ya(i.field,s)});let n=t.endAt?new Ka(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ka(t.startAt.position,t.startAt.inclusive):null;return i1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zb(t,e){let n=t.filters.concat([e]);return new io(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function eE(t,e,n){return new io(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sg(t,e){return _I(br(t),br(e))&&t.limitType===e.limitType}function L1(t){return`${yI(br(t))}|lt:${t.limitType}`}function La(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>k1(i)).join(", ")}]`),Tg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ga(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ga(i)).join(",")),`Target(${r})`}(br(t))}; limitType=${t.limitType})`}function xg(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of vu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let l=n1(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,vu(r),i)||r.endAt&&!function(o,a,c){let l=n1(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,vu(r),i))}(t,e)}function v8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function V1(t){return(e,n)=>{let r=!1;for(let i of vu(t)){let s=w8(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function w8(t,e,n){let r=t.field.isKeyField()?H.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?Wa(c,l):W()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return W()}}var es=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sc(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return S1(this.inner)}size(){return this.innerSize}};var b8=new qe(H.comparator);function ei(){return b8}var j1=new qe(H.comparator);function yu(...t){let e=j1;for(let n of t)e=e.insert(n.key,n);return e}function U1(t){let e=j1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Js(){return wu()}function B1(){return wu()}function wu(){return new es(t=>t.toString(),(t,e)=>t.isEqual(e))}var E8=new qe(H.comparator),I8=new kt(H.comparator);function pe(...t){let e=I8;for(let n of t)e=e.add(n);return e}var C8=new kt(we);function D8(){return C8}function $1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eu(e)?"-0":e}}function H1(t){return{integerValue:""+t}}function T8(t,e){return u8(e)?H1(e):$1(t,e)}var Qa=class{constructor(){this._=void 0}};function S8(t,e,n){return t instanceof Xa?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&pI(s)&&(s=gI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof so?q1(t,e):t instanceof oo?W1(t,e):function(i,s){let o=z1(i,s),a=o1(o)+o1(i.Ie);return $b(o)&&$b(i.Ie)?H1(a):$1(i.serializer,a)}(t,e)}function x8(t,e,n){return t instanceof so?q1(t,e):t instanceof oo?W1(t,e):n}function z1(t,e){return t instanceof Ja?function(r){return $b(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Xa=class extends Qa{},so=class extends Qa{constructor(e){super(),this.elements=e}};function q1(t,e){let n=G1(e);for(let r of t.elements)n.some(i=>Cr(i,r))||n.push(r);return{arrayValue:{values:n}}}var oo=class extends Qa{constructor(e){super(),this.elements=e}};function W1(t,e){let n=G1(e);for(let r of t.elements)n=n.filter(i=>!Cr(i,r));return{arrayValue:{values:n}}}var Ja=class extends Qa{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function o1(t){return ze(t.integerValue||t.doubleValue)}function G1(t){return mI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function A8(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof so&&i instanceof so||r instanceof oo&&i instanceof oo?qa(r.elements,i.elements,Cr):r instanceof Ja&&i instanceof Ja?Cr(r.Ie,i.Ie):r instanceof Xa&&i instanceof Xa}(t.transform,e.transform)}var tE=class{constructor(e,n){this.version=e,this.transformResults=n}},Qi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Qp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Za=class{};function K1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Du(t.key,Qi.none()):new ao(t.key,t.data,Qi.none());{let n=t.data,r=Fn.empty(),i=new kt(un.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ti(t.key,r,new vr(i.toArray()),Qi.none())}}function M8(t,e,n){t instanceof ao?function(i,s,o){let a=i.value.clone(),c=c1(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ti?function(i,s,o){if(!Qp(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=c1(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(Y1(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function bu(t,e,n,r){return t instanceof ao?function(s,o,a,c){if(!Qp(s.precondition,o))return a;let l=s.value.clone(),u=l1(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ti?function(s,o,a,c){if(!Qp(s.precondition,o))return a;let l=l1(s.fieldTransforms,c,o),u=o.data;return u.setAll(Y1(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Qp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function R8(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=z1(r.transform,i||null);s!=null&&(n===null&&(n=Fn.empty()),n.set(r.field,s))}return n||null}function a1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qa(r,i,(s,o)=>A8(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ao=class extends Za{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ti=class extends Za{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function Y1(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function c1(t,e,n){let r=new Map;ke(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,x8(o,a,n[i]))}return r}function l1(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,S8(s,o,e))}return r}var Du=class extends Za{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},nE=class extends Za{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var rE=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&M8(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=bu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=bu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=B1();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=K1(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&qa(this.mutations,e.mutations,(n,r)=>a1(n,r))&&qa(this.baseMutations,e.baseMutations,(n,r)=>a1(n,r))}},iE=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ke(e.mutations.length===r.length);let i=function(){return E8}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var sE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var oE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var tt,_e;function P8(t){switch(t){default:return W();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0}}function Q1(t){if(t===void 0)return Ir("GRPC error has no .code"),S.UNKNOWN;switch(t){case tt.OK:return S.OK;case tt.CANCELLED:return S.CANCELLED;case tt.UNKNOWN:return S.UNKNOWN;case tt.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case tt.INTERNAL:return S.INTERNAL;case tt.UNAVAILABLE:return S.UNAVAILABLE;case tt.UNAUTHENTICATED:return S.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case tt.NOT_FOUND:return S.NOT_FOUND;case tt.ALREADY_EXISTS:return S.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return S.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case tt.ABORTED:return S.ABORTED;case tt.OUT_OF_RANGE:return S.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return S.UNIMPLEMENTED;case tt.DATA_LOSS:return S.DATA_LOSS;default:return W()}}(_e=tt||(tt={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var u1=null;function k8(){return new TextEncoder}var N8=new Qs([4294967295,4294967295],0);function d1(t){let e=k8().encode(t),n=new Kk;return n.update(e),new Uint8Array(n.digest())}function h1(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Qs([n,r],0),new Qs([i,s],0)]}var aE=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zs(`Invalid padding: ${n}`);if(r<0)throw new Zs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zs(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Qs.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Qs.fromNumber(r)));return i.compare(N8)===1&&(i=new Qs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=d1(e),[r,i]=h1(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=d1(e),[r,i]=h1(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Zs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var sg=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ee.min(),i,new qe(we),ei(),pe())}},Tu=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,pe(),pe(),pe())}};var $a=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},og=class{constructor(e,n){this.targetId=e,this.fe=n}},ag=class{constructor(e,n,r=Ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},cg=class{constructor(){this.ge=0,this.pe=p1(),this.ye=Ut.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=pe(),n=pe(),r=pe();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:W()}}),new Tu(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=p1()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ke(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},cE=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=ei(),this.Qe=f1(),this.Ke=new qe(we)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:W()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(Jb(s))if(r===0){let o=new H(s.path);this.We(n,o,Vn.newNoDocument(o,ee.min()))}else ke(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}u1?.tt(function(u,d,h,f,p){var m,g,y,v,E,w;let b={localCacheCount:u,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},C=d.unchangedNames;return C&&(b.bloomFilter={applied:p===0,hashCount:(m=C?.hashCount)!==null&&m!==void 0?m:0,bitmapLength:(v=(y=(g=C?.bits)===null||g===void 0?void 0:g.bitmap)===null||y===void 0?void 0:y.length)!==null&&v!==void 0?v:0,padding:(w=(E=C?.bits)===null||E===void 0?void 0:E.padding)!==null&&w!==void 0?w:0,mightContain:M=>{var x;return(x=f?.mightContain(M))!==null&&x!==void 0&&x}}),b}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Zi(r).toUint8Array()}catch(c){if(c instanceof ng)return za("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new aE(o,i,s)}catch(c){return za(c instanceof Zs?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&Jb(a.target)){let c=new H(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Vn.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=pe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new sg(e,n,this.Ke,this.qe,r);return this.qe=ei(),this.Qe=f1(),this.Ke=new qe(we),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new cg,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new kt(we),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||k("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new cg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function f1(){return new qe(H.comparator)}function p1(){return new qe(H.comparator)}var O8=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),F8=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),L8=(()=>({and:"AND",or:"OR"}))(),lE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function uE(t,e){return t.useProto3Json||Tg(e)?e:{value:e}}function lg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function V8(t,e){return lg(t,e.toTimestamp())}function Er(t){return ke(!!t),ee.fromTimestamp(function(n){let r=Ji(n);return new Tt(r.seconds,r.nanos)}(t))}function vI(t,e){return dE(t,e).canonicalString()}function dE(t,e){let n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function J1(t){let e=Ue.fromString(t);return ke(rN(e)),e}function hE(t,e){return vI(t.databaseId,e.path)}function Cb(t,e){let n=J1(e);if(n.get(1)!==t.databaseId.projectId)throw new L(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(eN(n))}function Z1(t,e){return vI(t.databaseId,e)}function j8(t){let e=J1(t);return e.length===4?Ue.emptyPath():eN(e)}function fE(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eN(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function g1(t,e,n){return{name:hE(t,e),fields:n.value.mapValue.fields}}function U8(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(ke(u===void 0||typeof u=="string"),Ut.fromBase64String(u||"")):(ke(u===void 0||u instanceof Uint8Array),Ut.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let u=l.code===void 0?S.UNKNOWN:Q1(l.code);return new L(u,l.message||"")}(o);n=new ag(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Cb(t,r.document.name),s=Er(r.document.updateTime),o=r.document.createTime?Er(r.document.createTime):ee.min(),a=new Fn({mapValue:{fields:r.document.fields}}),c=Vn.newFoundDocument(i,s,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new $a(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Cb(t,r.document),s=r.readTime?Er(r.readTime):ee.min(),o=Vn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new $a([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Cb(t,r.document),s=r.removedTargetIds||[];n=new $a([],s,i,null)}else{if(!("filter"in e))return W();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new oE(i,s),a=r.targetId;n=new og(a,o)}}return n}function B8(t,e){let n;if(e instanceof ao)n={update:g1(t,e.key,e.value)};else if(e instanceof Du)n={delete:hE(t,e.key)};else if(e instanceof ti)n={update:g1(t,e.key,e.data),updateMask:Q8(e.fieldMask)};else{if(!(e instanceof nE))return W();n={verify:hE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Xa)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof so)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof oo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ja)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw W()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:V8(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:W()}(t,e.precondition)),n}function $8(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Er(i.updateTime):Er(s);return o.isEqual(ee.min())&&(o=Er(s)),new tE(o,i.transformResults||[])}(n,e))):[]}function H8(t,e){return{documents:[Z1(t,e.path)]}}function z8(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Z1(t,i);let s=function(l){if(l.length!==0)return nN(jn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:Va(h.field),direction:G8(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=uE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ut:n,parent:i}}function q8(t){let e=j8(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ke(r===1);let u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){let h=tN(d);return h instanceof jn&&R1(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(p){return new Ya(ja(p.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Tg(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new Ka(f,h)}(n.startAt));let l=null;return n.endAt&&(l=function(d){let h=!d.before,f=d.values||[];return new Ka(f,h)}(n.endAt)),y8(e,i,o,s,a,"F",c,l)}function W8(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ja(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ja(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ja(n.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ja(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(t):t.fieldFilter!==void 0?function(n){return rt.create(ja(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jn.create(n.compositeFilter.filters.map(r=>tN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W()}}(n.compositeFilter.op))}(t):W()}function G8(t){return O8[t]}function K8(t){return F8[t]}function Y8(t){return L8[t]}function Va(t){return{fieldPath:t.canonicalString()}}function ja(t){return un.fromServerFormat(t.fieldPath)}function nN(t){return t instanceof rt?function(n){if(n.op==="=="){if(t1(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NAN"}};if(e1(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(t1(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NAN"}};if(e1(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(n.field),op:K8(n.op),value:n.value}}}(t):t instanceof jn?function(n){let r=n.getFilters().map(i=>nN(i));return r.length===1?r[0]:{compositeFilter:{op:Y8(n.op),filters:r}}}(t):W()}function Q8(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Su=class t{constructor(e,n,r,i,s=ee.min(),o=ee.min(),a=Ut.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var pE=class{constructor(e){this.ct=e}};function X8(t){let e=q8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?eE(e,e.limit,"L"):e}var ug=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(ze(e.integerValue));else if("doubleValue"in e){let r=ze(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Eu(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Zi(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?x1(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):W()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),H.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};ug.bt=new ug;var gE=class{constructor(){this._n=new mE}addToCollectionParentIndex(e,n){return this._n.add(n),A.resolve()}getCollectionParents(e,n){return A.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return A.resolve()}deleteFieldIndex(e,n){return A.resolve()}deleteAllFieldIndexes(e){return A.resolve()}createTargetIndexes(e,n){return A.resolve()}getDocumentsMatchingTarget(e,n){return A.resolve(null)}getIndexType(e,n){return A.resolve(0)}getFieldIndexes(e,n){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,n){return A.resolve(no.min())}getMinOffsetFromCollectionGroup(e,n){return A.resolve(no.min())}updateCollectionGroup(e,n,r){return A.resolve()}updateIndexEntries(e,n){return A.resolve()}},mE=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kt(Ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt(Ue.comparator)).toArray()}};var Tse=new Uint8Array(0);var _r=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(41943040,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);var xu=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var yE=class{constructor(){this.changes=new es(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?A.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var _E=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var vE=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bu(r.mutation,i,vr.empty(),Tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){let i=Js();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=yu();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Js();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ei(),o=wu(),a=function(){return wu()}();return n.forEach((c,l)=>{let u=r.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof ti)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),bu(u.mutation,l,u.mutation.getFieldMask(),Tt.now())):o.set(l.key,vr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new _E(u,(d=o.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=wu(),i=new qe((o,a)=>o-a),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let u=r.get(c)||vr.empty();u=a.applyToLocalView(l,u),r.set(c,u);let d=(i.get(a.batchId)||pe()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,d=B1();u.forEach(h=>{if(!s.has(h)){let f=K1(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return A.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):F1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):A.resolve(Js()),a=-1,c=s;return o.next(l=>A.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?A.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,pe())).next(u=>({batchId:a,changes:U1(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=yu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=yu();return this.indexManager.getCollectionParents(e,s).next(a=>A.forEach(a,c=>{let l=function(d,h){return new io(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{let u=l.getKey();o.get(u)===null&&(o=o.insert(u,Vn.newInvalidDocument(u)))});let a=yu();return o.forEach((c,l)=>{let u=s.get(c);u!==void 0&&bu(u.mutation,l,vr.empty(),Tt.now()),xg(n,l)&&(a=a.insert(c,l))}),a})}};var wE=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return A.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Er(i.createTime)}}(n)),A.resolve()}getNamedQuery(e,n){return A.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:X8(i.bundledQuery),readTime:Er(i.readTime)}}(n)),A.resolve()}};var bE=class{constructor(){this.overlays=new qe(H.comparator),this.hr=new Map}getOverlay(e,n){return A.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Js();return A.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),A.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),A.resolve()}getOverlaysForCollection(e,n,r){let i=Js(),s=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return A.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qe((l,u)=>l-u),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);u===null&&(u=Js(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=Js(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return A.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sE(n,r));let s=this.hr.get(n);s===void 0&&(s=pe(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var Au=class{constructor(){this.Pr=new kt(nt.Ir),this.Tr=new kt(nt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new nt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new nt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new H(new Ue([])),r=new nt(n,e),i=new nt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new H(new Ue([])),r=new nt(n,e),i=new nt(n,e+1),s=pe();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new nt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},nt=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return H.comparator(e.key,n.key)||we(e.pr,n.pr)}static Er(e,n){return we(e.pr,n.pr)||H.comparator(e.key,n.key)}};var EE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new kt(nt.Ir)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new rE(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new nt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(o)}lookupMutationBatch(e,n){return A.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return A.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new nt(n,0),i=new nt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),A.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(we);return n.forEach(i=>{let s=new nt(i,0),o=new nt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),A.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;H.isDocumentKey(s)||(s=s.child(""));let o=new nt(new H(s),0),a=new kt(we);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.pr)),!0)},o),A.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ke(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return A.forEach(n.mutations,i=>{let s=new nt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new nt(n,0),i=this.wr.firstAfterOrEqual(r);return A.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var IE=class{constructor(e){this.vr=e,this.docs=function(){return new qe(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return A.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(n))}getEntries(e,n){let r=ei();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Vn.newInvalidDocument(i))}),A.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ei(),o=n.path,a=new H(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||c8(a8(u),r)<=0||(i.has(u.key)||xg(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return A.resolve(s)}getAllFromCollectionGroup(e,n,r,i){W()}Fr(e,n){return A.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new CE(this)}getSize(e){return A.resolve(this.size)}},CE=class extends yE{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),A.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var DE=class{constructor(e){this.persistence=e,this.Mr=new es(n=>yI(n),_I),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Au,this.targetCount=0,this.Br=xu.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),A.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new xu(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,A.resolve()}updateTargetData(e,n){return this.qn(n),A.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),A.waitFor(s).next(()=>i)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return A.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),A.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),A.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),A.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return A.resolve(r)}containsKey(e,n){return A.resolve(this.Nr.containsKey(n))}};var TE=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new T1(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new DE(this),this.indexManager=new gE,this.remoteDocumentCache=function(i){return new IE(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new pE(n),this.$r=new wE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new EE(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){k("MemoryPersistence","Starting transaction:",e);let i=new SE(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return A.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},SE=class extends Fb{constructor(e){super(),this.currentSequenceNumber=e}},xE=class t{constructor(e){this.persistence=e,this.zr=new Au,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw W()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),A.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),A.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),A.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Jr,r=>{let i=H.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return A.or([()=>A.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var AE=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=pe(),i=pe();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var ME=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var RE=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return _R()?8:eg.v($e())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new ME;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(mu()<=fe.DEBUG&&k("QueryEngine","SDK will not create cache indexes for query:",La(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),A.resolve()):(mu()<=fe.DEBUG&&k("QueryEngine","Query:",La(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(mu()<=fe.DEBUG&&k("QueryEngine","The SDK decides to create cache indexes for query:",La(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):A.resolve())}ji(e,n){if(s1(n))return A.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=eE(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=pe(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.Zi(n,a);return this.Xi(n,l,o,c.readTime)?this.ji(e,eE(n,null,"F")):this.es(e,l,n,c)}))})))}Hi(e,n,r,i){return s1(n)||i.isEqual(ee.min())?A.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?A.resolve(null):(mu()<=fe.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),La(n)),this.es(e,o,n,o8(i,-1)).next(a=>a))})}Zi(e,n){let r=new kt(V1(e));return n.forEach((i,s)=>{xg(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return mu()<=fe.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",La(n)),this.zi.getDocumentsMatchingQuery(e,n,no.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var PE=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new qe(we),this.rs=new es(s=>yI(s),_I),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vE(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function J8(t,e,n,r){return new PE(t,e,n,r)}function iN(t,e){return _(this,null,function*(){let n=te(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=pe();for(let l of i){o.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of s){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})})}function Z8(t,e){let n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let d=l.batch,h=d.keys(),f=A.resolve();return h.forEach(p=>{f=f.next(()=>u.getEntry(c,p)).next(m=>{let g=l.docVersions.get(p);ke(g!==null),m.version.compareTo(g)<0&&(d.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),u.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=pe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function sN(t){let e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function eK(t,e){let n=te(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((u,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Ut.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),function(m,g,y){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,f,u)&&a.push(n.Qr.updateTargetData(s,f))});let c=ei(),l=pe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(tK(s,o,e.documentUpdates).next(u=>{c=u.cs,l=u.ls})),!r.isEqual(ee.min())){let u=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return A.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ns=i,s))}function tK(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ei();return n.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ee.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):k("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:o,ls:i}})}function nK(t,e){let n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rK(t,e){let n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,A.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Su(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function kE(t,e,n){return _(this,null,function*(){let r=te(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Fu(o))throw o;k("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function m1(t,e,n){let r=te(t),i=ee.min(),s=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){let d=te(c),h=d.rs.get(u);return h!==void 0?A.resolve(d.ns.get(h)):d.Qr.getTargetData(l,u)}(r,o,br(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:pe())).next(a=>(iK(r,v8(e),a),{documents:a,hs:s})))}function iK(t,e,n){let r=t.ss.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var dg=class{constructor(){this.activeTargetIds=D8()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var NE=class{constructor(){this.no=new dg,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new dg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var OE=class{io(e){}shutdown(){}};var hg=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){k("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){k("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Kp=null;function Db(){return Kp===null?Kp=function(){return 268435456+Math.round(2147483648*Math.random())}():Kp++,"0x"+Kp.toString(16)}var sK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var FE=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Pt="WebChannelConnection",LE=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=Db(),c=this.bo(n,r.toUriEncodedString());k("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,s,o),this.Co(n,c,l,i).then(u=>(k("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw za("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ic}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=sK[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=Db();return new Promise((o,a)=>{let c=new Gk;c.setWithCredentials(!0),c.listenOnce(qk.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Wp.NO_ERROR:let u=c.getResponseJson();k(Pt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Wp.TIMEOUT:k(Pt,`RPC '${e}' ${s} timed out`),a(new L(S.DEADLINE_EXCEEDED,"Request time out"));break;case Wp.HTTP_ERROR:let d=c.getStatus();if(k(Pt,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let p=function(g){let y=g.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(y)>=0?y:S.UNKNOWN}(f.status);a(new L(p,f.message))}else a(new L(S.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new L(S.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{k(Pt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);k(Pt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}Fo(e,n,r){let i=Db(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Hk(),a=zk(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let u=s.join("");k(Pt,`Creating RPC '${e}' stream ${i}: ${u}`,c);let d=o.createWebChannel(u,c),h=!1,f=!1,p=new FE({lo:g=>{f?k(Pt,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(h||(k(Pt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),k(Pt,`RPC '${e}' stream ${i} sending:`,g),d.send(g))},ho:()=>d.close()}),m=(g,y,v)=>{g.listen(y,E=>{try{v(E)}catch(w){setTimeout(()=>{throw w},0)}})};return m(d,gu.EventType.OPEN,()=>{f||k(Pt,`RPC '${e}' stream ${i} transport opened.`)}),m(d,gu.EventType.CLOSE,()=>{f||(f=!0,k(Pt,`RPC '${e}' stream ${i} transport closed`),p.Vo())}),m(d,gu.EventType.ERROR,g=>{f||(f=!0,za(Pt,`RPC '${e}' stream ${i} transport errored:`,g),p.Vo(new L(S.UNAVAILABLE,"The operation could not be completed")))}),m(d,gu.EventType.MESSAGE,g=>{var y;if(!f){let v=g.data[0];ke(!!v);let E=v,w=E.error||((y=E[0])===null||y===void 0?void 0:y.error);if(w){k(Pt,`RPC '${e}' stream ${i} received error:`,w);let b=w.status,C=function(F){let K=tt[F];if(K!==void 0)return Q1(K)}(b),M=w.message;C===void 0&&(C=S.INTERNAL,M="Unknown error status: "+b+" with message "+w.message),f=!0,p.Vo(new L(C,M)),d.close()}else k(Pt,`RPC '${e}' stream ${i} received:`,v),p.mo(v)}}),m(a,Wk.STAT_EVENT,g=>{g.stat===Ib.PROXY?k(Pt,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===Ib.NOPROXY&&k(Pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}};function Tb(){return typeof document<"u"?document:null}function Ag(t){return new lE(t,!0)}var fg=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&k("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var pg=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new fg(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return _(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return _(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return _(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===S.RESOURCE_EXHAUSTED?(Ir(n.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===S.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new L(S.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>_(this,null,function*(){this.state=0,this.start()}))}__(e){return k("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(k("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},VE=class extends pg{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=U8(this.serializer,e),r=function(s){if(!("targetChange"in s))return ee.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?Er(o.readTime):ee.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=fE(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=Jb(c)?{documents:H8(s,c)}:{query:z8(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=X1(s,o.resumeToken);let l=uE(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ee.min())>0){a.readTime=lg(s,o.snapshotVersion.toTimestamp());let l=uE(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=W8(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=fE(this.serializer),n.removeTarget=e,this.t_(n)}},jE=class extends pg{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=$8(e.writeResults,e.commitTime),r=Er(e.commitTime);return this.listener.T_(r,n)}return ke(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=fE(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>B8(this.serializer,r))};this.t_(n)}};var UE=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new L(S.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,dE(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(S.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,dE(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(S.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var BE=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Ir(n),this.g_=!1):k("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var $E=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>_(this,null,function*(){co(this)&&(k("RemoteStore","Restarting streams for network reachability change."),yield function(c){return _(this,null,function*(){let l=te(c);l.v_.add(4),yield Lu(l),l.x_.set("Unknown"),l.v_.delete(4),yield Mg(l)})}(this))}))}),this.x_=new BE(r,i)}};function Mg(t){return _(this,null,function*(){if(co(t))for(let e of t.F_)yield e(!0)})}function Lu(t){return _(this,null,function*(){for(let e of t.F_)yield e(!1)})}function oN(t,e){let n=te(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),EI(n)?bI(n):oc(n).Jo()&&wI(n,e))}function aN(t,e){let n=te(t),r=oc(n);n.C_.delete(e),r.Jo()&&cN(n,e),n.C_.size===0&&(r.Jo()?r.Xo():co(n)&&n.x_.set("Unknown"))}function wI(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oc(t).c_(e)}function cN(t,e){t.O_.Oe(e),oc(t).l_(e)}function bI(t){t.O_=new cE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),oc(t).start(),t.x_.p_()}function EI(t){return co(t)&&!oc(t).Ho()&&t.C_.size>0}function co(t){return te(t).v_.size===0}function lN(t){t.O_=void 0}function oK(t){return _(this,null,function*(){t.C_.forEach((e,n)=>{wI(t,e)})})}function aK(t,e){return _(this,null,function*(){lN(t),EI(t)?(t.x_.S_(e),bI(t)):t.x_.set("Unknown")})}function cK(t,e,n){return _(this,null,function*(){if(t.x_.set("Online"),e instanceof ag&&e.state===2&&e.cause)try{yield function(i,s){return _(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){k("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield gg(t,r)}else if(e instanceof $a?t.O_.$e(e):e instanceof og?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ee.min()))try{let r=yield sN(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=s.C_.get(l);u&&s.C_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let u=s.C_.get(c);if(!u)return;s.C_.set(c,u.withResumeToken(Ut.EMPTY_BYTE_STRING,u.snapshotVersion)),cN(s,c);let d=new Su(u.target,c,l,u.sequenceNumber);wI(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){k("RemoteStore","Failed to raise snapshot:",r),yield gg(t,r)}})}function gg(t,e,n){return _(this,null,function*(){if(!Fu(e))throw e;t.v_.add(1),yield Lu(t),t.x_.set("Offline"),n||(n=()=>sN(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){k("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield Mg(t)}))})}function uN(t,e){return e().catch(n=>gg(t,n,e))}function Rg(t){return _(this,null,function*(){let e=te(t),n=ts(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;lK(e);)try{let i=yield nK(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,uK(e,i)}catch(i){yield gg(e,i)}dN(e)&&hN(e)})}function lK(t){return co(t)&&t.D_.length<10}function uK(t,e){t.D_.push(e);let n=ts(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function dN(t){return co(t)&&!ts(t).Ho()&&t.D_.length>0}function hN(t){ts(t).start()}function dK(t){return _(this,null,function*(){ts(t).d_()})}function hK(t){return _(this,null,function*(){let e=ts(t);for(let n of t.D_)e.I_(n.mutations)})}function fK(t,e,n){return _(this,null,function*(){let r=t.D_.shift(),i=iE.from(r,e,n);yield uN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Rg(t)})}function pK(t,e){return _(this,null,function*(){e&&ts(t).P_&&(yield function(r,i){return _(this,null,function*(){if(function(o){return P8(o)&&o!==S.ABORTED}(i.code)){let s=r.D_.shift();ts(r).Zo(),yield uN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Rg(r)}})}(t,e)),dN(t)&&hN(t)})}function y1(t,e){return _(this,null,function*(){let n=te(t);n.asyncQueue.verifyOperationInProgress(),k("RemoteStore","RemoteStore received new credentials");let r=co(n);n.v_.add(3),yield Lu(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Mg(n)})}function gK(t,e){return _(this,null,function*(){let n=te(t);e?(n.v_.delete(2),yield Mg(n)):e||(n.v_.add(2),yield Lu(n),n.x_.set("Unknown"))})}function oc(t){return t.N_||(t.N_=function(n,r,i){let s=te(n);return s.R_(),new VE(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:oK.bind(null,t),To:aK.bind(null,t),u_:cK.bind(null,t)}),t.F_.push(e=>_(this,null,function*(){e?(t.N_.Zo(),EI(t)?bI(t):t.x_.set("Unknown")):(yield t.N_.stop(),lN(t))}))),t.N_}function ts(t){return t.B_||(t.B_=function(n,r,i){let s=te(n);return s.R_(),new jE(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:dK.bind(null,t),To:pK.bind(null,t),E_:hK.bind(null,t),T_:fK.bind(null,t)}),t.F_.push(e=>_(this,null,function*(){e?(t.B_.Zo(),yield Rg(t)):(yield t.B_.stop(),t.D_.length>0&&(k("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var HE=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function II(t,e){if(Ir("AsyncQueue",`${e}: ${t}`),Fu(t))return new L(S.UNAVAILABLE,`${e}: ${t}`);throw t}var mg=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=yu(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var yg=class{constructor(){this.L_=new qe(H.comparator)}track(e){let n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):W():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}},ec=class t{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,mg.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var zE=class{constructor(){this.q_=void 0,this.Q_=[]}},qE=class{constructor(){this.queries=new es(e=>L1(e),Sg),this.onlineState="Unknown",this.K_=new Set}};function mK(t,e){return _(this,null,function*(){let n=te(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new zE),i)try{s.q_=yield n.onListen(r)}catch(o){let a=II(o,`Initialization of query '${La(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&CI(n)})}function yK(t,e){return _(this,null,function*(){let n=te(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function _K(t,e){let n=te(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&CI(n)}function vK(t,e,n){let r=te(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function CI(t){t.K_.forEach(e=>{e.next()})}var WE=class{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ec(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var _g=class{constructor(e){this.key=e}},vg=class{constructor(e){this.key=e}},GE=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=pe(),this.mutatedKeys=pe(),this.ua=V1(e),this.ca=new mg(this.ua)}get la(){return this.oa}ha(e,n){let r=n?n.Pa:new yg,i=n?n.ca:this.ca,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{let h=i.get(u),f=xg(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),g=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),g=!0,(c&&this.ua(f,c)>0||l&&this.ua(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),g=!0):h&&!f&&(r.track({type:1,doc:h}),g=!0,(c||l)&&(a=!0)),g&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let o=e.Pa.k_();o.sort((u,d)=>function(f,p){let m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return m(f)-m(p)}(u.type,d.type)||this.ua(u.doc,d.doc)),this.Ta(r),i=i!=null&&i;let a=n&&!i?this.Ea():[],c=this.aa.size===0&&this.current&&!i?1:0,l=c!==this._a;return this._a=c,o.length!==0||l?{snapshot:new ec(this.query,e.ca,s,o,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new yg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=pe(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});let n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new vg(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new _g(r))}),n}Ra(e){this.oa=e.hs,this.aa=pe();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return ec.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},KE=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},YE=class{constructor(e){this.key=e,this.ma=!1}},QE=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new es(a=>L1(a),Sg),this.pa=new Map,this.ya=new Set,this.wa=new qe(H.comparator),this.Sa=new Map,this.ba=new Au,this.Da={},this.Ca=new Map,this.va=xu.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function wK(t,e){return _(this,null,function*(){let n=MK(t),r,i,s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{let o=yield rK(n.localStore,br(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield bK(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&oN(n.remoteStore,o)}return i})}function bK(t,e,n,r,i){return _(this,null,function*(){t.Ma=(d,h,f)=>function(m,g,y,v){return _(this,null,function*(){let E=g.view.ha(y);E.Xi&&(E=yield m1(m.localStore,g.query,!1).then(({documents:M})=>g.view.ha(M,E)));let w=v&&v.targetChanges.get(g.targetId),b=v&&v.targetMismatches.get(g.targetId)!=null,C=g.view.applyChanges(E,m.isPrimaryClient,w,b);return v1(m,g.targetId,C.da),C.snapshot})}(t,d,h,f);let s=yield m1(t.localStore,e,!0),o=new GE(e,s.hs),a=o.ha(s.documents),c=Tu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,c);v1(t,n,l.da);let u=new KE(e,n,o);return t.ga.set(e,u),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),l.snapshot})}function EK(t,e){return _(this,null,function*(){let n=te(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Sg(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield kE(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),aN(n.remoteStore,r.targetId),XE(n,r.targetId)}).catch(Ou))):(XE(n,r.targetId),yield kE(n.localStore,r.targetId,!0))})}function IK(t,e,n){return _(this,null,function*(){let r=RK(t);try{let i=yield function(o,a){let c=te(o),l=Tt.now(),u=a.reduce((f,p)=>f.add(p.key),pe()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=ei(),m=pe();return c.os.getEntries(f,u).next(g=>{p=g,p.forEach((y,v)=>{v.isValidDocument()||(m=m.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,p)).next(g=>{d=g;let y=[];for(let v of a){let E=R8(v,d.get(v.key).overlayedDocument);E!=null&&y.push(new ti(v.key,E,A1(E.value.mapValue),Qi.exists(!0)))}return c.mutationQueue.addMutationBatch(f,l,y,a)}).next(g=>{h=g;let y=g.applyToLocalDocumentSet(d,m);return c.documentOverlayCache.saveOverlays(f,g.batchId,y)})}).then(()=>({batchId:h.batchId,changes:U1(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Da[o.currentUser.toKey()];l||(l=new qe(we)),l=l.insert(a,c),o.Da[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Vu(r,i.changes),yield Rg(r.remoteStore)}catch(i){let s=II(i,"Failed to persist write");n.reject(s)}})}function fN(t,e){return _(this,null,function*(){let n=te(t);try{let r=yield eK(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Sa.get(s);o&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?ke(o.ma):i.removedDocuments.size>0&&(ke(o.ma),o.ma=!1))}),yield Vu(n,r,e)}catch(r){yield Ou(r)}})}function _1(t,e,n){let r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ga.forEach((s,o)=>{let a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=te(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(let h of d.Q_)h.U_(a)&&(l=!0)}),l&&CI(c)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function CK(t,e,n){return _(this,null,function*(){let r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Sa.get(e),s=i&&i.key;if(s){let o=new qe(H.comparator);o=o.insert(s,Vn.newNoDocument(s,ee.min()));let a=pe().add(s),c=new sg(ee.min(),new Map,new qe(we),o,a);yield fN(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),DI(r)}else yield kE(r.localStore,e,!1).then(()=>XE(r,e,n)).catch(Ou)})}function DK(t,e){return _(this,null,function*(){let n=te(t),r=e.batch.batchId;try{let i=yield Z8(n.localStore,e);gN(n,r,null),pN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Vu(n,i)}catch(i){yield Ou(i)}})}function TK(t,e,n){return _(this,null,function*(){let r=te(t);try{let i=yield function(o,a){let c=te(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(ke(d!==null),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);gN(r,e,n),pN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Vu(r,i)}catch(i){yield Ou(i)}})}function pN(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function gN(t,e,n){let r=te(t),i=r.Da[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function XE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||mN(t,r)})}function mN(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(aN(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),DI(t))}function v1(t,e,n){for(let r of n)r instanceof _g?(t.ba.addReference(r.key,e),SK(t,r)):r instanceof vg?(k("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||mN(t,r.key)):W()}function SK(t,e){let n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(k("SyncEngine","New document in limbo: "+n),t.ya.add(r),DI(t))}function DI(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new H(Ue.fromString(e)),r=t.va.next();t.Sa.set(r,new YE(n)),t.wa=t.wa.insert(n,r),oN(t.remoteStore,new Su(br(O1(n.path)),r,"TargetPurposeLimboResolution",T1._e))}}function Vu(t,e,n){return _(this,null,function*(){let r=te(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,c)=>{o.push(r.Ma(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);let u=AE.Ki(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.fa.u_(i),yield function(c,l){return _(this,null,function*(){let u=te(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>A.forEach(l,h=>A.forEach(h.qi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>A.forEach(h.Qi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Fu(d))throw d;k("LocalStore","Failed to update sequence numbers: "+d)}for(let d of l){let h=d.targetId;if(!d.fromCache){let f=u.ns.get(h),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);u.ns=u.ns.insert(h,m)}}})}(r.localStore,s))})}function xK(t,e){return _(this,null,function*(){let n=te(t);if(!n.currentUser.isEqual(e)){k("SyncEngine","User change. New user:",e.toKey());let r=yield iN(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(c=>{c.reject(new L(S.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vu(n,r.us)}})}function AK(t,e){let n=te(t),r=n.Sa.get(e);if(r&&r.ma)return pe().add(r.key);{let i=pe(),s=n.pa.get(e);if(!s)return i;for(let o of s){let a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function MK(t){let e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CK.bind(null,e),e.fa.u_=_K.bind(null,e.eventManager),e.fa.xa=vK.bind(null,e.eventManager),e}function RK(t){let e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TK.bind(null,e),e}var wg=class{constructor(){this.synchronizeTabs=!1}initialize(e){return _(this,null,function*(){this.serializer=Ag(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return J8(this.persistence,new RE,e.initialUser,this.serializer)}createPersistence(e){return new TE(xE.Hr,this.serializer)}createSharedClientState(e){return new NE}terminate(){return _(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var JE=class{initialize(e,n){return _(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xK.bind(null,this.syncEngine),yield gK(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new qE}()}createDatastore(e){let n=Ag(e.databaseInfo.databaseId),r=function(s){return new LE(s)}(e.databaseInfo);return function(s,o,a,c){return new UE(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new $E(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_1(this.syncEngine,n,0),function(){return hg.D()?new hg:new OE}())}createSyncEngine(e,n){return function(i,s,o,a,c,l,u){let d=new QE(i,s,o,a,c,l);return u&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return _(this,null,function*(){var e;yield function(r){return _(this,null,function*(){let i=te(r);k("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield Lu(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var ZE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var eI=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=Jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>_(this,null,function*(){k("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(k("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(S.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=II(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Sb(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),k("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield iN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function w1(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield kK(t);k("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>y1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>y1(e.remoteStore,i)),t._onlineComponents=e})}function PK(t){return t.name==="FirebaseError"?t.code===S.FAILED_PRECONDITION||t.code===S.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function kK(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){k("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Sb(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!PK(n))throw n;za("Error using user provided cache. Falling back to memory cache: "+n),yield Sb(t,new wg)}}else k("FirestoreClient","Using default OfflineComponentProvider"),yield Sb(t,new wg);return t._offlineComponents})}function yN(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(k("FirestoreClient","Using user provided OnlineComponentProvider"),yield w1(t,t._uninitializedComponentsProvider._online)):(k("FirestoreClient","Using default OnlineComponentProvider"),yield w1(t,new JE))),t._onlineComponents})}function NK(t){return yN(t).then(e=>e.syncEngine)}function OK(t){return _(this,null,function*(){let e=yield yN(t),n=e.eventManager;return n.onListen=wK.bind(null,e.syncEngine),n.onUnlisten=EK.bind(null,e.syncEngine),n})}function FK(t,e,n={}){let r=new Ln;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(s,o,a,c,l){let u=new ZE({next:h=>{o.enqueueAndForget(()=>yK(s,d)),h.fromCache&&c.source==="server"?l.reject(new L(S.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new WE(a,u,{includeMetadataChanges:!0,Z_:!0});return mK(s,d)}(yield OK(t),t.asyncQueue,e,n,r)})),r.promise}function _N(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var b1=new Map;function vN(t,e,n){if(!n)throw new L(S.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LK(t,e,n,r){if(e===!0&&r===!0)throw new L(S.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function E1(t){if(!H.isDocumentKey(t))throw new L(S.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function I1(t){if(H.isDocumentKey(t))throw new L(S.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Pg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W()}function Mu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Pg(t);throw new L(S.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var bg=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_N((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(S.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(S.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(S.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},tc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new xb;switch(r.type){case"firstParty":return new Pb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(S.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=b1.get(n);r&&(k("ComponentProvider","Removing Datastore"),b1.delete(n),r.terminate())}(this),Promise.resolve()}};function wN(t,e,n,r={}){var i;let s=(t=Mu(t,tc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=gt.MOCK_USER;else{a=Of(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new gt(l)}t._authCredentials=new Ab(new Xp(a,c))}}var nc=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},bn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Xi=class t extends nc{constructor(e,n,r){super(e,n,O1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new H(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function ac(t,e,...n){if(t=et(t),vN("collection","path",e),t instanceof tc){let r=Ue.fromString(e,...n);return I1(r),new Xi(t,null,r)}{if(!(t instanceof bn||t instanceof Xi))throw new L(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ue.fromString(e,...n));return I1(r),new Xi(t.firestore,null,r)}}function kg(t,e,...n){if(t=et(t),arguments.length===1&&(e=Jp.newId()),vN("doc","path",e),t instanceof tc){let r=Ue.fromString(e,...n);return E1(r),new bn(t,null,new H(r))}{if(!(t instanceof bn||t instanceof Xi))throw new L(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ue.fromString(e,...n));return E1(r),new bn(t.firestore,t instanceof Xi?t.converter:null,new H(r))}}var tI=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new fg(this,"async_queue_retry"),this._u=()=>{let n=Tb();n&&k("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Tb();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=Tb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new Ln;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return _(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Fu(e))throw e;k("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ir("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=HE.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&W()}verifyOperationInProgress(){}hu(){return _(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var rc=class extends tc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new tI}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||IN(this),this._firestoreClient.terminate()}};function bN(t,e){let n=typeof t=="object"?t:Bi(),r=typeof t=="string"?t:e||"(default)",i=Us(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Nf("firestore");s&&wN(i,...s)}return i}function EN(t){return t._firestoreClient||IN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function IN(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,l,u){return new Ub(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,_N(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new eI(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Ru=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ut.fromBase64String(e))}catch(n){throw new L(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Pu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Eg=class{constructor(e){this._methodName=e}};var ku=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}};var VK=/^__.*__$/,nI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ti(e,this.data,this.fieldMask,n,this.fieldTransforms):new ao(e,this.data,n,this.fieldTransforms)}};function CN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}var rI=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Ig(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(CN(this.du)&&VK.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},iI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ag(e)}Su(e,n,r,i=!1){return new rI({du:e,methodName:n,wu:r,path:un.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function DN(t){let e=t._freezeSettings(),n=Ag(t._databaseId);return new iI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jK(t,e,n,r,i,s={}){let o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);xN("Data must be an object, but it was:",o,r);let a=TN(r,o),c,l;if(s.merge)c=new vr(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let u=[];for(let d of s.mergeFields){let h=BK(e,d,n);if(!o.contains(h))throw new L(S.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);HK(u,h)||u.push(h)}c=new vr(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new nI(new Fn(a),c,l)}function UK(t,e,n,r=!1){return TI(n,t.Su(r?4:3,e))}function TI(t,e){if(SN(t=et(t)))return xN("Unsupported field value:",e,t),TN(t,e);if(t instanceof Eg)return function(r,i){if(!CN(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=TI(a,i.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return T8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Tt.fromDate(r);return{timestampValue:lg(i.serializer,s)}}if(r instanceof Tt){let s=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lg(i.serializer,s)}}if(r instanceof ku)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ru)return{bytesValue:X1(i.serializer,r._byteString)};if(r instanceof bn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:vI(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Pg(r)}`)}(t,e)}function TN(t,e){let n={};return S1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sc(t,(r,i)=>{let s=TI(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function SN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof ku||t instanceof Ru||t instanceof bn||t instanceof Eg)}function xN(t,e,n){if(!SN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Pg(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function BK(t,e,n){if((e=et(e))instanceof Pu)return e._internalPath;if(typeof e=="string")return AN(t,e);throw Ig("Field path arguments must be of type string or ",t,!1,void 0,n)}var $K=new RegExp("[~\\*/\\[\\]]");function AN(t,e,n){if(e.search($K)>=0)throw Ig(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pu(...e.split("."))._internalPath}catch{throw Ig(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ig(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new L(S.INVALID_ARGUMENT,a+t+c)}function HK(t,e){return t.some(n=>n.isEqual(e))}var Cg=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new sI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(SI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},sI=class extends Cg{data(){return super.data()}};function SI(t,e){return typeof e=="string"?AN(t,e):e instanceof Pu?e._internalPath:e._delegate._internalPath}function zK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nu=class{},oI=class extends Nu{};function ju(t,e,...n){let r=[];e instanceof Nu&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof aI).length,a=s.filter(c=>c instanceof Dg).length;if(o>1||o>0&&a>0)throw new L(S.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Dg=class t extends oI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return MN(e._query,n),new nc(e.firestore,e.converter,Zb(e._query,n))}_parse(e){let n=DN(e.firestore);return function(s,o,a,c,l,u,d){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new L(S.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){D1(d,u);let f=[];for(let p of d)f.push(C1(c,s,p));h={arrayValue:{values:f}}}else h=C1(c,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||D1(d,u),h=UK(a,o,d,u==="in"||u==="not-in");return rt.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function cc(t,e,n){let r=e,i=SI("where",t);return Dg._create(i,r,n)}var aI=class t extends Nu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:jn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)MN(o,c),o=Zb(o,c)}(e._query,n),new nc(e.firestore,e.converter,Zb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function C1(t,e,n){if(typeof(n=et(n))=="string"){if(n==="")throw new L(S.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F1(e)&&n.indexOf("/")!==-1)throw new L(S.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ue.fromString(n));if(!H.isDocumentKey(r))throw new L(S.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zk(t,new H(r))}if(n instanceof bn)return Zk(t,n._key);throw new L(S.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pg(n)}.`)}function D1(t,e){if(!Array.isArray(t)||t.length===0)throw new L(S.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MN(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(S.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(S.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var cI=class{convertValue(e,n="none"){switch(ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw W()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return sc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new ku(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=gI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Iu(e));default:return null}}convertTimestamp(e){let n=Ji(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ue.fromString(e);ke(rN(r));let i=new rg(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||Ir(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function qK(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ba=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},lI=class extends Cg{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ha(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(SI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ha=class extends lI{data(e={}){return super.data(e)}},uI=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ba(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ha(this._firestore,this._userDataWriter,r.key,r,new Ba(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Ha(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ba(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Ha(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ba(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:WK(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function WK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}var dI=class extends cI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ru(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}};function Uu(t){t=Mu(t,nc);let e=Mu(t.firestore,rc),n=EN(e),r=new dI(e);return zK(t._query),FK(n,t._query).then(i=>new uI(e,r,t,i))}function xI(t){return RN(Mu(t.firestore,rc),[new Du(t._key,Qi.none())])}function AI(t,e){let n=Mu(t.firestore,rc),r=kg(t),i=qK(t.converter,e);return RN(n,[jK(DN(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Qi.exists(!1))]).then(()=>r)}function RN(t,e){return function(r,i){let s=new Ln;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return IK(yield NK(r),i,s)})),s.promise}(EN(t),e)}(function(e,n=!0){(function(i){ic=i})(hr),dr(new Zt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new rc(new Mb(r.getProvider("auth-internal")),new Nb(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rg(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Le(Yk,"4.4.1",e),Le(Yk,"4.4.1","esm2017")})();var lo=class{constructor(e){return e}},PN="firestore",MI=class{constructor(){return $s(PN)}};var RI=new U("angularfire2.firestore-instances");function GK(t,e){let n=Ta(PN,t,e);return n&&new lo(n)}function KK(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new lo(r)}}var YK={provide:MI,deps:[[new Ye,RI]]},QK={provide:lo,useFactory:GK,deps:[[new Ye,RI],cn]},XK=(()=>{class t{constructor(){Le("angularfire",Wr.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=st({type:t});static \u0275inj=it({providers:[QK,YK]})}return t})();function PI(t,...e){return{ngModule:XK,providers:[{provide:RI,useFactory:KK(t),multi:!0,deps:[me,dt,Hi,Gr,[new Ye,qs],[new Ye,$i],...e]}]}}var kI=zi(bN,!0);var lc=(()=>{let e=class e{constructor(r){this.ajax=r,this.firestore=R(lo),this.datos=[]}obtenerDatos(r){let i=ju(ac(this.firestore,"monedas"),cc("idUsuario","==",r));Uu(i).then(s=>{this.datos=s.docs.map(o=>o.data())})}obtenerMonedas(r){this.ajax.seguidas=[],this.ajax.index=0;let i=ju(ac(this.firestore,"monedas"),cc("idUsuario","==",r));Uu(i).then(s=>{let o=s.docs.map(c=>c.data()),a=[];o.forEach(c=>{a.push(c.idMoneda)}),this.ajax.peticionSeguidas(a)})}seguirCrypto(r,i,s=!1){let o=ju(ac(this.firestore,"monedas"),cc("idUsuario","==",r),cc("idMoneda","==",i));Uu(o).then(a=>{if(a.empty){let c=AI(ac(this.firestore,"monedas"),{idUsuario:r,idMoneda:i}).then(()=>{s?this.obtenerMonedas(r):this.obtenerDatos(r)})}else xI(kg(this.firestore,"monedas",a.docs[0].id)).then(()=>{s?this.obtenerMonedas(r):this.obtenerDatos(r)})})}};e.\u0275fac=function(i){return new(i||e)(j(Vi))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var En=(()=>{let e=class e{constructor(r){this.router=r,this.auth=R(cn),this.sesion=kn(),this.usuario=null}cerrarSesion(){let r=kn();gp(r).then(()=>{this.usuario=null}).catch(i=>{console.log("Error al cerrar sesi\xF3n")})}registro(r,i,s,o){if(r===i){let a=kn();dp(a,s,r).then(c=>{let l=c.user;a.currentUser&&fp(a.currentUser,{displayName:o}).then(()=>{this.usuario=a.currentUser,this.router.navigate([""])}).catch(u=>{console.log("Error al establecer el displayName:",u)})}).catch(c=>{let l=c.code,u=c.message;console.log(u)})}}iniciarSesion(r,i){let s=kn();hp(s,r,i).then(o=>{this.usuario=o.user,this.router.navigate([""])}).catch(o=>{let a=o.code,c=o.message;console.log(c)})}iniciarSesionGoogle(){let r=kn(),i=new ql;yp(r,i).then(s=>{let o=ql.credentialFromResult(s);if(o){let a=o.accessToken}this.usuario=s.user,this.router.navigate([""])}).catch(s=>{let o=s.code,a=s.message,c=s.customData.email,l=ql.credentialFromError(s)})}};e.\u0275fac=function(i){return new(i||e)(j(Kt))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function JK(t,e){if(t&1&&ie(0,"p",13),t&2){let n=J(2);V("innerHTML",n.ajax.detalles.description.es,Wy)}}function ZK(t,e){if(t&1&&ie(0,"p",13),t&2){let n=J(2);V("innerHTML",n.ajax.detalles.description.en,Wy)}}function e7(t,e){t&1&&(I(0,"p"),T(1,"Descripci\xF3n no disponible"),D())}function t7(t,e){if(t&1&&(I(0,"p",14),T(1),D()),t&2){let n=J(2);O(),xt("Surgi\xF3 el ",n.ajax.detalles.genesis_date,"")}}function n7(t,e){if(t&1&&(I(0,"a",15),T(1,"P\xE1gina Principal"),D()),t&2){let n=J(2);V("href",n.ajax.detalles.links.homepage[0],on)}}function r7(t,e){if(t&1&&(I(0,"a",15),T(1,"Twitter"),D()),t&2){let n=J(2);V("href","https://twitter.com/"+n.ajax.detalles.links.twitter_screen_name,on)}}function i7(t,e){if(t&1&&(I(0,"a",15),T(1,"Facebook"),D()),t&2){let n=J(2);V("href","https://facebook.com/"+n.ajax.detalles.links.facebook_username,on)}}function s7(t,e){if(t&1&&(I(0,"a",15),T(1,"Repositorio GitHub"),D()),t&2){let n=J(2);V("href",n.ajax.detalles.links.repos_url.github[0],on)}}function o7(t,e){if(t&1&&(I(0,"div",4)(1,"div"),ie(2,"img",5),D(),I(3,"div")(4,"h2",6),T(5),I(6,"span"),T(7),Wo(8,"uppercase"),D()(),I(9,"h3",7),T(10),D(),Fe(11,JK,1,1,"p",8)(12,ZK,1,1,"p",8)(13,e7,2,0,"p",9)(14,t7,2,1,"p",10),I(15,"div",11)(16,"h3"),T(17,"Links:"),D(),Fe(18,n7,2,1,"a",12)(19,r7,2,1,"a",12)(20,i7,2,1,"a",12)(21,s7,2,1,"a",12),D()()()),t&2){let n=J();O(2),V("src",n.ajax.detalles.image.large,on),O(3),xt("",n.ajax.detalles.name," "),O(2),Jn(Go(8,12,n.ajax.detalles.symbol)),O(3),xt("",n.ajax.detalles.market_data.current_price.eur,"\u20AC"),O(),V("ngIf",n.ajax.detalles.description.es),O(),V("ngIf",!n.ajax.detalles.description.es&&n.ajax.detalles.description.en),O(),V("ngIf",!n.ajax.detalles.description.es&&!n.ajax.detalles.description.en),O(),V("ngIf",n.ajax.detalles.genesis_date),O(4),V("ngIf",n.ajax.detalles.links.homepage[0]),O(),V("ngIf",n.ajax.detalles.links.twitter_screen_name),O(),V("ngIf",n.ajax.detalles.links.facebook_username),O(),V("ngIf",n.ajax.detalles.links.repos_url.github[0])}}function a7(t,e){if(t&1){let n=ct();I(0,"button",19),Ce("click",function(){ot(n);let i=J(2);return at(i.seguir(i.ajax.detalles.id))}),T(1,"Seguir"),D()}}function c7(t,e){if(t&1){let n=ct();I(0,"button",19),Ce("click",function(){ot(n);let i=J(2);return at(i.seguir(i.ajax.detalles.id))}),T(1,"Dejar de seguir"),D()}}function l7(t,e){if(t&1&&(I(0,"div",16),ie(1,"canvas",17),Fe(2,a7,2,0,"button",18)(3,c7,2,0,"button",18),D()),t&2){let n=J();O(2),V("ngIf",n.comprobarMoneda(n.ajax.detalles.id)),O(),V("ngIf",!n.comprobarMoneda(n.ajax.detalles.id))}}var kN=(()=>{let e=class e{constructor(r,i,s,o){this.ajax=r,this.location=i,this.firestore=s,this.auth=o,this.id="",this.historial=[]}ngOnInit(){this.ajax.peticionDetalles(this.id),this.ajax.peticionHistorial(this.id).subscribe(r=>{this.historial=r.prices,this.renderChart()})}renderChart(){let r=document.getElementById("myChart"),i=new Ol(r,{type:"line",data:{labels:this.historial.map(s=>new Date(s[0]).toLocaleDateString()),datasets:[{label:"Historico de Cotizaci\xF3n (Euros)",data:this.historial.map(s=>s[1]),borderColor:"rgba(75, 192, 192, 1)",borderWidth:1,fill:!1}]},options:{animations:{tension:{duration:1e3,easing:"linear",from:1,to:0,loop:!0}}}})}goBack(){this.location.back()}seguir(r){this.firestore.seguirCrypto(this.auth.usuario.uid,r)}comprobarMoneda(r){return!this.firestore.datos.map(i=>i.idMoneda).includes(r)}};e.\u0275fac=function(i){return new(i||e)(q(Vi),q(bi),q(lc),q(En))},e.\u0275cmp=ut({type:e,selectors:[["app-detalle"]],inputs:{id:"id"},standalone:!0,features:[ht],decls:5,vars:2,consts:[[1,"detalles"],["routerLinkActive","router-link-active",1,"volver","seguir",3,"click"],["class","datos",4,"ngIf"],["class","grafica",4,"ngIf"],[1,"datos"],["alt","",3,"src"],[1,"nombre"],[1,"precio"],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],["class","fecha",4,"ngIf"],[1,"links"],["target","_blank",3,"href",4,"ngIf"],[3,"innerHTML"],[1,"fecha"],["target","_blank",3,"href"],[1,"grafica"],["id","myChart"],["class","seguir",3,"click",4,"ngIf"],[1,"seguir",3,"click"]],template:function(i,s){i&1&&(I(0,"div",0)(1,"button",1),Ce("click",function(){return s.goBack()}),T(2,"Volver"),D(),Fe(3,o7,22,14,"div",2)(4,l7,4,2,"div",3),D()),i&2&&(O(3),V("ngIf",s.ajax.detalles),O(),V("ngIf",s.historial))},dependencies:[Lt,Zn,Qo,rr,qh],styles:[".detalles[_ngcontent-%COMP%]{width:80vw;margin-left:10vw;margin-top:100px}.volver[_ngcontent-%COMP%]{position:absolute;left:10vw;top:15%}.datos[_ngcontent-%COMP%]{display:flex;flex-direction:column}.datos[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:50%}.nombre[_ngcontent-%COMP%]{font-weight:700}.nombre[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:70%;color:gray}.precio[_ngcontent-%COMP%]{color:#056905}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;margin-right:20px}.grafica[_ngcontent-%COMP%]{position:absolute;width:35vw;left:50vw;top:16vh}.grafica[_ngcontent-%COMP%]   .seguir[_ngcontent-%COMP%]{margin-top:20px;width:100%;font-size:150%}"]});let t=e;return t})();var BN=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(q(vi),q(gn))},e.\u0275dir=sn({type:e});let t=e;return t})(),u7=(()=>{let e=class e extends BN{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Oc(e)))(s||e)}})(),e.\u0275dir=sn({type:e,features:[qo]});let t=e;return t})(),$N=new U("NgValueAccessor");var d7={provide:$N,useExisting:Mc(()=>dc),multi:!0};function h7(){let t=Fr()?Fr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var f7=new U("CompositionEventMode"),dc=(()=>{let e=class e extends BN{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!h7())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(q(vi),q(gn),q(f7,8))},e.\u0275dir=sn({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Ce("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[s_([d7]),qo]});let t=e;return t})();var p7=new U("NgValidators"),g7=new U("NgAsyncValidators");function HN(t){return t!=null}function zN(t){return Es(t)?Ae(t):t}function qN(t){let e={};return t.forEach(n=>{e=n!=null?N(N({},e),n):e}),Object.keys(e).length===0?null:e}function WN(t,e){return e.map(n=>n(t))}function m7(t){return!t.validate}function GN(t){return t.map(e=>m7(e)?e:n=>e.validate(n))}function y7(t){if(!t)return null;let e=t.filter(HN);return e.length==0?null:function(n){return qN(WN(n,e))}}function KN(t){return t!=null?y7(GN(t)):null}function _7(t){if(!t)return null;let e=t.filter(HN);return e.length==0?null:function(n){let r=WN(n,e).map(zN);return rm(r).pipe(re(qN))}}function YN(t){return t!=null?_7(GN(t)):null}function NN(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function v7(t){return t._rawValidators}function w7(t){return t._rawAsyncValidators}function OI(t){return t?Array.isArray(t)?t:[t]:[]}function Og(t,e){return Array.isArray(t)?t.includes(e):t===e}function ON(t,e){let n=OI(e);return OI(t).forEach(i=>{Og(n,i)||n.push(i)}),n}function FN(t,e){return OI(e).filter(n=>!Og(t,n))}var Fg=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=KN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=YN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},FI=class extends Fg{get formDirective(){return null}get path(){return null}},zu=class extends Fg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},LI=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},b7={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},bae=ve(N({},b7),{"[class.ng-submitted]":"isSubmitted"}),Lg=(()=>{let e=class e extends LI{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(q(zu,2))},e.\u0275dir=sn({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&i_("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[qo]});let t=e;return t})();var $u="VALID",Ng="INVALID",uc="PENDING",Hu="DISABLED";function E7(t){return(Vg(t)?t.validators:t)||null}function I7(t){return Array.isArray(t)?KN(t):t||null}function C7(t,e){return(Vg(e)?e.asyncValidators:t)||null}function D7(t){return Array.isArray(t)?YN(t):t||null}function Vg(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var VI=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===$u}get invalid(){return this.status===Ng}get pending(){return this.status==uc}get disabled(){return this.status===Hu}get enabled(){return this.status!==Hu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ON(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ON(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FN(e,this._rawAsyncValidators))}hasValidator(e){return Og(this._rawValidators,e)}hasAsyncValidator(e){return Og(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=uc,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Hu,this.errors=null,this._forEachChild(r=>{r.disable(ve(N({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ve(N({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=$u,this._forEachChild(r=>{r.enable(ve(N({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ve(N({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$u||this.status===uc)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hu:$u}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=uc,this._hasOwnPendingAsyncValidator=!0;let n=zN(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new _t,this.statusChanges=new _t}_calculateStatus(){return this._allControlsDisabled()?Hu:this.errors?Ng:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(uc)?uc:this._anyControlsHaveStatus(Ng)?Ng:$u}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=I7(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=D7(this._rawAsyncValidators)}};var QN=new U("CallSetDisabledState",{providedIn:"root",factory:()=>jI}),jI="always";function T7(t,e){return[...e.path,t]}function S7(t,e,n=jI){A7(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),M7(t,e),P7(t,e),R7(t,e),x7(t,e)}function LN(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function x7(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function A7(t,e){let n=v7(t);e.validator!==null?t.setValidators(NN(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=w7(t);e.asyncValidator!==null?t.setAsyncValidators(NN(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();LN(e._rawValidators,i),LN(e._rawAsyncValidators,i)}function M7(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&XN(t,e)})}function R7(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&XN(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function XN(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function P7(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function k7(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function N7(t){return Object.getPrototypeOf(t.constructor)===u7}function O7(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===dc?n=s:N7(s)?r=s:i=s}),i||r||n||null}function VN(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function jN(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var F7=class extends VI{constructor(e=null,n,r){super(E7(n),C7(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(jN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){VN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){VN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){jN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var L7={provide:zu,useExisting:Mc(()=>qu)},UN=(()=>Promise.resolve())(),qu=(()=>{let e=class e extends zu{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new F7,this._registered=!1,this.name="",this.update=new _t,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=O7(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),k7(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){S7(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){UN.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Cs(i);UN.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?T7(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(q(FI,9),q(p7,10),q(g7,10),q($N,10),q(bs,8),q(QN,8))},e.\u0275dir=sn({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s_([L7]),qo,yi]});let t=e;return t})();var V7=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=st({type:e}),e.\u0275inj=it({});let t=e;return t})();var j7=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=st({type:e}),e.\u0275inj=it({imports:[V7]});let t=e;return t})();var hc=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:QN,useValue:r.callSetDisabledState??jI}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=st({type:e}),e.\u0275inj=it({imports:[j7]});let t=e;return t})();var ZN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ut({type:e,selectors:[["app-cuerpo"]],standalone:!0,features:[ht],decls:151,vars:0,consts:[["rel","preconnect","href","https://fonts.gstatic.com"],["href","https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap","rel","stylesheet"],["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css","integrity","sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==","crossorigin","anonymous"],[1,"main-container"],[1,"main-header"],[1,"header-container"],[1,"main-header-content-container"],[1,"main-header-content-principal"],[1,"discount-section"],[1,"discount-section__discount"],[1,"discount-section__description"],[1,"main-header-content-principal__title"],[1,"main-header-content-principal__description"],["href","#",1,"main-header-content-principal__btn"],[1,"fas","fa-angle-right"],["src","./assets/header-assets/header-Illustration.svg","alt","",1,"main-header-content-principal__illustration"],[1,"main-content"],[1,"why-us-wrapper"],[1,"stats-section"],[1,"stats-section__reference"],[1,"fas","fa-chart-line"],[1,"stats-section__reference__title"],[1,"stats-section__reference__description"],[1,"fas","fa-user"],[1,"fas","fa-globe"],["id","about",1,"why-us-section"],[1,"why-us-section__content"],[1,"why-us-section__content__title"],[1,"why-us-section__content__description"],["href","#",1,"why-us-section__content__btn"],["src","../assets/why-us-section-assets/why-us-Illustration.svg","alt","",1,"why-us-section__illustration"],[1,"benefits-section"],[1,"benefits-section__title"],[1,"benefits-section__description"],[1,"card-info"],[1,"card-info__title"],[1,"card-info__description"],[1,"card-info__advice"],["id","products",1,"cryptocurrencies-section"],[1,"cryptocurrencies-section__title"],[1,"cryptocurrencies-info-cards"],[1,"info-card"],[1,"fab","fa-bitcoin"],[1,"info-card__title"],[1,"info-card__description"],["href","#",1,"info-card__btn"],[1,"fab","fa-ethereum"],["src","./assets/others/litecoin-icon.svg","alt","",1,"info-card__icon"],["id","features",1,"features-section"],[1,"features-section__title"],[1,"invest-smart-article"],[1,"invest-smart-article__content"],[1,"invest-smart-article__content__title"],[1,"invest-smart-article__content__description"],["href","#",1,"invest-smart-article__content__btn"],["src","./assets/features-section-assets/features-section-invest.svg","alt","Crypto stats",1,"invest-smart-article__graphic"],[1,"detailed-stats-article"],[1,"detailed-stats-article__content"],[1,"detailed-stats-article__content__title"],[1,"detailed-stats-article__content__description"],["href","#",1,"detailed-stats-article__content__btn"],["src","./assets/features-section-assets/features-section-statistic.svg","alt","Detailed statistics",1,"detailed-stats-article__graphic"],[1,"grow-profit-article"],[1,"grow-profit-article__content"],[1,"grow-profit-article__content__title"],[1,"grow-profit-article__content__description"],["href","#",1,"grow-profit-article__content__btn"],["src","./assets/features-section-assets/features-section-table.svg","alt","Profit graphic",1,"grow-profit-article__graphic"],["id","contact",1,"cta-section"],[1,"cta-section__content"],[1,"cta-section__content__title"],[1,"cta-section__content__description"],[1,"cta-section__subscribe"],["type","email","placeholder","Enter your email",1,"cta-section__subscribe__input"],["href","#",1,"cta-section__subscribe__btn"]],template:function(i,s){i&1&&(ie(0,"link",0)(1,"link",1)(2,"link",2),I(3,"div",3)(4,"header",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"span",9),T(10,"75% SAVE"),D(),I(11,"span",10),T(12,"For the Black Friday weekend"),D()(),I(13,"h1",11),T(14," Fastest & "),I(15,"span"),T(16,"secure"),D(),T(17," platform to invest in "),I(18,"span"),T(19,"crypto"),D()(),I(20,"p",12),T(21," Buy and sell cryptocurrencies, trusted by 10M wallets with over $30 billion in transactions. "),D(),I(22,"a",13),T(23,"Try for FREE "),ie(24,"i",14),D()(),ie(25,"img",15),D()()(),I(26,"main",16)(27,"section",17)(28,"div",18)(29,"div",19),ie(30,"i",20),I(31,"h3",21),T(32,"$30B"),D(),I(33,"p",22),T(34," Digital Currency Exchanged "),D()(),I(35,"div",19),ie(36,"i",23),I(37,"h3",21),T(38,"10M+"),D(),I(39,"p",22),T(40," Trusted Wallets Investor "),D()(),I(41,"div",19),ie(42,"i",24),I(43,"h3",21),T(44,"195"),D(),I(45,"p",22),T(46," Countries Supported "),D()()(),I(47,"div",25)(48,"div",26)(49,"h2",27),T(50," Why you should choose "),I(51,"span"),T(52,"CRAPPO"),D()(),I(53,"p",28),T(54," Experience the next generation cryptocurrency platform. No financial borders, extra fees, and fake reviews. "),D(),I(55,"a",29),T(56,"Learn More"),D()(),ie(57,"img",30),D(),I(58,"div",31)(59,"h2",32),T(60," Check how much you can "),I(61,"span"),T(62,"earn"),D()(),I(63,"p",33),T(64," Let\u2019s check your hash rate to see how much you will earn today, Exercitation veniam consequat sunt nostrud amet. "),D(),I(65,"div",34)(66,"h4",35),T(67,"ESTIMATED 24 HOUR REVENUE:"),D(),I(68,"p",36),T(69,"0.055 130 59 ETH "),I(70,"span"),T(71,"($1275)"),D()(),I(72,"span",37),T(73,"Revenue will change based on mining difficulty and Ethereumprice."),D()()()(),I(74,"section",38)(75,"h2",39),T(76," Trade securely and market the high growth cryptocurrencies. "),D(),I(77,"div",40)(78,"div",41),ie(79,"i",42),I(80,"h3",43),T(81,"Bitcoin "),I(82,"span"),T(83,"BTC"),D()(),I(84,"p",44),T(85," Digital currency in which a record of transactions is maintained. "),D(),I(86,"a",45),T(87,"Start mining "),ie(88,"i",14),D()(),I(89,"div",41),ie(90,"i",46),I(91,"h3",43),T(92,"Ethereum "),I(93,"span"),T(94,"ETH"),D()(),I(95,"p",44),T(96," Blockchain technology to create and run decentralized digital applications. "),D(),I(97,"a",45),T(98,"Start mining "),ie(99,"i",14),D()(),I(100,"div",41),ie(101,"img",47),I(102,"h3",43),T(103,"Litecoin "),I(104,"span"),T(105,"LTC"),D()(),I(106,"p",44),T(107," Cryptocurrency that enables instant payments to anyone in the world. "),D(),I(108,"a",45),T(109,"Start mining "),ie(110,"i",14),D()()()(),I(111,"section",48)(112,"h2",49),T(113," Market sentiments, portfolio, and run the infrastructure of your choice "),D(),I(114,"article",50)(115,"div",51)(116,"h3",52),T(117,"Invest Smart"),D(),I(118,"p",53),T(119," Get full statistic information about the behaviour of buyers and sellers will help you to make the decision. "),D(),I(120,"a",54),T(121,"Learn More"),D()(),ie(122,"img",55),D(),I(123,"article",56)(124,"div",57)(125,"h3",58),T(126," Detailed Statistics "),D(),I(127,"p",59),T(128," View all mining related information in realtime, at any point at any location and decide which polls you want to mine in. "),D(),I(129,"a",60),T(130,"Learn More"),D()(),ie(131,"img",61),D(),I(132,"article",62)(133,"div",63)(134,"h3",64),T(135," Grow your profit and track your investments "),D(),I(136,"p",65),T(137," Use advanced analytical tools. Clear TradingView charts let you track current and historical profit investments. "),D(),I(138,"a",66),T(139,"Learn More"),D()(),ie(140,"img",67),D()()(),I(141,"aside",68)(142,"div",69)(143,"h3",70),T(144,"Start mining now"),D(),I(145,"p",71),T(146," Join now with CRAPPO to get the latest news and start mining now "),D()(),I(147,"div",72),ie(148,"input",73),I(149,"a",74),T(150,"Subscribe"),D()()()())},dependencies:[Lt,hc]});let t=e;return t})();function U7(t,e){if(t&1){let n=ct();I(0,"button",8),Ce("click",function(){ot(n);let i=J(2).$implicit,s=J(3);return at(s.seguir(i.item.id))}),T(1,"Seguir"),D()}}function B7(t,e){if(t&1){let n=ct();I(0,"button",8),Ce("click",function(){ot(n);let i=J(2).$implicit,s=J(3);return at(s.seguir(i.item.id))}),T(1,"Dejar de seguir"),D()}}var eO=t=>["/detalle",t];function $7(t,e){if(t&1&&(I(0,"div",4)(1,"a",5),ie(2,"img",6),I(3,"h4"),T(4),I(5,"span"),T(6),D()(),ie(7,"img",6),D(),Fe(8,U7,2,0,"button",7)(9,B7,2,0,"button",7),D()),t&2){let n=J().$implicit,r=J(3);O(),V("routerLink",An(7,eO,n.item.id)),O(),V("src",n.item.small,on),O(2),xt("",n.item.name," "),O(2),Jn(n.item.symbol),O(),V("src",n.item.data.sparkline,on),O(),V("ngIf",r.comprobarMoneda(n.item.id)),O(),V("ngIf",!r.comprobarMoneda(n.item.id))}}function H7(t,e){if(t&1&&(I(0,"div"),Fe(1,$7,10,9,"div",3),D()),t&2){let n=e.$implicit;O(),V("ngIf",n.item)}}function z7(t,e){if(t&1&&(I(0,"div")(1,"h2"),T(2,"Monedas populares"),D(),Fe(3,H7,2,1,"div",2),D()),t&2){let n=J(2);O(3),V("ngForOf",n.ajax.items)}}function q7(t,e){if(t&1){let n=ct();I(0,"button",8),Ce("click",function(){ot(n);let i=J(2).$implicit,s=J(3);return at(s.seguir(i.id))}),T(1,"Seguir"),D()}}function W7(t,e){if(t&1){let n=ct();I(0,"button",8),Ce("click",function(){ot(n);let i=J(2).$implicit,s=J(3);return at(s.seguir(i.id))}),T(1,"Dejar de seguir"),D()}}function G7(t,e){if(t&1&&(I(0,"div")(1,"a",5),ie(2,"img",6),I(3,"h4"),T(4),I(5,"span"),T(6),D()()(),Fe(7,q7,2,0,"button",7)(8,W7,2,0,"button",7),D()),t&2){let n=J().$implicit,r=J(3);O(),V("routerLink",An(6,eO,n.id)),O(),V("src",n.large,on),O(2),xt("",n.name," "),O(2),Jn(n.symbol),O(),V("ngIf",r.comprobarMoneda(n.id)),O(),V("ngIf",!r.comprobarMoneda(n.id))}}function K7(t,e){if(t&1&&(I(0,"div"),Fe(1,G7,9,8,"div",1),D()),t&2){let n=e.$implicit;O(),V("ngIf",n)}}function Y7(t,e){if(t&1&&(I(0,"div")(1,"h2"),T(2,"Resultados"),D(),I(3,"div",9),Fe(4,K7,2,1,"div",2),D()()),t&2){let n=J(2);O(4),V("ngForOf",n.ajax.items)}}function Q7(t,e){if(t&1&&(I(0,"div"),Fe(1,z7,4,1,"div",1)(2,Y7,5,1,"div",1),D()),t&2){let n=J();O(),V("ngIf",n.busqueda==""),O(),V("ngIf",n.busqueda.length>2)}}var tO=(()=>{let e=class e{constructor(r,i,s){this.ajax=r,this.firestore=i,this.auth=s,this.busqueda=""}ngOnInit(){this.ajax.peticionAJAX(),this.firestore.obtenerDatos(this.auth.usuario.uid)}buscar(){this.miTimeout&&clearTimeout(this.miTimeout),this.busqueda.length>=3?this.miTimeout=setTimeout(()=>{this.miTimeout=null,this.ajax.peticionAJAX(this.busqueda)},500):this.busqueda==""&&(this.miTimeout=setTimeout(()=>{this.miTimeout=null,this.ajax.peticionAJAX()},500))}seguir(r){this.firestore.seguirCrypto(this.auth.usuario.uid,r)}comprobarMoneda(r){return!this.firestore.datos.map(i=>i.idMoneda).includes(r)}};e.\u0275fac=function(i){return new(i||e)(q(Vi),q(lc),q(En))},e.\u0275cmp=ut({type:e,selectors:[["app-monedas"]],standalone:!0,features:[ht],decls:2,vars:2,consts:[["name","busqueda","type","text","placeholder","Buscar monedas",1,"form-control","me-sm-2","buscar",3,"ngModel","keyup","ngModelChange"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","moneda",4,"ngIf"],[1,"moneda"],[1,"d-flex",3,"routerLink"],["alt","",3,"src"],["class","seguir",3,"click",4,"ngIf"],[1,"seguir",3,"click"],[1,"busqueda"]],template:function(i,s){i&1&&(I(0,"input",0),Ce("keyup",function(){return s.buscar()})("ngModelChange",function(a){return s.busqueda=a}),D(),Fe(1,Q7,3,2,"div",1)),i&2&&(V("ngModel",s.busqueda),O(),V("ngIf",s.ajax.items))},dependencies:[hc,dc,Lg,qu,Lt,wh,Zn,rr,nr],styles:["h2[_ngcontent-%COMP%]{margin-left:20vw;margin-top:5vh;margin-bottom:2vh}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:gray;font-size:60%}.busqueda[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border:1px solid gray;border-radius:10px;padding:10px;width:200px;height:300px;margin:20px;box-shadow:2px 2px 5px gray;transition:all 1s ease}.busqueda[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{box-shadow:none}.busqueda[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .busqueda[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.busqueda[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none}.busqueda[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{justify-self:flex-end}.busqueda[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:170px;margin-bottom:10px}.busqueda[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:80vw;margin-left:10vw}.buscar[_ngcontent-%COMP%]{width:20vw;margin-left:60vw;margin-top:50px;font-size:150%}"]});let t=e;return t})();var jg=(t,e)=>{let n=R(Kt);return R(En).usuario?!0:(n.navigate([""]),!1)};var uo=t=>["/detalle",t];function X7(t,e){if(t&1){let n=ct();I(0,"tr",4)(1,"td",5),ie(2,"img",6),D(),I(3,"td",7),T(4),I(5,"span"),T(6),Wo(7,"uppercase"),D()(),I(8,"td",5),T(9),D(),I(10,"td",5),T(11),D(),I(12,"td",5),T(13),D(),I(14,"td",5),T(15),D(),I(16,"td",5),T(17),D(),I(18,"td")(19,"button",8),Ce("click",function(){let s=ot(n).$implicit,o=J(2);return at(o.dejarSeguir(s.id))}),T(20,"Dejar de seguir"),D()()()}if(t&2){let n=e.$implicit;O(),V("routerLink",An(17,uo,n.id)),O(),V("src",n.image.small,on),O(),V("routerLink",An(19,uo,n.id)),O(),xt("",n.name," "),O(2),Jn(Go(7,15,n.symbol)),O(2),V("routerLink",An(21,uo,n.id)),O(),xt("",n.market_data.current_price.eur,"\u20AC"),O(),V("routerLink",An(23,uo,n.id)),O(),xt("",n.market_data.total_volume.eur,"\u20AC"),O(),V("routerLink",An(25,uo,n.id)),O(),xt("",n.market_data.market_cap.eur,"\u20AC"),O(),V("routerLink",An(27,uo,n.id)),O(),xt("",n.market_data.high_24h.eur,"\u20AC"),O(),V("routerLink",An(29,uo,n.id)),O(),xt("",n.market_data.low_24h.eur,"\u20AC")}}function J7(t,e){if(t&1&&(I(0,"table")(1,"tr"),ie(2,"th"),I(3,"th"),T(4,"Nombre"),D(),I(5,"th"),T(6,"Precio"),D(),I(7,"th"),T(8,"Capitalizaci\xF3n"),D(),I(9,"th"),T(10,"Volumen"),D(),I(11,"th"),T(12,"M\xE1ximo "),ie(13,"img",1),D(),I(14,"th"),T(15,"M\xEDnimo "),ie(16,"img",2),D(),ie(17,"th"),D(),I(18,"tr"),ie(19,"th"),D(),Fe(20,X7,21,31,"tr",3),D()),t&2){let n=J();O(20),V("ngForOf",n.ajax.seguidas)}}var nO=(()=>{let e=class e{constructor(r,i,s){this.ajax=r,this.firestore=i,this.auth=s}ngOnInit(){this.auth.usuario&&this.firestore.obtenerMonedas(this.auth.usuario.uid)}dejarSeguir(r){this.firestore.seguirCrypto(this.auth.usuario.uid,r,!0)}};e.\u0275fac=function(i){return new(i||e)(q(Vi),q(lc),q(En))},e.\u0275cmp=ut({type:e,selectors:[["app-portfolio"]],standalone:!0,features:[ht],decls:3,vars:1,consts:[[4,"ngIf"],["src","https://cdn.icon-icons.com/icons2/1094/PNG/512/uparrow_78484.png","alt","",1,"flecha"],["src","https://www.pngmart.com/files/15/Vector-Arrow-Down-Transparent-PNG.png","alt","",1,"flecha"],["class","seguida",4,"ngFor","ngForOf"],[1,"seguida"],[3,"routerLink"],["alt","",3,"src"],[1,"nombre",3,"routerLink"],[1,"seguir",3,"click"]],template:function(i,s){i&1&&(I(0,"h2"),T(1,"Seguimiento de monedas"),D(),Fe(2,J7,21,1,"table",0)),i&2&&(O(2),V("ngIf",s.ajax.seguidas))},dependencies:[Lt,wh,Zn,Qo,rr,nr],styles:[".flecha[_ngcontent-%COMP%]{width:15px}table[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-left:10vw;width:80vw;margin-top:5vh}table[_ngcontent-%COMP%]{text-align:center;font-size:150%}.seguida[_ngcontent-%COMP%]:hover{cursor:pointer}th[_ngcontent-%COMP%]{border:1px solid gainsboro;padding:10px}th[_ngcontent-%COMP%]:first-child{border:none}th[_ngcontent-%COMP%]:last-child{border:none}.seguida[_ngcontent-%COMP%]{height:50px}.seguida[_ngcontent-%COMP%]:hover{border-bottom:1px solid gainsboro;border-top:1px solid gainsboro}.nombre[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:70%;color:gray}table[_ngcontent-%COMP%]{border-bottom:20vh}"]});let t=e;return t})();function Z7(t,e){if(t&1){let n=ct();I(0,"input",7),Ce("ngModelChange",function(i){ot(n);let s=J();return at(s.displayName=i)}),D()}if(t&2){let n=J();V("ngModel",n.displayName)}}function eY(t,e){if(t&1){let n=ct();I(0,"input",8),Ce("ngModelChange",function(i){ot(n);let s=J();return at(s.password2=i)}),D()}if(t&2){let n=J();V("ngModel",n.password2)}}function tY(t,e){if(t&1){let n=ct();I(0,"button",6),Ce("click",function(){ot(n);let i=J();return at(i.iniciarSesion())}),T(1,"Iniciar Sesi\xF3n"),D()}}function nY(t,e){if(t&1){let n=ct();I(0,"button",6),Ce("click",function(){ot(n);let i=J();return at(i.registro())}),T(1,"Registrarse"),D()}}function rY(t,e){if(t&1){let n=ct();I(0,"button",6),Ce("click",function(){ot(n);let i=J();return at(i.registrarse=!1)}),T(1,"Ya tengo cuenta"),D()}}function iY(t,e){if(t&1){let n=ct();I(0,"button",6),Ce("click",function(){ot(n);let i=J();return at(i.registrarse=!0)}),T(1,"Crear una cuenta"),D()}}var rO=(()=>{let e=class e{constructor(r){this.auth=r,this.registrarse=!1,this.displayName="",this.email="",this.password="",this.password2=""}registro(){this.auth.registro(this.password,this.password2,this.email,this.displayName)}iniciarSesion(){this.auth.iniciarSesion(this.email,this.password)}iniciarSesionGoogle(){this.auth.iniciarSesionGoogle()}};e.\u0275fac=function(i){return new(i||e)(q(En))},e.\u0275cmp=ut({type:e,selectors:[["app-login"]],standalone:!0,features:[ht],decls:13,vars:8,consts:[[1,"formulario"],["type","text","name","nombre","id","nombre","placeholder","Nombre Completo",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","name","correo","id","correo","placeholder","Correo Electr\xF3nico",3,"ngModel","ngModelChange"],["type","password","name","contrase\xF1a","id","contrase\xF1a","placeholder","Contrase\xF1a",3,"ngModel","ngModelChange"],["type","password","name","contrase\xF1a2","id","contrase\xF1a2","placeholder","Repita la Contrase\xF1a",3,"ngModel","ngModelChange",4,"ngIf"],["class","seguir","id","login",3,"click",4,"ngIf"],["id","login",1,"seguir",3,"click"],["type","text","name","nombre","id","nombre","placeholder","Nombre Completo",3,"ngModel","ngModelChange"],["type","password","name","contrase\xF1a2","id","contrase\xF1a2","placeholder","Repita la Contrase\xF1a",3,"ngModel","ngModelChange"]],template:function(i,s){i&1&&(I(0,"div",0)(1,"h1"),T(2,"Bienvenido"),D(),Fe(3,Z7,1,1,"input",1),I(4,"input",2),Ce("ngModelChange",function(a){return s.email=a}),D(),I(5,"input",3),Ce("ngModelChange",function(a){return s.password=a}),D(),Fe(6,eY,1,1,"input",4)(7,tY,2,0,"button",5)(8,nY,2,0,"button",5),I(9,"button",6),Ce("click",function(){return s.iniciarSesionGoogle()}),T(10,"Iniciar Sesi\xF3n con Google"),D(),Fe(11,rY,2,0,"button",5)(12,iY,2,0,"button",5),D()),i&2&&(O(3),V("ngIf",s.registrarse),O(),V("ngModel",s.email),O(),V("ngModel",s.password),O(),V("ngIf",s.registrarse),O(),V("ngIf",!s.registrarse),O(),V("ngIf",s.registrarse),O(3),V("ngIf",s.registrarse),O(),V("ngIf",!s.registrarse))},dependencies:[Lt,Zn,hc,dc,Lg,qu],styles:[".formulario[_ngcontent-%COMP%]{margin-top:10vh;display:flex;flex-direction:column;width:40vw;margin-left:30vw;margin-bottom:30vh}.formulario[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:10px;font-size:150%;text-align:center}.seguir[_ngcontent-%COMP%]{width:100%;margin-top:10px;font-size:150%;border-radius:0}"]});let t=e;return t})();var iO=[{path:"",component:ZN},{path:"detalle/:id",component:kN,canActivate:[jg]},{path:"monedas",component:tO,canActivate:[jg]},{path:"portfolio",component:nO,canActivate:[jg]},{path:"login",component:rO}];var uO="firebasestorage.googleapis.com",sY="storageBucket",oY=2*60*1e3,aY=10*60*1e3;var Dr=class t extends Vt{constructor(e,n,r=0){super(UI(e),`Firebase Storage: ${n} (${UI(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return UI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},ri=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(ri||{});function UI(t){return"storage/"+t}function cY(){let t="An unknown error occurred, please check the error payload for server response.";return new Dr(ri.UNKNOWN,t)}function lY(){return new Dr(ri.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uY(){return new Dr(ri.CANCELED,"User canceled the upload/download.")}function dY(t){return new Dr(ri.INVALID_URL,"Invalid URL '"+t+"'.")}function hY(t){return new Dr(ri.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function sO(t){return new Dr(ri.INVALID_ARGUMENT,t)}function dO(){return new Dr(ri.APP_DELETED,"The Firebase app was deleted.")}function fY(t){return new Dr(ri.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var ni=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw hY(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function l(w){w.path_=decodeURIComponent(w.path)}let u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},m=n===uO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${g}`,"i"),E=[{regex:a,indices:c,postModify:s},{regex:f,indices:p,postModify:l},{regex:y,indices:{bucket:1,path:2},postModify:l}];for(let w=0;w<E.length;w++){let b=E[w],C=b.regex.exec(e);if(C){let M=C[b.indices.bucket],x=C[b.indices.path];x||(x=""),r=new t(M,x),b.postModify(r);break}}if(r==null)throw dY(e);return r}},BI=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function pY(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let l=!1;function u(...g){l||(l=!0,e.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,t(f,c())},g)}function h(){s&&clearTimeout(s)}function f(g,...y){if(l){h();return}if(g){h(),u.call(null,g,...y);return}if(c()||o){h(),u.call(null,g,...y);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,d(E)}let p=!1;function m(g){p||(p=!0,h(),!l&&(i!==null?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function gY(t){t(!1)}function mY(t){return t!==void 0}function oO(t,e,n,r){if(r<e)throw sO(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw sO(`Invalid value for '${t}'. Expected ${n} or less.`)}function yY(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var $I=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}($I||{});function _Y(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var HI=class{constructor(e,n,r,i,s,o,a,c,l,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new fc(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===$I.NO_ERROR,c=s.getStatus();if(!a||_Y(c,this.additionalRetryCodes_)&&this.retry){let u=s.getErrorCode()===$I.ABORT;r(!1,new fc(!1,null,u));return}let l=this.successCodes_.indexOf(c)!==-1;r(!0,new fc(l,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());mY(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=cY();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?dO():uY();o(c)}else{let c=lY();o(c)}};this.canceled_?n(!1,new fc(!1,null,!0)):this.backoffId_=pY(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gY(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},fc=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function vY(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function wY(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bY(t,e){e&&(t["X-Firebase-GMPID"]=e)}function EY(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function IY(t,e,n,r,i,s,o=!0){let a=yY(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return bY(l,e),vY(l,n),wY(l,s),EY(l,r),new HI(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function CY(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function DY(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var Xae=256*1024;var zI=class t{constructor(e,n){this._service=e,n instanceof ni?this._location=n:this._location=ni.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new ni(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DY(this._location.path)}get storage(){return this._service}get parent(){let e=CY(this._location.path);if(e===null)return null;let n=new ni(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw fY(e)}};function aO(t,e){let n=e?.[sY];return n==null?null:ni.makeFromBucketSpec(n,t)}function TY(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Of(i,t.app.options.projectId))}var qI=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=uO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oY,this._maxUploadRetryTime=aY,this._requests=new Set,i!=null?this._bucket=ni.makeFromBucketSpec(i,this._host):this._bucket=aO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ni.makeFromBucketSpec(this._url,e):this._bucket=aO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return _(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return _(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zI(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new BI(dO());{let o=IY(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return _(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},cO="@firebase/storage",lO="0.12.0";var hO="storage";function fO(t=Bi(),e){t=et(t);let r=Us(t,hO).getImmediate({identifier:e}),i=Nf("storage");return i&&pO(r,...i),r}function pO(t,e,n,r={}){TY(t,e,n,r)}function SY(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new qI(n,r,i,e,hr)}function xY(){dr(new Zt(hO,SY,"PUBLIC").setMultipleInstances(!0)),Le(cO,lO,""),Le(cO,lO,"esm2017")}xY();var Wu=class{constructor(e){return e}},gO="storage",WI=class{constructor(){return $s(gO)}};var GI=new U("angularfire2.storage-instances");function AY(t,e){let n=Ta(gO,t,e);return n&&new Wu(n)}function MY(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Wu(r)}}var RY={provide:WI,deps:[[new Ye,GI]]},PY={provide:Wu,useFactory:AY,deps:[[new Ye,GI],cn]},kY=(()=>{class t{constructor(){Le("angularfire",Wr.full,"gcs")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=st({type:t});static \u0275inj=it({providers:[PY,RY]})}return t})();function mO(t,...e){return{ngModule:kY,providers:[{provide:GI,useFactory:MY(t),multi:!0,deps:[me,dt,Hi,Gr,[new Ye,qs],[new Ye,$i],...e]}]}}var yO=zi(fO,!0);var _O={providers:[qx(iO,yv()),Qn([XS]),Qn($f(()=>Hf({projectId:"cryptotracker-28ea4",appId:"1:388100410903:web:c8d4e69108cc32a8329652",databaseURL:"https://cryptotracker-28ea4-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"cryptotracker-28ea4.appspot.com",apiKey:"AIzaSyD50unAKW4yj7Z38r10YBJa15OypiWLILQ",authDomain:"cryptotracker-28ea4.firebaseapp.com",messagingSenderId:"388100410903",measurementId:"G-JTTKZ8HBSK"}))),Qn(PI(()=>kI())),Qn($f(()=>Hf({projectId:"cryptotracker-28ea4",appId:"1:388100410903:web:c8d4e69108cc32a8329652",databaseURL:"https://cryptotracker-28ea4-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"cryptotracker-28ea4.appspot.com",apiKey:"AIzaSyD50unAKW4yj7Z38r10YBJa15OypiWLILQ",authDomain:"cryptotracker-28ea4.firebaseapp.com",messagingSenderId:"388100410903",measurementId:"G-JTTKZ8HBSK"}))),Qn(TP(()=>SP())),Qn(mO(()=>yO())),Qn($f(()=>Hf({projectId:"cryptotracker-28ea4",appId:"1:388100410903:web:c8d4e69108cc32a8329652",databaseURL:"https://cryptotracker-28ea4-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"cryptotracker-28ea4.appspot.com",apiKey:"AIzaSyD50unAKW4yj7Z38r10YBJa15OypiWLILQ",authDomain:"cryptotracker-28ea4.firebaseapp.com",messagingSenderId:"388100410903",measurementId:"G-JTTKZ8HBSK"}))),Qn(PI(()=>kI()))]};function NY(t,e){t&1&&(I(0,"div",12)(1,"button",13),T(2,"Iniciar Sesi\xF3n"),D()())}function OY(t,e){if(t&1){let n=ct();I(0,"div",12)(1,"p",14),T(2),Wo(3,"uppercase"),D(),I(4,"button",15),Ce("click",function(){ot(n);let i=J();return at(i.cerrarSesion())}),T(5,"Cerrar Sesi\xF3n"),D()()}if(t&2){let n=J();O(2),Jn(Go(3,1,n.auth.usuario.displayName))}}var vO=(()=>{let e=class e{constructor(r){this.auth=r;let i=kn();pp(i,s=>{s&&(this.auth.usuario=s)})}cerrarSesion(){this.auth.cerrarSesion()}};e.\u0275fac=function(i){return new(i||e)(q(En))},e.\u0275cmp=ut({type:e,selectors:[["app-cabecera"]],standalone:!0,features:[ht],decls:20,vars:2,consts:[[1,"navbar","navbar-expand-sm","navbar-light","bg-light"],[1,"container"],["routerLink","",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapsibleNavId","aria-controls","collapsibleNavId","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","d-lg-none"],[1,"navbar-toggler-icon"],["id","collapsibleNavId",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mt-2","mt-lg-0"],[1,"nav-item"],["routerLink","","aria-current","page",1,"nav-link"],["routerLink","monedas","routerLinkActive","activelink",1,"nav-link"],["routerLink","portfolio","routerLinkActive","activelink",1,"nav-link"],["class","d-flex my-2 my-lg-0",4,"ngIf"],[1,"d-flex","my-2","my-lg-0"],["routerLink","login",1,"btn","btn-outline-success","my-2","my-sm-0"],[1,"nombre"],[1,"btn","btn-outline-success","my-2","my-sm-0",3,"click"]],template:function(i,s){i&1&&(I(0,"header")(1,"nav",0)(2,"div",1)(3,"a",2),T(4,"CryptoTracker"),D(),I(5,"button",3),ie(6,"span",4),D(),I(7,"div",5)(8,"ul",6)(9,"li",7)(10,"a",8),T(11,"Inicio"),D()(),I(12,"li",7)(13,"a",9),T(14,"Monedas"),D()(),I(15,"li",7)(16,"a",10),T(17,"Portfolio"),D()()(),Fe(18,NY,3,0,"div",11)(19,OY,6,3,"div",11),D()()()()),i&2&&(O(18),V("ngIf",!s.auth.usuario),O(),V("ngIf",s.auth.usuario))},dependencies:[rr,nr,qh,Lt,Zn,Qo],styles:["header[_ngcontent-%COMP%]{font-size:150%;padding:10px}.navbar-brand[_ngcontent-%COMP%]{font-size:150%}.btn[_ngcontent-%COMP%]{font-size:100%}.nombre[_ngcontent-%COMP%]{margin-right:20px;margin-top:10px}.activelink[_ngcontent-%COMP%]{text-decoration:underline!important}"]});let t=e;return t})();var wO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ut({type:e,selectors:[["app-pie"]],standalone:!0,features:[ht],decls:14,vars:0,consts:[[1,"container"],[1,"py-3","my-4"],[1,"nav","justify-content-center","border-bottom","pb-3","mb-3"],[1,"nav-item"],["routerLink","",1,"nav-link","px-2","text-body-secondary"],["routerLink","monedas",1,"nav-link","px-2","text-body-secondary"],["routerLink","portfolio",1,"nav-link","px-2","text-body-secondary"],[1,"text-center","text-body-secondary"]],template:function(i,s){i&1&&(I(0,"div",0)(1,"footer",1)(2,"ul",2)(3,"li",3)(4,"a",4),T(5,"Inicio"),D()(),I(6,"li",3)(7,"a",5),T(8,"Monedas"),D()(),I(9,"li",3)(10,"a",6),T(11,"Portfolio"),D()()(),I(12,"p",7),T(13,"\xA92024 CryptoTracker, Pablo Vacas Garcia"),D()()())},dependencies:[rr,nr]});let t=e;return t})();var bO=(()=>{let e=class e{constructor(){this.detalleId=""}recogerId(r){this.detalleId=r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ut({type:e,selectors:[["app-root"]],standalone:!0,features:[ht],decls:3,vars:0,template:function(i,s){i&1&&ie(0,"app-cabecera")(1,"router-outlet")(2,"app-pie")},dependencies:[Lt,uv,vO,wO]});let t=e;return t})();sx(bO,_O).catch(t=>console.error(t));
